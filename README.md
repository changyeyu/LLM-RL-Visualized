<p align="center">
  <img src="src/assets/banner/å¹»ç¯ç‰‡2.SVG" alt="å›¾è§£å¤§æ¨¡å‹ç®—æ³•ï¼šLLM / RL / VLM æ ¸å¿ƒæŠ€æœ¯å›¾è°±" />
</p>

<p align="center">
  <a href="./src/README_EN.md">
    <img
      alt="English Version"
      src="https://img.shields.io/badge/English-Version-blue?style=for-the-badge"
      width="250"
      height="50"
    />
  </a> 
  &nbsp; &nbsp;&nbsp;

  <a href="./README.md">
    <img
      alt="Chinese ä¸­æ–‡ç‰ˆæœ¬"
      src="https://img.shields.io/badge/Chinese-ä¸­æ–‡ç‰ˆæœ¬-red?style=for-the-badge"
      width="250"
      height="50"
    />
  </a>    
</p>

---

## ç®€ ä»‹

ğŸ‰ **åŸåˆ› 100+ æ¶æ„å›¾ï¼Œç³»ç»Ÿè®²è§£å¤§æ¨¡å‹ã€å¼ºåŒ–å­¦ä¹ **ï¼Œæ¶µç›–ï¼šLLM / VLM ç­‰å¤§æ¨¡å‹åŸç†ã€è®­ç»ƒç®—æ³•ï¼ˆRLã€RLHFã€GRPOã€DPOã€SFT ä¸ CoT è’¸é¦ç­‰ï¼‰ã€æ•ˆæœä¼˜åŒ–ä¸ RAG ç­‰ã€‚  

ğŸ‰ å…³äºæ¶æ„å›¾<strong>æ›´è¯¦ç»†</strong>çš„è§£è¯»å¯å‚è€ƒï¼š<a href="https://book.douban.com/subject/37331056/">ã€Šå¤§æ¨¡å‹ç®—æ³•ï¼šå¼ºåŒ–å­¦ä¹ ã€å¾®è°ƒä¸å¯¹é½ã€‹</a> (è±†ç“£é«˜åˆ†ï¼Œå¤šæ¬¡äº¬ä¸œAIå›¾ä¹¦Top 5 ï¼)

ğŸ‰ æœ¬ä»“åº“**é•¿æœŸå‹˜è¯¯ã€è¿½åŠ **ï¼Œæ¬¢è¿ç‚¹å‡»ä»“åº“é¡¶éƒ¨çš„ **Star â­** å…³æ³¨ï¼Œæ„Ÿè°¢é¼“åŠ±âœ¨

ğŸ‰ å•å‡»å›¾ç‰‡å¯çœ‹é«˜æ¸…å¤§å›¾ï¼Œæˆ–æµè§ˆä»“åº“ç›®å½•ä¸­çš„ `.svg` æ ¼å¼çŸ¢é‡å›¾ï¼ˆæ´»å›¾ï¼Œå¯æ— é™ç¼©æ”¾ã€å¯é€‰æ‹©æ–‡å­—ï¼‰

---


## ç›® å½•

### ç¬¬1éƒ¨åˆ†ï¼šå¤§æ¨¡å‹ã€å¼ºåŒ–å­¦ä¹ çš„æŠ€æœ¯å…¨æ™¯å›¾
- [å¤§æ¨¡å‹ç®—æ³•æ€»ä½“æ¶æ„ï¼ˆä»¥LLMã€VLMä¸ºä¸»ï¼‰](#header-1)  
- [å¼ºåŒ–å­¦ä¹ ç®—æ³•å›¾è°± (rlâ€‘algoâ€‘map).pdfâ€”â€”å…¨ç½‘æœ€å¤§ï¼](#header-1.5)
- [LLMç»“æ„æ€»å›¾â€”â€”å…¨ç½‘æœ€å¤§ï¼](#header-2)  
- [ç­–ç•¥æ¢¯åº¦(Policy Gradient)-å¼ºåŒ–å­¦ä¹ (PPO&GRPOç­‰)ä¹‹æ ¹åŸº.pdf](#header-2.1)  

### ç¬¬2éƒ¨åˆ†ï¼šå¤§æ¨¡å‹åŸºç¡€
- [LLMï¼ˆLarge Language Modelï¼‰ç»“æ„](#header-3)  
- [LLMç”Ÿæˆä¸è§£ç ï¼ˆDecodingï¼‰è¿‡ç¨‹](#header-4)  
- [LLMè¾“å…¥å±‚](#header-5)  
- [LLMè¾“å‡ºå±‚](#header-6)  
- [å¤šæ¨¡æ€æ¨¡å‹ç»“æ„ï¼ˆVLMã€MLLM â€¦ï¼‰](#header-7)  
- [LLMè®­ç»ƒæµç¨‹](#header-8)

### ç¬¬3éƒ¨åˆ†ï¼šSFTï¼ˆæœ‰ç›‘ç£å¾®è°ƒï¼‰
- [å¾®è°ƒï¼ˆFineâ€‘Tuningï¼‰æŠ€æœ¯åˆ†ç±»](#header-9)  
- [LoRAï¼ˆ1 of 2ï¼‰](#header-10)  
- [LoRAï¼ˆ2 of 2ï¼‰](#header-11)  
- [Prefixâ€‘Tuning](#header-12)  
- [TokenIDä¸è¯å…ƒçš„æ˜ å°„å…³ç³»](#header-13)  
- [SFTçš„Lossï¼ˆäº¤å‰ç†µï¼‰](#header-14)  
- [æŒ‡ä»¤æ•°æ®çš„æ¥æº](#header-15)  
- [å¤šä¸ªæ•°æ®çš„æ‹¼æ¥ï¼ˆPackingï¼‰](#header-16)

### ç¬¬4éƒ¨åˆ†ï¼šDPOï¼ˆç›´æ¥åå¥½ä¼˜åŒ–ï¼‰
- [RLHFä¸DPOçš„è®­ç»ƒæ¶æ„å¯¹æ¯”](#header-17)  
- [Promptçš„æ”¶é›†](#header-18)  
- [DPOï¼ˆDirect Preference Optimizationï¼‰](#header-19)  
- [DPOè®­ç»ƒå…¨æ™¯å›¾](#header-20)  
- [Î²å‚æ•°å¯¹DPOçš„å½±å“](#header-21)  
- [éšå¼å¥–åŠ±å·®å¼‚å¯¹å‚æ•°æ›´æ–°å¹…åº¦çš„å½±å“](#header-22)

### ç¬¬5éƒ¨åˆ†ï¼šå…è®­ç»ƒçš„å¤§æ¨¡å‹ä¼˜åŒ–æŠ€æœ¯
- [CoTï¼ˆChain of Thoughtï¼‰ä¸ä¼ ç»Ÿé—®ç­”çš„å¯¹æ¯”](#header-23)  
- [CoTã€Selfâ€‘consistency CoTã€ToTã€GoT](#header-24)  
- [ç©·ä¸¾æœç´¢ï¼ˆExhaustive Searchï¼‰](#header-25)  
- [è´ªå©ªæœç´¢ï¼ˆGreedy Searchï¼‰](#header-26)  
- [æ³¢æŸæœç´¢ï¼ˆBeam Searchï¼‰](#header-27)  
- [å¤šé¡¹å¼é‡‡æ ·ï¼ˆMultinomial Samplingï¼‰](#header-28)  
- [Topâ€‘Ké‡‡æ ·ï¼ˆTopâ€‘K Samplingï¼‰](#header-29)  
- [Topâ€‘Pé‡‡æ ·ï¼ˆTopâ€‘P Samplingï¼‰](#header-30)  
- [RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆ, Retrievalâ€‘Augmented Generationï¼‰](#header-31)  
- [åŠŸèƒ½è°ƒç”¨ï¼ˆFunction Callingï¼‰](#header-32)

### ç¬¬6éƒ¨åˆ†ï¼šå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰åŸºç¡€
- [å¼ºåŒ–å­¦ä¹ (Reinforcement Learning, RL)çš„å‘å±•å†ç¨‹](#header-33)  
- [ä¸‰å¤§æœºå™¨å­¦ä¹ èŒƒå¼](#header-34)  
- [å¼ºåŒ–å­¦ä¹ çš„åŸºç¡€æ¶æ„](#header-35)  
- [å¼ºåŒ–å­¦ä¹ çš„è¿è¡Œè½¨è¿¹](#header-36)  
- [é©¬å°”å¯å¤«é“¾ vs é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰](#header-37)  
- [æ¢ç´¢ä¸åˆ©ç”¨é—®é¢˜ï¼ˆExploration and Exploitationï¼‰](#header-38)  
- [Æâ€‘è´ªå©ªç­–ç•¥ä¸‹ä½¿ç”¨åŠ¨æ€çš„Æå€¼](#header-39)  
- [å¼ºåŒ–å­¦ä¹ è®­ç»ƒèŒƒå¼çš„å¯¹æ¯”](#header-40)  
- [å¼ºåŒ–å­¦ä¹ ç®—æ³•åˆ†ç±»](#header-41)  
- [å›æŠ¥ï¼ˆç´¯è®¡å¥–åŠ±ï¼ŒReturnï¼‰](#header-42)  
- [åå‘è¿­ä»£å¹¶è®¡ç®—å›æŠ¥ G](#header-43)  
- [å¥–åŠ±ï¼ˆRewardï¼‰ã€å›æŠ¥ï¼ˆReturnï¼‰ã€ä»·å€¼ï¼ˆValueï¼‰çš„å…³ç³»](#header-44)  
- [ä»·å€¼å‡½æ•° QÏ€ ä¸ VÏ€ çš„å…³ç³»](#header-45)  
- [è’™ç‰¹å¡æ´›ï¼ˆMonte Carloï¼ŒMCï¼‰æ³•é¢„ä¼°çŠ¶æ€ St çš„ä»·å€¼](#header-46)  
- [TD ç›®æ ‡ä¸ TD è¯¯å·®çš„å…³ç³»ï¼ˆTD target and TD errorï¼‰](#header-47)  
- [TD(0)ã€å¤šæ­¥ TD ä¸è’™ç‰¹å¡æ´›çš„å…³ç³»](#header-48)  
- [è’™ç‰¹å¡æ´›æ–¹æ³•ä¸ TD æ–¹æ³•çš„ç‰¹æ€§](#header-49)  
- [è’™ç‰¹å¡æ´›ã€TDã€DPã€ç©·ä¸¾æœç´¢çš„å…³ç³»](#header-50)  
- [ä¸¤ç§è¾“å…¥è¾“å‡ºç»“æ„çš„ DQNï¼ˆDeep Q-Networkï¼‰æ¨¡å‹](#header-51)  
- [DQN çš„å®é™…åº”ç”¨ç¤ºä¾‹](#header-52)  
- [DQN çš„â€œé«˜ä¼°â€é—®é¢˜](#header-53)  
- [åŸºäºä»·å€¼ vs ç­–ç•¥ï¼ˆValue-Based vs Policy-Basedï¼‰](#header-54)  
- [ç­–ç•¥æ¢¯åº¦ï¼ˆPolicy Gradientï¼‰](#header-55)  
- [å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ ï¼ˆMARLï¼ŒMulti-agent reinforcement learningï¼‰](#header-56)  
- [å¤šæ™ºèƒ½ä½“ DDPG](#header-57)  
- [æ¨¡ä»¿å­¦ä¹ ï¼ˆILï¼ŒImitation Learningï¼‰](#header-58)  
- [è¡Œä¸ºå…‹éš†ï¼ˆBCï¼ŒBehavior Cloningï¼‰](#header-59)  
- [é€†å‘å¼ºåŒ–å­¦ä¹ ï¼ˆIRLï¼ŒInverse RLï¼‰](#header-60)  
- [æœ‰æ¨¡å‹ï¼ˆModel-Basedï¼‰ vs æ— æ¨¡å‹ï¼ˆModel-Freeï¼‰](#header-61)  
- [å°å»ºç­‰çº§å¼ºåŒ–å­¦ä¹ ï¼ˆFeudal RLï¼‰](#header-62)  
- [åˆ†å¸ƒä»·å€¼å¼ºåŒ–å­¦ä¹ ï¼ˆDistributional RLï¼‰](#header-63)

### ç¬¬7éƒ¨åˆ†ï¼šç­–ç•¥ä¼˜åŒ–æ¶æ„åŠè¡ç”Ÿç®—æ³•
- [Actorâ€‘Critic æ¶æ„](#header-64)  
- [å¼•å…¥åŸºçº¿ä¸ä¼˜åŠ¿å‡½æ•° A ï¼ˆAdvantageï¼‰çš„ä½œç”¨](#header-65)  
- [GAEï¼ˆå¹¿ä¹‰ä¼˜åŠ¿ä¼°è®¡,Generalized Advantage Estimationï¼‰ç®—æ³•](#header-66)  
- [PPOï¼ˆProximal Policy Optimizationï¼‰ç®—æ³•çš„æ¼”è¿›](#header-67)  
- [TRPOï¼ˆTrust Region Policy Optimizationï¼‰åŠå…¶ç½®ä¿¡åŸŸ](#header-68)  
- [é‡è¦æ€§é‡‡æ ·ï¼ˆImportance samplingï¼‰](#header-69)  
- [PPOâ€‘Clip](#header-70)  
- [PPOè®­ç»ƒä¸­ç­–ç•¥æ¨¡å‹çš„æ›´æ–°è¿‡ç¨‹](#header-71)  
- [PPO ä¼ªä»£ç ](#header-71-2)  
- [**PPO ä¸ GRPO**](#header-72)  
- [ç¡®å®šæ€§ vs éšæœºæ€§ç­–ç•¥ï¼ˆDeterministic policy vs. Stochastic policyï¼‰](#header-73)  
- [ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦ï¼ˆDPGï¼‰](#header-74)  
- [DDPGï¼ˆDeep Deterministic Policy Gradientï¼‰](#header-75)

### ç¬¬8éƒ¨åˆ†ï¼šRLHF ä¸ RLAIF
- [è¯­è¨€æ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ å»ºæ¨¡](#header-76)  
- [RLHF çš„ä¸¤é˜¶æ®µå¼è®­ç»ƒæµç¨‹](#header-77)  
- [å¥–åŠ±æ¨¡å‹ï¼ˆRMï¼‰ç»“æ„](#header-78)  
- [å¥–åŠ±æ¨¡å‹çš„è¾“å…¥è¾“å‡º](#header-79)  
- [é¢„æµ‹åå·®ä¸ Loss çš„å…³ç³»](#header-80)  
- [å¥–åŠ±æ¨¡å‹çš„è®­ç»ƒ](#header-81)  
- [PPO ä¸­å››ç§æ¨¡å‹çš„åˆä½œå…³ç³»](#header-82)  
- [PPO ä¸­å››ç§æ¨¡å‹çš„ç»“æ„ä¸åˆå§‹åŒ–](#header-83)  
- [åŒå¤´ç»“æ„çš„ä»·å€¼æ¨¡å‹](#header-84)  
- [å…±äº«åº•åº§çš„å››ç§æ¨¡å‹](#header-85)  
- [PPO è¾“å…¥ä¸è¾“å‡º](#header-86)  
- [PPO ä¸­çš„ KL è·ç¦»è®¡ç®—](#header-87)  
- [åŸºäº PPO çš„ RLHF åŸç†å›¾](#header-88)  
- [æ‹’ç»é‡‡æ ·ï¼ˆRejection Samplingï¼‰å¾®è°ƒ](#header-89)  
- [RLAIF ä¸ RLHF çš„åŒºåˆ«](#header-90)  
- [Claudeæ¨¡å‹åº”ç”¨çš„å®ªæ³•AIï¼ˆCAIï¼‰åŸç†](#header-91)  
- [OpenAI RBRï¼ˆåŸºäºè§„åˆ™çš„å¥–åŠ±ï¼‰](#header-92)

### ç¬¬9éƒ¨åˆ†ï¼šé€»è¾‘æ¨ç†ï¼ˆReasoningï¼‰èƒ½åŠ›ä¼˜åŒ–
- [åŸºäº CoT çš„çŸ¥è¯†è’¸é¦ï¼ˆKnowledge Distillationï¼‰](#header-93)  
- [åŸºäº DeepSeek è¿›è¡Œè’¸é¦](#header-94)  
- [ORM å’Œ PRMï¼ˆç»“æœå¥–åŠ±æ¨¡å‹å’Œè¿‡ç¨‹å¥–åŠ±æ¨¡å‹ï¼‰](#header-95)  
- [MCTS æ¯æ¬¡è¿­ä»£çš„å››ä¸ªå…³é”®æ­¥éª¤](#header-96)  
- [MCTS çš„è¿è¡Œè¿‡ç¨‹](#header-97)  
- [è¯­è¨€åœºæ™¯ä¸‹çš„æœç´¢æ ‘ç¤ºä¾‹](#header-98)  
- [BoNï¼ˆBestâ€‘ofâ€‘Nï¼‰é‡‡æ ·](#header-99)  
- [å¤šæ•°æŠ•ç¥¨ï¼ˆMajority Voteï¼‰æ–¹æ³•](#header-100)  
- [AlphaGo Zero æ€§èƒ½å¢é•¿è¶‹åŠ¿](#header-101)

### ç¬¬10éƒ¨åˆ†ï¼šå¤§æ¨¡å‹åŸºç¡€æ‹“å±•
- [å¤§æ¨¡å‹æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯å›¾è°±](#header-102)  
- [ALiBi ä½ç½®ç¼–ç ](#header-103)  
- [ä¼ ç»Ÿçš„çŸ¥è¯†è’¸é¦](#header-104)  
- [æ•°å€¼è¡¨ç¤ºã€é‡åŒ–ï¼ˆQuantizationï¼‰](#header-105)  
- [å¸¸è§„è®­ç»ƒçš„å‰å‘/åå‘è¿‡ç¨‹](#header-106)  
- [æ¢¯åº¦ç´¯ç§¯ï¼ˆGradient Accumulationï¼‰](#header-107)  
- [Gradient Checkpointï¼ˆæ¢¯åº¦é‡è®¡ç®—ï¼‰](#header-108)  
- [Full recomputation(å®Œå…¨é‡è®¡ç®—)](#header-109)  
- [LLM Benchmark](#header-110)  
- [MHAã€GQAã€MQAã€MLA](#header-111)  
- [RNN](#header-112)  
- [Preâ€‘norm ä¸ Postâ€‘norm](#header-113)  
- [BatchNorm ä¸ LayerNorm](#header-114)  
- [RMSNorm](#header-115)  
- [å‰ªæï¼ˆPruneï¼‰](#header-116)  
- [æ¸©åº¦ç³»æ•°çš„ä½œç”¨](#header-117)  
- [SwiGLU](#header-118)  
- [AUCã€PRã€F1ã€Precisionã€Recall](#header-119)  
- [RoPE ä½ç½®ç¼–ç ](#header-120)  
- [RoPE å¯¹åºåˆ—ä½ç½®ä¸å„ç»´åº¦çš„ä½œç”¨](#header-121)

### ç¬¬11éƒ¨åˆ†ï¼šé™„å½•ä¸å¼•ç”¨
- [æ‰€æœ‰æ¶æ„å›¾çš„æ–‡å­—è¯¦è§£âœï¸ã€æ›´å¤šæ¶æ„å›¾ğŸ–¼ï¸](#header-122)  
- [ä¹¦ç±å‚è€ƒæ–‡çŒ®](#header-123)  
- [ç”¨äºå‚è€ƒæ–‡çŒ®ï¼ˆå¼•ç”¨æ ¼å¼ï¼‰](#header-124)  
- [BibTeXï¼ˆå¼•ç”¨æ ¼å¼ï¼‰](#header-125)

<br>

---

### <a name="header-1"></a>å¤§æ¨¡å‹ç®—æ³•æ€»ä½“æ¶æ„ï¼ˆä»¥LLMã€VLMä¸ºä¸»ï¼‰
<img src="src/assets/å¤§æ¨¡å‹ç®—æ³•-å†…å®¹æ¶æ„-zh.png" alt="å¤§æ¨¡å‹ç®—æ³•-å†…å®¹æ¶æ„">

### <a name="header-1.5"></a> å¼ºåŒ–å­¦ä¹ ç®—æ³•å›¾è°± (rl-algo-map).pdfâ€”â€”å…¨ç½‘æœ€å¤§ï¼
- æœ¬äººå†æ—¶æ•°å¤©ã€å‘•å¿ƒæ²¥è¡€ä¹‹ä½œï¼Œç‚¹å‡»æœ¬ä»“åº“å³ä¸Šè§’ â†— çš„ **Star â­** ï¼Œå°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„é¼“åŠ±å•¦ï¼
- ä¸‹å›¾ä»…ä¸ºé¢„è§ˆå›¾ï¼Œé«˜æ¸…å›¾è§ï¼š <a href="https://github.com/changyeyu/LLM-RL-Visualized/blob/master/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E5%9B%BE%E8%B0%B1%20(rl-algo-map).pdf"> å¼ºåŒ–å­¦ä¹ ç®—æ³•å›¾è°± (rl-algo-map).pdf </a>
[![å¼ºåŒ–å­¦ä¹ ç®—æ³•å›¾è°± (rl-algo-map).pdf](images_chinese/rl-algo-map-preview.png)](https://github.com/changyeyu/LLM-RL-Visualized/blob/master/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E5%9B%BE%E8%B0%B1%20(rl-algo-map).pdf)

### <a name="header-2"></a>ã€LLMåŸºç¡€ã€‘LLMç»“æ„æ€»å›¾â€”â€”å…¨ç½‘æœ€å¤§ï¼
- æœ¬äººå†æ—¶å‡ åä¸ªå°æ—¶ã€å‘•å¿ƒæ²¥è¡€ä¹‹ä½œï¼Œç‚¹å‡»æœ¬ä»“åº“å³ä¸Šè§’ â†— çš„ **Star â­** ï¼Œå°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„é¼“åŠ±å•¦ï¼
- LLMä¸»è¦æœ‰Decoder-Onlyï¼ˆä»…è§£ç å™¨ï¼‰æˆ–MoEï¼ˆMixture of Experts, ä¸“å®¶æ··åˆæ¨¡å‹ï¼‰ä¸¤ç§å½¢å¼ï¼Œä¸¤è€…åœ¨æ•´ä½“æ¶æ„ä¸Šè¾ƒä¸ºç›¸ä¼¼ï¼Œä¸»è¦åŒºåˆ«ä¸ºMoEåœ¨FFNï¼ˆå‰é¦ˆç½‘ç»œï¼‰éƒ¨åˆ†å¼•å…¥äº†å¤šä¸ªä¸“å®¶ç½‘ç»œã€‚
[![ã€LLMåŸºç¡€ã€‘LLMç»“æ„å…¨è§†å›¾](images_chinese/source_svg/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E7%BB%93%E6%9E%84%E5%85%A8%E8%A7%86%E5%9B%BE.svg)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/source_svg/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E7%BB%93%E6%9E%84%E5%85%A8%E8%A7%86%E5%9B%BE.svg)


### <a name="header-2.1"></a> ç­–ç•¥æ¢¯åº¦(Policy Gradient)-å¼ºåŒ–å­¦ä¹ (PPO&GRPOç­‰)ä¹‹æ ¹åŸº.pdf
- æ‰‹æ’•æ¨å¯¼ RL æ ¸å¿ƒç†è®ºä¹‹ä¸€ ï¼Œå›¾çµå¥–å¾—ä¸» Sutton æå‡ºã€‚
- å¤§æ¨¡å‹è®­ç»ƒç®—æ³•ä¹‹æ ¹åŸºï¼ˆè¢«ChatGPTã€DeepSeek ç­‰å¹¿æ³›ä½¿ç”¨çš„ PPO å’Œ GRPO ç®—æ³•éƒ½æ˜¯åŸºäºç­–ç•¥æ¢¯åº¦ï¼‰ã€‚
- å¾ˆé‡è¦ ä½†å¸¸å¸¸è¢«æ··æ·†çš„ä¸€éƒ¨åˆ†å†…å®¹ï¼Œæˆ‘é‡æ–°æ¨å¯¼å…¬å¼ã€ç”»åŸç†å›¾è§£é‡Šäº†ä¸€ä¸‹ï¼ˆçª„ç‰ˆæ’ç‰ˆï¼‰ :
<a href="https://github.com/changyeyu/LLM-RL-Visualized/blob/master/%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6%28Policy%20Gradient%29-%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%28PPO%26GRPO%E7%AD%89%29%E4%B9%8B%E6%A0%B9%E5%9F%BA.pdf
"> ç­–ç•¥æ¢¯åº¦(Policy Gradient)-å¼ºåŒ–å­¦ä¹ (PPO&GRPOç­‰)ä¹‹æ ¹åŸº.pdf </a>


### <a name="header-3"></a>ã€LLMåŸºç¡€ã€‘LLMï¼ˆLarge Language Modelï¼‰ç»“æ„
- LLMä¸»è¦æœ‰Decoder-Onlyï¼ˆä»…è§£ç å™¨ï¼‰æˆ–MoEï¼ˆMixture of Experts, ä¸“å®¶æ··åˆæ¨¡å‹ï¼‰**ä¸¤ç§å½¢å¼**ï¼Œä¸¤è€…åœ¨æ•´ä½“æ¶æ„ä¸Šè¾ƒä¸º**ç›¸ä¼¼**ï¼Œä¸»è¦åŒºåˆ«ä¸ºMoEåœ¨FFNï¼ˆå‰é¦ˆç½‘ç»œï¼‰éƒ¨åˆ†å¼•å…¥äº†å¤šä¸ªä¸“å®¶ç½‘ç»œã€‚
- ä¸€ä¸ªå…¸å‹çš„LLMç»“æ„ï¼Œå¯åˆ†ä¸º**ä¸‰éƒ¨åˆ†**â€”â€”è¾“å…¥å±‚ã€å¤šå±‚Decoderå †å ç»“æ„å’Œè¾“å‡ºå±‚ï¼ˆåŒ…æ‹¬è¯­è¨€æ¨¡å‹å¤´ä¸è§£ç æ¨¡å—ï¼‰

[![ã€LLMåŸºç¡€ã€‘LLMç»“æ„](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E7%BB%93%E6%9E%84.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E7%BB%93%E6%9E%84.png)

### <a name="header-4"></a>ã€LLMåŸºç¡€ã€‘LLMç”Ÿæˆä¸è§£ç ï¼ˆDecodingï¼‰è¿‡ç¨‹
- **è§£ç ç­–ç•¥**æ˜¯å†³å®šæœ€ç»ˆè¾“å‡ºæ–‡æœ¬æµç•…æ€§ã€å¤šæ ·æ€§åŠæ•´ä½“è¡¨ç°çš„æ ¸å¿ƒå› ç´ ã€‚**å¸¸è§**çš„è§£ç ç®—æ³•åŒ…æ‹¬ï¼šè´ªå©ªæœç´¢ã€æ³¢æŸæœç´¢ï¼ˆBeam Searchï¼‰åŠå…¶è¡ç”Ÿç®—æ³•ã€å¤šé¡¹å¼é‡‡æ ·ã€Top-Ké‡‡æ ·ã€Top-Pé‡‡æ ·ã€å¯¹æ¯”æœç´¢ï¼ˆContrastive Searchï¼‰ã€æŠ•æœºè§£ç ï¼ˆSpeculative Decodingï¼‰ã€å‰ç»è§£ç ï¼ˆLookahead Decodingï¼‰ã€DoLaè§£ç ç­‰ã€‚
- LLMçš„è¾“å‡ºå±‚è´Ÿè´£æ ¹æ®æ¦‚ç‡åˆ†å¸ƒï¼Œåº”ç”¨**è§£ç ç®—æ³•**ç¡®å®šæœ€ç»ˆé¢„æµ‹çš„ä¸‹ä¸€ä¸ª/Nä¸ªè¯å…ƒã€‚
- æ ¹æ®æ¦‚ç‡åˆ†å¸ƒï¼Œåº”ç”¨è§£ç ç­–ç•¥ï¼ˆä¾‹å¦‚éšæœºé‡‡æ ·æˆ–é€‰æ‹©æœ€å¤§æ¦‚ç‡ï¼‰ç¡®å®šæœ€ç»ˆé¢„æµ‹çš„**ä¸‹ä¸€ä¸ª**è¯å…ƒã€‚ä¾‹å¦‚ï¼Œåœ¨è´ªå©ªæœç´¢è§£ç ç­–ç•¥ä¸‹ï¼Œé€‰æ‹©æ¦‚ç‡æœ€é«˜çš„è¯å…ƒâ€œæˆ‘â€ä½œä¸ºé¢„æµ‹ç»“æœã€‚
- æ¯ä¸€ä¸ªtokenï¼ˆè¯å…ƒï¼‰çš„ç”Ÿæˆéƒ½éœ€è¦**é‡æ–°èµ°ä¸€é**æ‰€æœ‰å±‚Transformerç»“æ„ã€‚
- è¿™é‡Œåªå±•ç¤ºäº†æ¯æ¬¡é¢„æµ‹ä¸€ä¸ªè¯å…ƒçš„æ–¹æ¡ˆï¼Œä¹Ÿæœ‰ä¸€æ¬¡æ€§é¢„æµ‹**å¤šä¸ªè¯å…ƒ**çš„æ–¹æ¡ˆï¼Œè¯¦è§ã€Šå¤§æ¨¡å‹ç®—æ³•ï¼šå¼ºåŒ–å­¦ä¹ ã€å¾®è°ƒä¸å¯¹é½ã€‹ç¬¬å››ç« ã€‚
[![ã€LLMåŸºç¡€ã€‘LLMç”Ÿæˆä¸è§£ç è¿‡ç¨‹](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E7%94%9F%E6%88%90%E4%B8%8E%E8%A7%A3%E7%A0%81%E8%BF%87%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E7%94%9F%E6%88%90%E4%B8%8E%E8%A7%A3%E7%A0%81%E8%BF%87%E7%A8%8B.png)

### <a name="header-5"></a>ã€LLMåŸºç¡€ã€‘LLMè¾“å…¥å±‚
- LLMçš„è¾“å…¥å±‚å°†è¾“å…¥**æ–‡æœ¬**è½¬æ¢ä¸ºå¤šç»´**æ•°å€¼çŸ©é˜µ**ï¼ˆTensorï¼Œå¼ é‡ï¼‰ï¼Œä»¥ä¾¿é€å¾€æ¨¡å‹ä¸»ä½“ç»“æ„è¿›è¡Œè®¡ç®—ã€‚
[![ã€LLMåŸºç¡€ã€‘LLMè¾“å…¥å±‚](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E8%BE%93%E5%85%A5%E5%B1%82.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E8%BE%93%E5%85%A5%E5%B1%82.png)

### <a name="header-6"></a>ã€LLMåŸºç¡€ã€‘LLMè¾“å‡ºå±‚
LLMçš„è¾“å‡ºå±‚è´Ÿè´£æ ¹æ®éšè—çŠ¶æ€ï¼ˆå¤šç»´æ•°å€¼çŸ©é˜µï¼‰é¢„æµ‹ä¸‹ä¸€ä¸ªè¯å…ƒï¼ˆæ–‡æœ¬ï¼‰ã€‚å¤„ç†æµç¨‹å¦‚å›¾æ‰€ç¤ºï¼š
- ï¼ˆ1ï¼‰**è¾“å…¥éšè—çŠ¶æ€**ï¼šDecoderæœ€åä¸€å±‚çš„éšè—çŠ¶æ€ï¼ˆHidden Statesï¼‰ä½œä¸ºLLMè¾“å‡ºå±‚çš„è¾“å…¥ã€‚å¦‚å›¾ä¸­æ‰€ç¤ºç»´åº¦ä¸º3Ã—896çš„æ•°å€¼çŸ©é˜µï¼ŒåŒ…å«äº†å‰ç¼€åºåˆ—çš„æ‰€æœ‰è¯­ä¹‰ä¿¡æ¯ã€‚
- ï¼ˆ2ï¼‰**è¯­è¨€æ¨¡å‹å¤´**ï¼ˆLM Headï¼‰ï¼šé€šå¸¸æ˜¯ä¸€ä¸ªå…¨è¿æ¥å±‚ï¼Œç”¨äºå°†éšè—çŠ¶æ€è½¬æ¢ä¸ºLogitsï¼ˆæ¨ç†æ—¶åªè®¡ç®—æœ€åä¸€ä¸ªä½ç½®çš„Logitsï¼‰ã€‚å¦‚å›¾æ‰€ç¤ºï¼ŒLogitsçš„å½¢çŠ¶ä¸º3Ã—151936ï¼Œå¯¹åº”äºè¯è¡¨ä¸­æ¯ä¸ªè¯å…ƒçš„å¾—åˆ†ã€‚
- ï¼ˆ3ï¼‰**æå–æœ€åä½ç½®çš„Logits**ï¼šé¢„æµ‹ä¸‹ä¸€ä¸ªè¯å…ƒä»…ä¾èµ–äºå‰ç¼€åºåˆ—æœ€åä¸€ä¸ªä½ç½®çš„Logitsï¼Œå› æ­¤éœ€è¦ä»æ‰€æœ‰ä½ç½®çš„Logitsä¸­æå–æœ€åä¸€ä¸ªä½ç½®çš„Logitsã€‚å¦‚å›¾æ‰€ç¤ºï¼Œæå–å¾—åˆ°ä¸€ä¸ª151936ç»´çš„å‘é‡ [2.0, 3.1, âˆ’1.7, ... , âˆ’1.7]ï¼Œç”¨äºåç»­é¢„æµ‹ã€‚
- ï¼ˆ4ï¼‰**è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒ**ï¼ˆSoftmaxï¼‰ï¼šé€šè¿‡Softmaxå‡½æ•°å°†Logitsè½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒï¼Œå¾—åˆ°è¯è¡¨ä¸­æ¯ä¸ªè¯å…ƒçš„æ¦‚ç‡ã€‚ä¾‹å¦‚ï¼Œç”Ÿæˆçš„151936ç»´æ¦‚ç‡å‘é‡ä¸º[0.01, 0.03, 0.001, ... , 0.001]ï¼Œè¯¥å‘é‡å†…æ‰€æœ‰æ¦‚ç‡ä¹‹å’Œä¸º1ã€‚æ¦‚ç‡å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºè¯¥è¯å…ƒä½œä¸ºä¸‹ä¸€ä¸ªè¯å…ƒçš„å¯èƒ½æ€§è¶Šé«˜ã€‚ä¾‹å¦‚ï¼Œâ€œæˆ‘â€çš„æ¦‚ç‡ä¸º0.34ã€‚
- ï¼ˆ5ï¼‰**è§£ç ï¼ˆDecodingï¼‰**ï¼šæ ¹æ®æ¦‚ç‡åˆ†å¸ƒï¼Œåº”ç”¨è§£ç ç­–ç•¥ï¼ˆä¾‹å¦‚éšæœºé‡‡æ ·æˆ–é€‰æ‹©æœ€å¤§æ¦‚ç‡ï¼‰ç¡®å®šæœ€ç»ˆé¢„æµ‹çš„ä¸‹ä¸€ä¸ªè¯å…ƒã€‚ä¾‹å¦‚ï¼Œåœ¨è´ªå©ªæœç´¢è§£ç ç­–ç•¥ä¸‹ï¼Œé€‰æ‹©æ¦‚ç‡æœ€é«˜çš„è¯å…ƒâ€œæˆ‘â€ä½œä¸ºé¢„æµ‹ç»“æœã€‚
[![ã€LLMåŸºç¡€ã€‘LLMè¾“å‡ºå±‚](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E8%BE%93%E5%87%BA%E5%B1%82.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E8%BE%93%E5%87%BA%E5%B1%82.png)

### <a name="header-7"></a>ã€LLMåŸºç¡€ã€‘å¤šæ¨¡æ€æ¨¡å‹ç»“æ„ï¼ˆVLMã€MLLM ...ï¼‰
å¤šæ¨¡æ€æ¨¡å‹æ ¹æ®ä¾§é‡ä¸åŒï¼Œé€šå¸¸æœ‰ä»¥ä¸‹**å¤šç§ç§°å‘¼**ï¼š
- **VLM**ï¼ˆVision-Language Modelï¼Œè§†è§‰è¯­è¨€æ¨¡å‹ï¼‰
- **MLLM**ï¼ˆMultimodal Large Language Modelï¼Œå¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ï¼‰
- **VLA**ï¼ˆVision-Language-Action Modelï¼Œè§†è§‰è¯­è¨€åŠ¨ä½œæ¨¡å‹ï¼‰
[![ã€LLMåŸºç¡€ã€‘å¤šæ¨¡æ€æ¨¡å‹ç»“æ„](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91%E5%A4%9A%E6%A8%A1%E6%80%81%E6%A8%A1%E5%9E%8B%E7%BB%93%E6%9E%84.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91%E5%A4%9A%E6%A8%A1%E6%80%81%E6%A8%A1%E5%9E%8B%E7%BB%93%E6%9E%84.png)

### <a name="header-8"></a>ã€LLMåŸºç¡€ã€‘LLMè®­ç»ƒæµç¨‹
- å¤§æ¨¡å‹çš„è®­ç»ƒä¸»è¦åˆ†ä¸º**ä¸¤ä¸ªé˜¶æ®µ**â€”â€”é¢„è®­ç»ƒï¼ˆPre-Trainingï¼‰å’Œåè®­ç»ƒï¼ˆPost-Trainingï¼‰ã€‚åœ¨æ¯ä¸ªé˜¶æ®µï¼Œæ‰€ä½¿ç”¨çš„è®­ç»ƒæ•°æ®ã€è®­ç»ƒèŒƒå¼ï¼ˆç®—æ³•ï¼‰ã€è®­ç»ƒç›®æ ‡å’Œè¶…å‚æ•°å‡æœ‰æ‰€ä¸åŒã€‚
- **é¢„è®­ç»ƒ**é˜¶æ®µåŒ…æ‹¬åˆæœŸè®­ç»ƒï¼ˆåŸºäºæµ·é‡æ•°æ®çš„çŸ­ä¸Šä¸‹æ–‡è®­ç»ƒï¼‰ã€ä¸­æœŸè®­ç»ƒï¼ˆé•¿æ–‡æœ¬/é•¿ä¸Šä¸‹æ–‡è®­ç»ƒï¼‰ä»¥åŠé€€ç«ï¼ˆAnnealingï¼‰è®­ç»ƒç­‰ã€‚æ­¤é˜¶æ®µä»¥è‡ªç›‘ç£å­¦ä¹ ä¸ºä¸»ï¼Œä½¿ç”¨çš„æ•°æ®é‡æœ€å¤§ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€æ¶ˆè€—ç®—åŠ›çš„ç¯èŠ‚ã€‚
- **åè®­ç»ƒ**é˜¶æ®µåˆ™åŒ…å«å¤šç§å¯é€‰çš„è®­ç»ƒèŒƒå¼ï¼ˆç®—æ³•ï¼‰ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºSFTï¼ˆç›‘ç£å¾®è°ƒï¼‰ã€è’¸é¦ã€RSFTï¼ˆæ‹’ç»é‡‡æ ·å¾®è°ƒï¼‰ã€RLHFï¼ˆåŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼‰ã€DPOï¼ˆç›´æ¥åå¥½ä¼˜åŒ–ï¼‰ï¼Œä»¥åŠå…¶ä»–å¼ºåŒ–å­¦ä¹ æ–¹æ³•ï¼Œä¾‹å¦‚GRPOï¼ˆç¾¤ä½“ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ï¼‰ã€PPOï¼ˆè¿‘ç«¯ç­–ç•¥ä¼˜åŒ–ï¼‰ç­‰ã€‚å…¶ä¸­ï¼ŒæŸäº›ç¯èŠ‚ä¹Ÿå¯è¿›è¡Œå¤šè½®è¿­ä»£è®­ç»ƒï¼Œä¾‹å¦‚å¤šè½®æ‹’ç»é‡‡æ ·å¾®è°ƒï¼ˆRejection Sampling Fine-Tuning, RSFTï¼‰ã€‚
[![ã€LLMåŸºç¡€ã€‘LLMè®­ç»ƒæµç¨‹](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E8%AE%AD%E7%BB%83%E6%B5%81%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E3%80%91LLM%E8%AE%AD%E7%BB%83%E6%B5%81%E7%A8%8B.png)

### <a name="header-9"></a>ã€SFTã€‘å¾®è°ƒï¼ˆFine-Tuningï¼‰æŠ€æœ¯åˆ†ç±»
- å¯ç”¨äºSFTçš„å¾®è°ƒæŠ€æœ¯ç§ç±»å¤šæ ·ï¼Œå¦‚ä¸‹å›¾çš„åˆ†ç±»å›¾æ‰€ç¤ºï¼šå‰ä¸¤ç§æ–¹æ³•ä»…éœ€åŸºäºé¢„è®­ç»ƒæ¨¡å‹ä¸»ä½“è¿›è¡Œå¾®è°ƒï¼Œå¼€å‘æˆæœ¬è¾ƒä½ï¼›è€Œå¹¶è”ä½ç§©å¾®è°ƒå’ŒAdapter Tuningåˆ™éœ€è¦**å¼•å…¥é¢å¤–**çš„æ–°æ¨¡å—ï¼Œå®æ–½è¿‡ç¨‹ç›¸å¯¹å¤æ‚ä¸€äº›ã€‚è¿™äº›æ–¹æ³•å‡æ˜¯é’ˆå¯¹æ¨¡å‹å‚æ•°è¿›è¡Œå¾®è°ƒï¼Œè€ŒåŸºäºPromptçš„å¾®è°ƒåˆ™å¦è¾Ÿè¹Šå¾„ï¼Œä»**æ¨¡å‹çš„è¾“å…¥**ç€æ‰‹è¿›è¡Œå¾®è°ƒã€‚
[![ã€SFTã€‘å¾®è°ƒæŠ€æœ¯åˆ†ç±»](images_chinese/png_small/%E3%80%90SFT%E3%80%91%E5%BE%AE%E8%B0%83%E6%8A%80%E6%9C%AF%E5%88%86%E7%B1%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91%E5%BE%AE%E8%B0%83%E6%8A%80%E6%9C%AF%E5%88%86%E7%B1%BB.png)

### <a name="header-10"></a>ã€SFTã€‘LoRAï¼ˆ1 of 2ï¼‰
- **LoRA**ï¼ˆLow-Rank Adaptation, ä½ç§©é€‚é…å¾®è°ƒï¼‰ç”±å¾®è½¯çš„ç ”ç©¶å›¢é˜Ÿäº2021å¹´å‘è¡¨ã€‚ç”±äºå…¶é«˜æ•ˆçš„å¾®è°ƒæ–¹å¼å’Œè‰¯å¥½çš„æ•ˆæœï¼Œåœ¨å„ç±»æ¨¡å‹ä¸­å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ã€‚LoRAçš„**æ ¸å¿ƒæ€æƒ³**åœ¨äºâ€”â€”å¾®è°ƒå‰åæ¨¡å‹çš„å‚æ•°å·®å¼‚âˆ†Wå…·æœ‰ä½ç§©æ€§ã€‚
- ä¸€ä¸ªçŸ©é˜µå…·æœ‰**ä½ç§©æ€§**ï¼Œæ„å‘³ç€å®ƒåŒ…å«è¾ƒå¤šçš„å†—ä½™ä¿¡æ¯ï¼Œå°†å…¶åˆ†è§£ä¸ºå¤šä¸ªä½ç»´çŸ©é˜µåï¼Œä¸ä¼šæŸå¤±è¿‡å¤šæœ‰ç”¨ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œä¸€ä¸ª1024Ã—1024çš„çŸ©é˜µå¯ä»¥è¢«è¿‘ä¼¼åˆ†è§£ä¸ºä¸€ä¸ª1024Ã—2çŸ©é˜µä¸ä¸€ä¸ª2Ã—1024çŸ©é˜µçš„ä¹˜ç§¯ï¼Œä»è€Œå°†å‚æ•°é‡çº¦å‡å°‘è‡³åŸæ¥çš„0.4%ã€‚

[![ã€SFTã€‘LoRAï¼ˆ1 of 2ï¼‰](images_chinese/png_small/%E3%80%90SFT%E3%80%91LoRA%EF%BC%881%20of%202%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91LoRA%EF%BC%881%20of%202%EF%BC%89.png)

### <a name="header-11"></a>ã€SFTã€‘LoRAï¼ˆ2 of 2ï¼‰
- Aå’ŒBçš„**åˆå§‹åŒ–**æ–¹å¼ï¼š
- ï¼ˆ1ï¼‰çŸ©é˜µAä½¿ç”¨éšæœºæ•°åˆå§‹åŒ–ï¼Œå¦‚kaimingåˆå§‹åŒ–ï¼›
- ï¼ˆ2ï¼‰çŸ©é˜µBä½¿ç”¨å…¨0åˆå§‹åŒ–ï¼Œæˆ–ä½¿ç”¨æå°çš„éšæœºæ•°åˆå§‹åŒ–ã€‚
- **ç›®çš„**åœ¨äºâ€”â€”ç¡®ä¿åœ¨è®­ç»ƒåˆæœŸï¼Œæ’å…¥çš„LoRAæ¨¡å—ä¸ä¼šå¯¹æ¨¡å‹æ•´ä½“è¾“å‡ºé€ æˆè¿‡å¤§çš„æ‰°åŠ¨ã€‚
[![ã€SFTã€‘LoRAï¼ˆ2 of 2ï¼‰](images_chinese/png_small/%E3%80%90SFT%E3%80%91LoRA%EF%BC%882%20of%202%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91LoRA%EF%BC%882%20of%202%EF%BC%89.png)

### <a name="header-12"></a>ã€SFTã€‘Prefix-Tuning
- **Prefix-Tuning**ç”±æ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶å›¢é˜Ÿæå‡ºï¼Œå¯ä»¥ç”¨äºå¯¹è¯­è¨€æ¨¡å‹è¿›è¡Œè½»é‡çº§å¾®è°ƒã€‚
- å¦‚å›¾æ‰€ç¤ºï¼Œè¯¥æ–¹æ³•åœ¨è¾“å…¥çš„èµ·å§‹ä½ç½®æ’å…¥ä¸€æ®µè¿ç»­çš„ã€å¯è®­ç»ƒçš„å‘é‡ï¼ˆEmbeddingï¼‰ï¼Œç§°ä¸ºå‰ç¼€ï¼ˆPrefixï¼‰ã€‚åœ¨å¤„ç†åç»­çš„Tokenæ—¶ï¼ŒTransformerå°†è¿™äº›å‘é‡è§†ä¸º **è™šæ‹ŸToken**ï¼Œå¹¶å‚ä¸Attentionè®¡ç®—ã€‚

[![ã€SFTã€‘Prefix-Tuning](images_chinese/png_small/%E3%80%90SFT%E3%80%91Prefix-Tuning.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91Prefix-Tuning.png)

### <a name="header-13"></a>ã€SFTã€‘TokenIDä¸è¯å…ƒçš„æ˜ å°„å…³ç³»
- ä»¥SFTæ•°æ®ï¼ˆç»è¿‡ChatMLæ ¼å¼é¢„å¤„ç†ï¼‰ä¸ºä¾‹ï¼Œè¯¥æ•°æ®ç»è¿‡Tokenizerå¤„ç†åï¼Œè¢«è½¬æ¢ä¸º33ä¸ªTokenï¼Œå¯¹åº”33ä¸ªåºåˆ—ä½ç½®ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚
- æ¯ä¸ªToken IDä¸ç›¸åº”çš„è¯å…ƒ**ä¸€ä¸€å¯¹åº”**ã€‚
[![ã€SFTã€‘TokenIDä¸è¯å…ƒçš„æ˜ å°„å…³ç³»](images_chinese/png_small/%E3%80%90SFT%E3%80%91TokenID%E4%B8%8E%E8%AF%8D%E5%85%83%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91TokenID%E4%B8%8E%E8%AF%8D%E5%85%83%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB.png)

### <a name="header-14"></a>ã€SFTã€‘SFTçš„Lossï¼ˆäº¤å‰ç†µï¼‰
- ä¸é¢„è®­ç»ƒé˜¶æ®µç±»ä¼¼ï¼ŒSFTçš„Lossä¹Ÿæ˜¯åŸºäºäº¤å‰ç†µï¼ˆCEï¼ŒCross Entropyï¼‰
[![ã€SFTã€‘SFTçš„Lossï¼ˆäº¤å‰ç†µï¼‰](images_chinese/png_small/%E3%80%90SFT%E3%80%91SFT%E7%9A%84Loss%EF%BC%88%E4%BA%A4%E5%8F%89%E7%86%B5%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91SFT%E7%9A%84Loss%EF%BC%88%E4%BA%A4%E5%8F%89%E7%86%B5%EF%BC%89.png)

### <a name="header-15"></a>ã€SFTã€‘æŒ‡ä»¤æ•°æ®çš„æ¥æº
- **æŒ‡ä»¤æ•°æ®**ï¼ˆInstructionsï¼‰æ˜¯æŒ‡ä¸ºæ¨¡å‹æä¾›çš„ä¸€ç»„å¼•å¯¼æ€§è¾“å…¥åŠæœŸæœ›è¾“å‡ºçš„æè¿°ï¼Œé€šå¸¸åŒ…æ‹¬é—®é¢˜ï¼ˆæˆ–ä»»åŠ¡æç¤ºï¼‰åŠå…¶å¯¹åº”çš„ç­”æ¡ˆï¼Œå¸¸ç”¨äºå¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒè®­ç»ƒã€‚
[![ã€SFTã€‘æŒ‡ä»¤æ•°æ®çš„æ¥æº](images_chinese/png_small/%E3%80%90SFT%E3%80%91%E6%8C%87%E4%BB%A4%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9D%A5%E6%BA%90.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91%E6%8C%87%E4%BB%A4%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9D%A5%E6%BA%90.png)

### <a name="header-16"></a>ã€SFTã€‘å¤šä¸ªæ•°æ®çš„æ‹¼æ¥ï¼ˆPackingï¼‰
- æ¨¡å‹è®­ç»ƒæ—¶é€šå¸¸ä½¿ç”¨**å›ºå®šé•¿åº¦**çš„è¾“å…¥ã€‚å½“è¾“å…¥çš„æ•°æ®é•¿åº¦ä¸ä¸€è‡´æ—¶ï¼Œå¯¹äºçŸ­åºåˆ—ï¼Œä¼šåœ¨å…¶æœ«å°¾å¡«å……ï¼ˆpaddingï¼‰ä»¥åŒ¹é…æœ€å¤§åºåˆ—é•¿åº¦ï¼Œè¿™ä¼šå¯¼è‡´è®¡ç®—èµ„æºçš„**æµªè´¹**ã€‚
- å› æ­¤ï¼Œæ­£å¦‚å›¾æ‰€ç¤ºï¼Œå¸¸è§çš„åšæ³•æ˜¯å°†å¤šæ¡æ•°æ®æ‹¼æ¥ï¼ˆPackingï¼‰åœ¨ä¸€èµ·ï¼Œå¡«å……åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„è¾“å…¥åºåˆ—ä¸­ã€‚
- ä¸ºäº†ç¡®ä¿è®¡ç®—è¿‡ç¨‹ä¸­ä¸åŒæ•°æ®ä¹‹é—´**äº’ä¸å¹²æ‰°**ï¼Œé€šå¸¸éœ€è¦**é‡è®¾**ä½ç½®ç¼–å·ï¼ˆReset position IDï¼‰å’Œæ³¨æ„åŠ›æ©ç ï¼ˆReset attention maskï¼‰ï¼Œä»¥åœ¨è®¡ç®—Attentionæ—¶ä¿æŒå„æ¡æ•°æ®çš„è¯­ä¹‰ç‹¬ç«‹æ€§ã€‚
[![ã€SFTã€‘å¤šä¸ªæ•°æ®çš„æ‹¼æ¥ï¼ˆPackingï¼‰](images_chinese/png_small/%E3%80%90SFT%E3%80%91%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%9A%84%E6%8B%BC%E6%8E%A5%EF%BC%88Packing%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90SFT%E3%80%91%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%9A%84%E6%8B%BC%E6%8E%A5%EF%BC%88Packing%EF%BC%89.png)

### <a name="header-17"></a>ã€DPOã€‘RLHFä¸DPOçš„è®­ç»ƒæ¶æ„å¯¹æ¯”
ä¸åŒäºRLHFï¼ŒDPOä»¥ç›‘ç£å­¦ä¹ çš„è®­ç»ƒæ–¹å¼ï¼Œå¤§å¹…ç®€åŒ–äº†å¯¹é½è®­ç»ƒï¼š
- **æµç¨‹ç®€æ´**ï¼šDPOç›´æ¥å¯¹ç­–ç•¥æ¨¡å‹è¿›è¡Œä¼˜åŒ–ï¼Œä¸éœ€è¦é¢„å…ˆè®­ç»ƒRewardæ¨¡å‹ï¼ˆå¥–åŠ±å‡½æ•°ï¼‰ã€‚DPOåªéœ€è¦åŸºäºé¢„å…ˆç»™å®šçš„åå¥½æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œ**æ— éœ€**ä¸­é€”é‡‡æ ·ã€‚
- **ç¨³å®šæ€§**ï¼šDPOæ˜¯ä¸€ç§ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œæ‘†è„±äº†å¼ºåŒ–å­¦ä¹ è®­ç»ƒçš„ä¸ç¨³å®šæ€§ã€‚
- **ä½å¼€é”€**ï¼šDPOåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åªéœ€è¦åŠ è½½**ä¸€ä¸ªæ¨¡å‹**ï¼ˆåªéœ€åŠ è½½ç­–ç•¥æ¨¡å‹ï¼Œè€Œå¯¹äºå‚è€ƒæ¨¡å‹ï¼Œå¯ä»¥å°†å‚è€ƒæ¨¡å‹çš„è¾“å‡ºç»“æœé¢„å…ˆå½•åˆ¶å¥½ï¼Œç„¶ååœ¨è®­ç»ƒæ—¶å°±ä¸éœ€è¦åŠ è½½ï¼‰ï¼Œç®—åŠ›å¼€é”€æ›´ä½ï¼Œæ›´æ˜“äºè½åœ°å®è·µã€‚
[![ã€DPOã€‘RLHFä¸DPOçš„è®­ç»ƒæ¶æ„å¯¹æ¯”](images_chinese/png_small/%E3%80%90DPO%E3%80%91RLHF%E4%B8%8EDPO%E7%9A%84%E8%AE%AD%E7%BB%83%E6%9E%B6%E6%9E%84%E5%AF%B9%E6%AF%94.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90DPO%E3%80%91RLHF%E4%B8%8EDPO%E7%9A%84%E8%AE%AD%E7%BB%83%E6%9E%B6%E6%9E%84%E5%AF%B9%E6%AF%94.png)

### <a name="header-18"></a>ã€DPOã€‘Promptçš„æ”¶é›†
[![ã€DPOã€‘Promptçš„æ”¶é›†](images_chinese/png_small/%E3%80%90DPO%E3%80%91Prompt%E7%9A%84%E6%94%B6%E9%9B%86.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90DPO%E3%80%91Prompt%E7%9A%84%E6%94%B6%E9%9B%86.png)

### <a name="header-19"></a>ã€DPOã€‘DPOï¼ˆDirect Preference Optimizationï¼‰
- **DPO**ï¼ˆDirect Preference Optimizationï¼Œç›´æ¥åå¥½ä¼˜åŒ–ï¼‰æ˜¯ç”±æ–¯å¦ç¦å¤§å­¦ç­‰ç ”ç©¶å›¢é˜Ÿäº2023å¹´æå‡ºçš„ä¸€ç§åå¥½ä¼˜åŒ–ç®—æ³•ï¼Œå¯ç”¨äºLLMã€VLMä¸MLLMçš„å¯¹é½è®­ç»ƒã€‚
- è¯¥ç®—æ³•åœ¨åŸºäºPPOçš„RLHFåŸºç¡€ä¸Šè¿›è¡Œäº†å¤§å¹…**ç®€åŒ–**ã€‚
- DPOç®—æ³•è·³è¿‡äº†è®­ç»ƒå¥–åŠ±æ¨¡å‹è¿™ä¸€ä¸­é—´è¿‡ç¨‹ï¼Œç›´æ¥ï¼ˆDirectï¼‰ä¼˜åŒ–ç­–ç•¥æ¨¡å‹ â€”â€”è¿™æ­£æ˜¯DPOå‘½åä¸­â€œDï¼ˆDirectï¼‰â€çš„**å«ä¹‰**æ‰€åœ¨ã€‚
DPOçš„è®­ç»ƒæ¶‰åŠ2ä¸ªæ¨¡å‹â€”â€”ç­–ç•¥æ¨¡å‹å’Œå‚è€ƒæ¨¡å‹ã€‚å®ƒä»¬çš„**åˆå§‹åŒ–**æ–¹æ³•å¦‚ä¸‹ï¼š
- **ç­–ç•¥æ¨¡å‹**ï¼šç›´æ¥å¤åˆ¶SFTæ¨¡å‹ä½œä¸ºåˆå§‹åŒ–ã€‚
- **å‚è€ƒæ¨¡å‹**ï¼šé€šå¸¸ä¹Ÿä»SFTæ¨¡å‹å¤åˆ¶ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šé€‰æ‹©ä»ä¸€ä¸ªæ¯”SFTæ¨¡å‹æ›´å¼ºçš„æ¨¡å‹è¿›è¡Œå¤åˆ¶ã€‚æ­¤æ—¶ï¼Œéœ€ç‰¹åˆ«å…³æ³¨å‚è€ƒæ¨¡å‹ä¸ç­–ç•¥æ¨¡å‹çš„åŒ¹é…æ€§ï¼Œä¸»è¦æ¶‰åŠä¸¤è€…çš„KLè·ç¦»åŠè®­ç»ƒæ•°æ®åˆ†å¸ƒç­‰æ–¹é¢ã€‚
[![ã€DPOã€‘DPOï¼ˆDirect Preference Optimizationï¼‰](images_chinese/png_small/%E3%80%90DPO%E3%80%91DPO%EF%BC%88Direct%20Preference%20Optimization%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90DPO%E3%80%91DPO%EF%BC%88Direct%20Preference%20Optimization%EF%BC%89.png)

### <a name="header-20"></a>ã€DPOã€‘DPOè®­ç»ƒå…¨æ™¯å›¾
- DPOè®­ç»ƒæ—¶ï¼Œå¯ä»¥é€‰æ‹©**åŠ è½½**2ä¸ªæ¨¡å‹ï¼ˆç­–ç•¥æ¨¡å‹ å’Œå‚è€ƒæ¨¡å‹ ï¼‰ï¼Œä¹Ÿå¯ä»¥åªåŠ è½½1ä¸ªæ¨¡å‹ï¼ˆç­–ç•¥æ¨¡å‹ ï¼‰ã€‚æœ¬æ–‡å°†ä¼˜å…ˆåˆ†æåŠ è½½2ä¸ªæ¨¡å‹çš„æƒ…å†µã€‚
- DPOçš„æ•´ä½“è®­ç»ƒæµç¨‹å¦‚å›¾æ‰€ç¤ºï¼ˆ**è“è‰²**è‰²å—ä»£è¡¨åå¥½æ•°æ®å¯¹ä¸­çš„â€œä¼˜è´¨å›ç­”â€ åŠå…¶å¯¹åº”çš„ä¸­é—´è®¡ç®—ç»“æœï¼›**ç²‰è‰²**è‰²å—ä»£è¡¨åå¥½æ•°æ®å¯¹ä¸­çš„â€œåŠ£è´¨å›ç­”â€ åŠå…¶å¯¹åº”çš„ä¸­é—´è®¡ç®—ç»“æœï¼‰ã€‚
[![ã€DPOã€‘DPOè®­ç»ƒå…¨æ™¯å›¾](images_chinese/png_small/%E3%80%90DPO%E3%80%91DPO%E8%AE%AD%E7%BB%83%E5%85%A8%E6%99%AF%E5%9B%BE.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90DPO%E3%80%91DPO%E8%AE%AD%E7%BB%83%E5%85%A8%E6%99%AF%E5%9B%BE.png)

### <a name="header-21"></a>ã€DPOã€‘Î²å‚æ•°å¯¹DPOçš„å½±å“
- åœ¨DPOä¸­ï¼Œ å‚æ•°çš„ä½œç”¨**ç±»ä¼¼**äºå…¶åœ¨RLHFä¸­çš„ä½œç”¨ã€‚
[![ã€DPOã€‘Î²å‚æ•°å¯¹DPOçš„å½±å“](images_chinese/png_small/%E3%80%90DPO%E3%80%91%CE%B2%E5%8F%82%E6%95%B0%E5%AF%B9DPO%E7%9A%84%E5%BD%B1%E5%93%8D.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90DPO%E3%80%91%CE%B2%E5%8F%82%E6%95%B0%E5%AF%B9DPO%E7%9A%84%E5%BD%B1%E5%93%8D.png)

### <a name="header-22"></a>ã€DPOã€‘éšå¼å¥–åŠ±å·®å¼‚å¯¹å‚æ•°æ›´æ–°å¹…åº¦çš„å½±å“
- DPOçš„æ¢¯åº¦æ›´æ–°æ—¨åœ¨**å¢åŠ **ä¼˜è´¨å›ç­”çš„æ¦‚ç‡ï¼ŒåŒæ—¶**å‡å°‘**åŠ£è´¨å›ç­”çš„æ¦‚ç‡ã€‚
- æ›´é‡è¦çš„æ˜¯ï¼Œæ¢¯åº¦ä¸­åŒ…å«ä¸€ä¸ª**åŠ¨æ€ç³»æ•°**â€”â€”ä¼˜è´¨å’ŒåŠ£è´¨å›ç­”çš„éšå¼å¥–åŠ±å·®å¼‚ã€‚æ¢è¨€ä¹‹ï¼Œè¿™ä¸ªåŠ¨æ€ç³»æ•°åæ˜ äº†éšå¼â€œå¥–åŠ±æ¨¡å‹â€åœ¨å¯¹åå¥½é¡ºåºçš„åˆ¤æ–­ä¸Šæœ‰å¤šå¤§è¯¯å·®ã€‚
[![ã€DPOã€‘éšå¼å¥–åŠ±å·®å¼‚å¯¹å‚æ•°æ›´æ–°å¹…åº¦çš„å½±å“](images_chinese/png_small/%E3%80%90DPO%E3%80%91%E9%9A%90%E5%BC%8F%E5%A5%96%E5%8A%B1%E5%B7%AE%E5%BC%82%E5%AF%B9%E5%8F%82%E6%95%B0%E6%9B%B4%E6%96%B0%E5%B9%85%E5%BA%A6%E7%9A%84%E5%BD%B1%E5%93%8D.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90DPO%E3%80%91%E9%9A%90%E5%BC%8F%E5%A5%96%E5%8A%B1%E5%B7%AE%E5%BC%82%E5%AF%B9%E5%8F%82%E6%95%B0%E6%9B%B4%E6%96%B0%E5%B9%85%E5%BA%A6%E7%9A%84%E5%BD%B1%E5%93%8D.png)

### <a name="header-23"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘CoTï¼ˆChain of Thoughtï¼‰ä¸ä¼ ç»Ÿé—®ç­”çš„å¯¹æ¯”
- **CoT**ï¼ˆChain of Thoughtï¼Œ**æ€ç»´é“¾**ï¼‰ç”±Jason Weiç­‰ç ”ç©¶è€…äº2022å¹´åœ¨GoogleæœŸé—´æå‡ºï¼Œæ˜¯å¤§æ¨¡å‹é¢†åŸŸçš„ä¸€é¡¹é‡è¦æŠ€æœ¯åˆ›æ–°ï¼Œå¹¶è¿…é€Ÿè¢«å¹¿æ³›åº”ç”¨äºå­¦æœ¯ç ”ç©¶å’Œå®é™…åœºæ™¯ã€‚
- å…¶**æ ¸å¿ƒæ€æƒ³**æ˜¯é€šè¿‡æ˜¾å¼åœ°åˆ†æ­¥æ¨ç†ï¼Œæå‡æ¨¡å‹åœ¨å¤æ‚æ¨ç†ä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘CoTä¸ä¼ ç»Ÿé—®ç­”çš„å¯¹æ¯”](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91CoT%E4%B8%8E%E4%BC%A0%E7%BB%9F%E9%97%AE%E7%AD%94%E7%9A%84%E5%AF%B9%E6%AF%94.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91CoT%E4%B8%8E%E4%BC%A0%E7%BB%9F%E9%97%AE%E7%AD%94%E7%9A%84%E5%AF%B9%E6%AF%94.png)

### <a name="header-24"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘CoTã€Self-consistency CoTã€ToTã€GoT <sup>[<a href="./src/references.md">87</a>]</sup>
- åœ¨CoTå±•ç°å…¶æ½œåŠ›åï¼Œè¿…é€Ÿ**è¡ç”Ÿ**å‡ºå¤šç§ç›¸å…³æŠ€æœ¯ï¼Œä¾‹å¦‚ToTã€GoTã€Self-consistency CoTã€Zero-shot-CoTã€Auto-CoTã€MoTã€XoTç­‰
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘CoTã€Self-consistencyCoTã€ToTã€GoT](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91CoT%E3%80%81Self-consistencyCoT%E3%80%81ToT%E3%80%81GoT.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91CoT%E3%80%81Self-consistencyCoT%E3%80%81ToT%E3%80%81GoT.png)

### <a name="header-25"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘ç©·ä¸¾æœç´¢ï¼ˆExhaustive Searchï¼‰
- Tokençš„ç”Ÿæˆè¿‡ç¨‹å¯ä»¥å½¢è±¡åœ°è¡¨ç¤ºä¸ºä¸€ä¸ªä»¥è¯è¡¨å¤§å° V=105 ä¸ºåŸºæ•°çš„**å¤šå‰æ ‘**ç»“æ„ã€‚ç†è®ºä¸Šï¼Œé‡‡ç”¨ç©·ä¸¾æœç´¢ï¼ˆExhaustive Searchï¼‰çš„æ–¹æ³•èƒ½å¤Ÿè·å¾—å…¨å±€æœ€ä¼˜è§£ã€‚ç„¶è€Œï¼Œç©·ä¸¾æœç´¢çš„è®¡ç®—ä»£ä»·æé«˜ã€‚
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘ç©·ä¸¾æœç´¢ï¼ˆExhaustive Searchï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E7%A9%B7%E4%B8%BE%E6%90%9C%E7%B4%A2%EF%BC%88Exhaustive%20Search%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E7%A9%B7%E4%B8%BE%E6%90%9C%E7%B4%A2%EF%BC%88Exhaustive%20Search%EF%BC%89.png)

### <a name="header-26"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘è´ªå©ªæœç´¢ï¼ˆGreedy Searchï¼‰
- **è´ªå©ªæœç´¢**ï¼ˆGreedy Searchï¼‰åœ¨ç”Ÿæˆä¸‹ä¸€ä¸ªTokenï¼ˆè¯å…ƒï¼‰æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šé€‰æ‹©å½“å‰**æ¦‚ç‡æœ€é«˜**çš„ä¸€ä¸ªTokenï¼Œä¸è€ƒè™‘ç”Ÿæˆåºåˆ—çš„å…¨å±€æœ€ä¼˜æ€§æˆ–å¤šæ ·æ€§ï¼Œç„¶åç»§ç»­å¯¹ä¸‹ä¸€ä¸ªTokenä½ç½®æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚å°½ç®¡è¿™ç§æ–¹æ³•ç®€å•å¿«é€Ÿï¼Œä½†ç”Ÿæˆçš„å†…å®¹å¯èƒ½è¿‡æ—©é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼Œ**ç¼ºä¹å¤šæ ·æ€§**ã€‚
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘è´ªå©ªæœç´¢ï¼ˆGreedy Searchï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E8%B4%AA%E5%A9%AA%E6%90%9C%E7%B4%A2%EF%BC%88Greedy%20Search%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E8%B4%AA%E5%A9%AA%E6%90%9C%E7%B4%A2%EF%BC%88Greedy%20Search%EF%BC%89.png)

### <a name="header-27"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘æ³¢æŸæœç´¢ï¼ˆBeam Searchï¼‰
- **Beam Search**ï¼ˆæ³¢æŸæœç´¢ï¼‰åœ¨æ¯ä¸€æ­¥ç”Ÿæˆæ—¶ï¼Œä¸ä»…ä»…é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜Tokenï¼ˆè¯å…ƒï¼‰ï¼Œè€Œæ˜¯ä¿ç•™**å¤šä¸ªå€™é€‰**åºåˆ—ï¼ˆç§°ä¸ºBeamï¼Œå³æ³¢æŸï¼‰ï¼Œå…¶ä½™çš„è·¯å¾„åˆ™è¢«å‰ªæã€‚è¿™äº›å€™é€‰åºåˆ—ä¼šåœ¨åç»­æ­¥éª¤ä¸­ç»§ç»­æ‰©å±•ï¼Œç›´åˆ°ç”Ÿæˆç»“æŸã€‚
- æœ€ç»ˆï¼Œä»æ‰€æœ‰å€™é€‰åºåˆ—ä¸­é€‰æ‹©å¾—åˆ†**æœ€é«˜**çš„ä¸€æ¡ä½œä¸ºæœ€ç»ˆè¾“å‡ºã€‚Beamçš„æ•°é‡ï¼ˆnum_beamså‚æ•°ï¼‰è¶Šå¤§ï¼Œæœç´¢ç©ºé—´è¶Šå¹¿ï¼Œç”Ÿæˆç»“æœè¶Š**æ¥è¿‘å…¨å±€æœ€ä¼˜**ï¼Œä½†è®¡ç®—æˆæœ¬ä¹Ÿéšä¹‹å¢åŠ ã€‚
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘æ³¢æŸæœç´¢ï¼ˆBeam Searchï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E6%B3%A2%E6%9D%9F%E6%90%9C%E7%B4%A2%EF%BC%88Beam%20Search%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E6%B3%A2%E6%9D%9F%E6%90%9C%E7%B4%A2%EF%BC%88Beam%20Search%EF%BC%89.png)

### <a name="header-28"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘å¤šé¡¹å¼é‡‡æ ·ï¼ˆMultinomial Samplingï¼‰
- **å¤šé¡¹å¼é‡‡æ ·**ï¼ˆMultinomial Samplingï¼‰æ˜¯ç”Ÿæˆå¼æ¨¡å‹ä¸­ä¸€ç§å¸¸è§çš„**éšæœºé‡‡æ ·**æ–¹æ³•ï¼Œç”Ÿæˆä¸‹ä¸€ä¸ªTokenæ—¶ï¼Œä»¥æ¨¡å‹é¢„æµ‹çš„æ¦‚ç‡åˆ†å¸ƒä¸ºä¾æ®ï¼Œåœ¨æ¦‚ç‡åˆ†å¸ƒä¸­â€œæŒ‰æ¦‚ç‡å¤§å°â€éšæœºæŠ½å–Tokenï¼ˆè€Œéç­‰æ¦‚ç‡éšæœºæŠ½æ ·ï¼‰ã€‚
- åŒ…å«Top-Kã€Top-Pç­‰
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘å¤šé¡¹å¼é‡‡æ ·ï¼ˆMultinomial Samplingï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E5%A4%9A%E9%A1%B9%E5%BC%8F%E9%87%87%E6%A0%B7%EF%BC%88Multinomial%20Sampling%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E5%A4%9A%E9%A1%B9%E5%BC%8F%E9%87%87%E6%A0%B7%EF%BC%88Multinomial%20Sampling%EF%BC%89.png)

### <a name="header-29"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘Top-Ké‡‡æ ·ï¼ˆTop-K Samplingï¼‰
- **Top-Ké‡‡æ ·**ï¼ˆTop-K Samplingï¼‰æ˜¯ä¸€ç§åœ¨ç”Ÿæˆä»»åŠ¡ä¸­å¸¸ç”¨çš„ç­–ç•¥ï¼Œç±»ä¼¼äº**å¤šé¡¹å¼é‡‡æ ·**ï¼Œä½†å…¶é‡‡æ ·å€™é€‰æ± ç»è¿‡é™åˆ¶ã€‚ä½¿ç”¨Top-Ké‡‡æ ·æ—¶ï¼Œæ¯ä¸€æ­¥ç”ŸæˆTokenæ—¶ä»…ä¿ç•™æ¨¡å‹é¢„æµ‹æ¦‚ç‡æœ€é«˜çš„**å‰Kä¸ª**è¯ï¼Œå¹¶ä»ä¸­æŒ‰æ¦‚ç‡åˆ†å¸ƒè¿›è¡ŒéšæœºæŠ½æ ·ã€‚
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘Top-Ké‡‡æ ·ï¼ˆTop-K Samplingï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91Top-K%E9%87%87%E6%A0%B7%EF%BC%88Top-K%20Sampling%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91Top-K%E9%87%87%E6%A0%B7%EF%BC%88Top-K%20Sampling%EF%BC%89.png)

### <a name="header-30"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘Top-Pé‡‡æ ·ï¼ˆTop-P Samplingï¼‰
- **Top-Pé‡‡æ ·**ï¼ˆTop-P Samplingï¼‰ï¼Œåˆç§°**æ ¸é‡‡æ ·**ï¼ˆNucleus Samplingï¼‰ï¼Œè¯¥æ–¹æ³•é€šè¿‡åŠ¨æ€é€‰æ‹©ä¸€ä¸ªæœ€å°å€™é€‰é›†åˆï¼Œä½¿å¾—å€™é€‰è¯çš„æ¦‚ç‡å’Œè¾¾åˆ°è®¾å®šçš„æ¦‚ç‡é˜ˆå€¼Pï¼Œç„¶åï¼Œåœ¨è¯¥å€™é€‰é›†åˆä¸­éšæœºé‡‡æ ·ã€‚ä¸Top-Ké‡‡æ ·ç›¸æ¯”ï¼ŒTop-Pé‡‡æ ·èƒ½å¤Ÿæ ¹æ®æ¦‚ç‡ç´¯ç§¯**åŠ¨æ€è°ƒæ•´**å€™é€‰é›†çš„å¤§å°ã€‚
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘Top-Pé‡‡æ ·ï¼ˆTop-P Samplingï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91Top-P%E9%87%87%E6%A0%B7%EF%BC%88Top-P%20Sampling%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91Top-P%E9%87%87%E6%A0%B7%EF%BC%88Top-P%20Sampling%EF%BC%89.png)

### <a name="header-31"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆ,Retrieval-Augmented Generationï¼‰
- **RAG**ï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ˜¯ä¸€ç§ç»“åˆä¿¡æ¯æ£€ç´¢ä¸æ¨¡å‹ç”Ÿæˆçš„æŠ€æœ¯ï¼Œé€šè¿‡å¼•å…¥å¤–éƒ¨çŸ¥è¯†åº“æˆ–æ£€ç´¢ç³»ç»Ÿï¼Œå¢å¼ºç”Ÿæˆå¼æ¨¡å‹çš„çŸ¥è¯†èŒƒå›´å’Œå›ç­”å‡†ç¡®æ€§ã€‚
- Metaï¼ˆå‰èº«ä¸ºFacebook AI Researchï¼‰ç­‰ç ”ç©¶å›¢é˜Ÿäº2020å¹´åœ¨å…¶å‘è¡¨çš„å·¥ä½œä¸­æå‡ºäº†RAGï¼Œå¹¶æ˜¾è‘—æå‡äº†çŸ¥è¯†å¯†é›†å‹NLPä»»åŠ¡çš„æ€§èƒ½ã€‚
- RAGçš„åŸç†å¦‚å›¾æ‰€ç¤ºï¼Œæ•´ä½“å¯åˆ†ä¸ºä¸¤éƒ¨åˆ†â€”â€”ç¦»çº¿æ„å»ºç¯èŠ‚å’Œåœ¨çº¿æœåŠ¡ç¯èŠ‚ã€‚
[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91RAG%EF%BC%88%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91RAG%EF%BC%88%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90%EF%BC%89.png)

### <a name="header-32"></a>ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘åŠŸèƒ½è°ƒç”¨ï¼ˆFunction Callingï¼‰
- **åŠŸèƒ½è°ƒç”¨**ï¼ˆFunction Callingï¼‰ï¼Œä¹Ÿç§°å·¥å…·è°ƒç”¨ï¼ˆTool Useï¼‰ï¼Œæ˜¯æŒ‡åœ¨åŸºäºå¤§æ¨¡å‹å®Œæˆä»»åŠ¡çš„è¿‡ç¨‹ä¸­ï¼ŒAgenté€šè¿‡ç‰¹å®šæœºåˆ¶è°ƒç”¨å¤–éƒ¨å¯¹è±¡ï¼Œè·å–è¿”å›ç»“æœåå°†å…¶ä¸åŸå§‹Promptä¸€èµ·è¾“å…¥åˆ°å¤§æ¨¡å‹ï¼Œç”±å¤§æ¨¡å‹è¿›ä¸€æ­¥æ¨ç†å¹¶å®Œæˆç‰¹å®šä»»åŠ¡ã€‚
- è¢«è°ƒç”¨çš„å¯¹è±¡å¯ä»¥æ˜¯è¿œç¨‹APIã€æ•°æ®åº“æŸ¥è¯¢æ¥å£ã€æœ¬åœ°å‡½æ•°æˆ–å·¥å…·æ’ä»¶ï¼ˆPluginï¼‰ç­‰ã€‚
- ä¸‹å›¾å±•ç¤ºäº†åŠŸèƒ½ä¸å·¥å…·è°ƒç”¨æŠ€æœ¯çš„è¿è¡Œæµç¨‹ã€‚å…¶ä¸­ï¼ŒAgentæ˜¯ä¸€ä¸ªæœ¬åœ°è¿è¡Œçš„è½¯ä»¶ç³»ç»Ÿï¼Œå¤§æ¨¡å‹æ˜¯å…¶å­æ¨¡å—ä¹‹ä¸€ã€‚Agentè¿˜åŒ…æ‹¬ç”¨æˆ·è¯·æ±‚è§£ææ¨¡å—ã€å‚æ•°å¤„ç†æ¨¡å—ã€å·¥å…·è°ƒç”¨æ¨¡å—ã€è°ƒç”¨ç»“æœè§£ææ¨¡å—åŠä¸å¤§æ¨¡å‹äº¤äº’çš„ç»„ä»¶ç­‰ã€‚

[![ã€å…è®­ç»ƒçš„ä¼˜åŒ–æŠ€æœ¯ã€‘åŠŸèƒ½è°ƒç”¨ï¼ˆFunction Callingï¼‰](images_chinese/png_small/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E5%8A%9F%E8%83%BD%E8%B0%83%E7%94%A8%EF%BC%88Function%20Calling%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%85%8D%E8%AE%AD%E7%BB%83%E7%9A%84%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E3%80%91%E5%8A%9F%E8%83%BD%E8%B0%83%E7%94%A8%EF%BC%88Function%20Calling%EF%BC%89.png)

### <a name="header-33"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ (Reinforcement Learning, RL)çš„å‘å±•å†ç¨‹
- å¼ºåŒ–å­¦ä¹ å¯ä»¥è¿½æº¯è‡³**20ä¸–çºª50å¹´ä»£**ï¼Œä¹‹åç”±**Richard S. Sutton**ç­‰å­¦è€…ç›¸ç»§æå‡ºäº†è®¸å¤šå…³é”®ç®—æ³•å’Œç†è®ºã€‚
- è‡ª2012å¹´èµ·ï¼Œéšç€æ·±åº¦å­¦ä¹ çš„è¿…çŒ›å‘å±•ï¼Œå¼ºåŒ–å­¦ä¹ åœ¨å¤šä¸ªé¢†åŸŸå‚¬ç”Ÿäº†å¤‡å—å…³æ³¨çš„åº”ç”¨ã€‚
- 2022å¹´11æœˆï¼Œç»“åˆ**RLHF**ï¼ˆåŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼‰è®­ç»ƒçš„ChatGPTæ­£å¼å‘å¸ƒã€‚
- éšååœ¨2024å¹´12æœˆï¼ŒOpenAIæ¨å‡ºç»è¿‡æ›´æ·±å…¥å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–çš„o1æ¨¡å‹ï¼Œè¿™æå¤§åœ°æ¿€å‘äº†ä¸šç•ŒåŸºäºå¼ºåŒ–å­¦ä¹ å¯¹å¤§æ¨¡å‹è¿›è¡Œè®­ç»ƒçš„å…³æ³¨å’ŒæŠ•å…¥ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ çš„å‘å±•å†ç¨‹](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B.png)

### <a name="header-34"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ä¸‰å¤§æœºå™¨å­¦ä¹ èŒƒå¼
- æ— ç›‘ç£å­¦ä¹ ã€ç›‘ç£å­¦ä¹ å’Œå¼ºåŒ–å­¦ä¹ å¹¶åˆ—ä¸ºä¸‰å¤§æœºå™¨å­¦ä¹ èŒƒå¼ã€‚ 
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ä¸‰å¤§æœºå™¨å­¦ä¹ èŒƒå¼](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E4%B8%89%E5%A4%A7%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%8C%83%E5%BC%8F.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E4%B8%89%E5%A4%A7%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%8C%83%E5%BC%8F.png)

### <a name="header-35"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ çš„åŸºç¡€æ¶æ„
- å¼ºåŒ–å­¦ä¹ çš„è¿è¡Œä¸»è¦æ¶‰åŠä¸¤ä¸ª**æ ¸å¿ƒè§’è‰²**ï¼šæ™ºèƒ½ä½“ï¼ˆAgentï¼‰å’Œç¯å¢ƒï¼ˆEnvironmentï¼‰ã€‚
- **æ™ºèƒ½ä½“**é€šè¿‡æ„ŸçŸ¥ç¯å¢ƒçš„çŠ¶æ€ï¼ŒåŸºäºç­–ç•¥é€‰æ‹©å¹¶æ‰§è¡ŒåŠ¨ä½œï¼›
- **ç¯å¢ƒ**æ¥æ”¶åŠ¨ä½œåæ›´æ–°çŠ¶æ€å¹¶åé¦ˆå¥–åŠ±ä¿¡å·ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ çš„åŸºç¡€æ¶æ„](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84.png)

### <a name="header-36"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ çš„è¿è¡Œè½¨è¿¹
- **ä¸€ä¸ªRLå»ºæ¨¡ç¤ºä¾‹**ï¼šå‡è®¾æœªæ¥æœ‰ä¸€å®¶AGIæ—…æ¸¸å…¬å¸ï¼Œæä¾›åŸºäºè‡ªåŠ¨é©¾é©¶æ±½è½¦çš„é•¿é€”æ—…æ¸¸æœåŠ¡ã€‚æ—…å®¢åªéœ€é€‰æ‹©ä¸€ä¸ªæ—…æ¸¸è¡Œç¨‹ï¼Œè‡ªåŠ¨é©¾é©¶æ±½è½¦å°†å…¨ç¨‹è´Ÿè´£è¡Œç¨‹è§„åˆ’ã€é©¾é©¶ä»¥åŠæ¥é€æœåŠ¡ï¼Œå®Œæˆæ•´ä¸ªæ—…æ¸¸ä»»åŠ¡ã€‚åœ¨æ—…æ¸¸é¡¹ç›®åˆšä¸Šçº¿æ—¶ï¼Œæ—…å®¢æœ€å–œçˆ±çš„è·¯çº¿å°šæœªæ˜ç¡®ï¼Œéœ€è¦é€šè¿‡**å¤šæ¬¡å®é™…è¿è¡Œ**ï¼Œå¹¶ç»“åˆç´¯è®¡å¥–åŠ±ï¼ˆæ—…å®¢è¯„åˆ†ï¼‰ï¼ŒåŸºäºå¼ºåŒ–å­¦ä¹ è®­ç»ƒæ—…æ¸¸è·¯çº¿è§„åˆ’æ¨¡å‹ã€‚ç›®æ ‡æ˜¯é€æ­¥ä¼˜åŒ–ä¹˜å®¢çš„æ—…æ¸¸ä½“éªŒï¼Œæœ€ç»ˆç¡®å®šæœ€å—æ—…å®¢æ¬¢è¿çš„æœ€ä½³è·¯çº¿ã€‚
- å¼ºåŒ–å­¦ä¹ ä¸­çš„å„ä¸ªæ ¸å¿ƒ**æ¦‚å¿µæ˜ å°„**å¦‚å›¾ï¼š
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ çš„è¿è¡Œè½¨è¿¹](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%9A%84%E8%BF%90%E8%A1%8C%E8%BD%A8%E8%BF%B9.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%9A%84%E8%BF%90%E8%A1%8C%E8%BD%A8%E8%BF%B9.png)

### <a name="header-37"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘é©¬å°”å¯å¤«é“¾vsé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰
- é©¬å°”å¯å¤«é“¾å’Œé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰æ˜¯å¼ºåŒ–å­¦ä¹ é¢†åŸŸçš„é‡è¦ç†è®º**åŸºç¡€**ã€‚
- **é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹**ï¼ˆMarkov Decision Process, **MDP**ï¼‰æ˜¯åœ¨é©¬å°”å¯å¤«é“¾çš„åŸºç¡€ä¸Šå¼•å…¥äº†åŠ¨ä½œï¼ˆAï¼‰å’Œå¥–åŠ±ï¼ˆRï¼‰çš„æ¦‚å¿µã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘é©¬å°”å¯å¤«é“¾vsé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E9%93%BEvs%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E5%86%B3%E7%AD%96%E8%BF%87%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E9%93%BEvs%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E5%86%B3%E7%AD%96%E8%BF%87%E7%A8%8B.png)

### <a name="header-38"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘æ¢ç´¢ä¸åˆ©ç”¨é—®é¢˜ï¼ˆExploration and Exploitationï¼‰
- **æ¢ç´¢ä¸åˆ©ç”¨**ï¼ˆExploration-Exploitationï¼‰çš„å¹³è¡¡æ˜¯å¼ºåŒ–å­¦ä¹ çš„æ ¸å¿ƒæŒ‘æˆ˜ä¹‹ä¸€ã€‚
- æ™ºèƒ½ä½“åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­éœ€è¦åœ¨â€œå°è¯•æ–°åŠ¨ä½œâ€ï¼ˆæ¢ç´¢ï¼‰ä¸â€œé€‰æ‹©å½“å‰å·²çŸ¥çš„æœ€ä¼˜åŠ¨ä½œâ€ï¼ˆåˆ©ç”¨ï¼‰ä¹‹é—´è¿›è¡Œ**æƒè¡¡**ã€‚è¿‡åº¦æ¢ç´¢å¯èƒ½å¯¼è‡´å­¦ä¹ è¿‡ç¨‹ç¼“æ…¢ï¼Œç”šè‡³æ— æ³•æ”¶æ•›åˆ°æœ€ä¼˜è§£ï¼›è€Œè¿‡åº¦åˆ©ç”¨åˆ™å¯èƒ½ä½¿æ™ºèƒ½ä½“é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼Œæ— æ³•è¾¾åˆ°å…¨å±€æœ€ä¼˜å›æŠ¥ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘æ¢ç´¢ä¸åˆ©ç”¨é—®é¢˜](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E6%8E%A2%E7%B4%A2%E4%B8%8E%E5%88%A9%E7%94%A8%E9%97%AE%E9%A2%98.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E6%8E%A2%E7%B4%A2%E4%B8%8E%E5%88%A9%E7%94%A8%E9%97%AE%E9%A2%98.png)

### <a name="header-39"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘Æ-è´ªå©ªç­–ç•¥ä¸‹ä½¿ç”¨åŠ¨æ€çš„Æå€¼
- **Æ-è´ªå©ª**ï¼ˆEpsilon Greedyï¼‰æ˜¯ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„ç­–ç•¥ï¼Œç”¨äºåœ¨å¼ºåŒ–å­¦ä¹ ä¸­å¹³è¡¡æ¢ç´¢ä¸åˆ©ç”¨ã€‚é€šè¿‡å¼•å…¥æ¢ç´¢æ¦‚ç‡å› å­Æï¼Œæ§åˆ¶æ¢ç´¢ä¸åˆ©ç”¨çš„æ¯”ä¾‹ã€‚
- åœ¨è®­ç»ƒ**åˆæœŸ**ï¼Œå¯ä»¥å°†Æçš„å€¼è®¾å¾—æ¯”è¾ƒ**å¤§**ï¼Œéšç€è®­ç»ƒçš„è¿›è¡Œï¼Œé€æ­¥**é™ä½** Æçš„å€¼ï¼Œä½¿æ™ºèƒ½ä½“åœ¨åˆæœŸæ›´å¤šåœ°è¿›è¡Œ**æ¢ç´¢**ï¼Œéšç€å¯¹ç¯å¢ƒçš„äº†è§£åŠ æ·±ï¼Œé€æ¸è½¬å‘**åˆ©ç”¨**ï¼Œä»è€Œæé«˜å­¦ä¹ æ•ˆç‡å’Œæœ€ç»ˆç­–ç•¥çš„æ€§èƒ½ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘Æ-è´ªå©ªç­–ç•¥ä¸‹ä½¿ç”¨åŠ¨æ€çš„Æå€¼](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%C6%90-%E8%B4%AA%E5%A9%AA%E7%AD%96%E7%95%A5%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%8A%A8%E6%80%81%E7%9A%84%C6%90%E5%80%BC.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%C6%90-%E8%B4%AA%E5%A9%AA%E7%AD%96%E7%95%A5%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%8A%A8%E6%80%81%E7%9A%84%C6%90%E5%80%BC.png)

### <a name="header-40"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ è®­ç»ƒèŒƒå¼çš„å¯¹æ¯”
- åŒç­–ç•¥ï¼ˆOn-policyï¼‰ã€å¼‚ç­–ç•¥ï¼ˆOff-policyï¼‰ã€åœ¨çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆOnline RLï¼‰å’Œç¦»çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆOffline RLï¼‰
- æ ¹æ®ç»éªŒæ”¶é›†ä¸ç­–ç•¥è®­ç»ƒçš„æ–¹å¼ï¼Œä¸»è¦å¯ä»¥åˆ’åˆ†ä¸º**å››ä¸ª**æ ¸å¿ƒæ¦‚å¿µï¼šåŒç­–ç•¥ï¼ˆOn-policyï¼‰ã€å¼‚ç­–ç•¥ï¼ˆOff-policyï¼‰ã€åœ¨çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆOnline RLï¼‰å’Œç¦»çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆOffline RLï¼‰ã€‚
- **åŒç­–ç•¥ï¼ˆOn-policyï¼‰**ï¼šå½“è¡Œä¸ºç­–ç•¥ä¸ç›®æ ‡ç­–ç•¥**ç›¸åŒ**æ—¶ï¼Œç§°ä¸ºåŒç­–ç•¥å­¦ä¹ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ™ºèƒ½ä½“æ ¹æ®å½“å‰ç­–ç•¥é€‰æ‹©åŠ¨ä½œï¼Œå¹¶åˆ©ç”¨è¿™äº›ç»éªŒæ¥æ›´æ–°å½“å‰ç­–ç•¥ï¼Œä¸¤è€…æ˜¯**åŒä¸€ä¸ªç‰ˆæœ¬**çš„ç­–ç•¥ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨åŒç­–ç•¥ä¸‹ï¼Œè¡Œä¸ºç­–ç•¥å’Œç›®æ ‡ç­–ç•¥éƒ½æ˜¯Ï€nã€‚æœ¬è´¨ä¸Šæ˜¯åŒä¸€ä¸ªç­–ç•¥ï¼ˆæ¨¡å‹ï¼‰ï¼Œä¸ºäº†ä¾¿äºç†è§£å’Œå¯¹æ¯”ï¼Œå›¾ä¸­ç»˜åˆ¶äº†ä¸¤ä¸ªç­–ç•¥çš„ç¤ºæ„å›¾ã€‚ä¾‹å¦‚ï¼Œç­–ç•¥æ¢¯åº¦æ–¹æ³•å’ŒSARSAç®—æ³•éƒ½æ˜¯å…¸å‹çš„åŒç­–ç•¥ç®—æ³•ã€‚
- **å¼‚ç­–ç•¥ï¼ˆOff-policyï¼‰**ï¼šå½“è¡Œä¸ºç­–ç•¥ä¸ç›®æ ‡ç­–ç•¥**ä¸åŒ**æ—¶ï¼Œç§°ä¸ºå¼‚ç­–ç•¥å­¦ä¹ ã€‚æ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨æŸç§ç­–ç•¥è¿›è¡Œæ¢ç´¢ï¼Œä½†å­¦ä¹ ï¼ˆè®­ç»ƒï¼‰å’Œä¼˜åŒ–çš„æ˜¯**å¦ä¸€ç§**ç­–ç•¥ï¼Œä¸¤è€…å±äºä¸åŒç‰ˆæœ¬ï¼ˆæˆ–ä¸åŒç±»å‹ï¼‰çš„ç­–ç•¥ã€‚ä¾‹å¦‚ï¼ŒQ-learningã€DQNç­‰ç®—æ³•æ˜¯å…¸å‹çš„å¼‚ç­–ç•¥ç®—æ³•ï¼Œå°½ç®¡å¯èƒ½ä½¿ç”¨Æ-è´ªå©ªç­–ç•¥è¿›è¡Œæ¢ç´¢ï¼Œä½†æœ€ç»ˆå­¦ä¹ çš„æ˜¯æœ€ä¼˜ç­–ç•¥ã€‚
- **åœ¨çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆOnline RLï¼‰**ï¼šåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç­–ç•¥æŒç»­ä¸ç¯å¢ƒ**äº¤äº’**å¹¶æ”¶é›†ç»éªŒï¼Œè®­ç»ƒæ•°æ®æºæºä¸æ–­åœ°åŠ¨æ€ç”Ÿæˆï¼Œç›®æ ‡ç­–ç•¥ä¹Ÿåœ¨é€šè¿‡è®­ç»ƒä¸æ–­è¿›åŒ–ã€‚
- **ç¦»çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆOffline RLï¼‰**ï¼šåˆç§°æ‰¹é‡å¼ºåŒ–å­¦ä¹ ï¼ˆBatch RLï¼‰ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºå®Œå…¨å¼‚ç­–ç•¥å¼ºåŒ–å­¦ä¹ ï¼ˆFully Off-policy RLï¼‰ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ™ºèƒ½ä½“å®Œå…¨**ä¸ä¸ç¯å¢ƒäº¤äº’**ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ªä¸çº¿ä¸Šç¯å¢ƒéš”ç¦»çš„ç¯å¢ƒä¸­è¿›è¡Œè®­ç»ƒï¼Œä»…ä¾èµ–é¢„å…ˆæ”¶é›†çš„æ•°æ®ã€‚è¿™äº›æ•°æ®å¯èƒ½æ¥æºäºå†å²è®°å½•ã€å…¶ä»–ç­–ç•¥çš„ç§¯ç´¯ï¼Œæˆ–æ˜¯æ¨¡æ‹Ÿç¯å¢ƒç”Ÿæˆçš„æ ·æœ¬ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ è®­ç»ƒèŒƒå¼çš„å¯¹æ¯”](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AE%AD%E7%BB%83%E8%8C%83%E5%BC%8F%E7%9A%84%E5%AF%B9%E6%AF%94.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AE%AD%E7%BB%83%E8%8C%83%E5%BC%8F%E7%9A%84%E5%AF%B9%E6%AF%94.png)

### <a name="header-41"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ ç®—æ³•åˆ†ç±»
- æ ¹æ®ä¸åŒçš„ç»´åº¦ï¼Œå¼ºåŒ–å­¦ä¹ ç®—æ³•**åˆ†ç±»**å¦‚ä¸‹å›¾ã€‚
- æ­¤å¤–ï¼Œå¼ºåŒ–å­¦ä¹ è¿˜å¸¸ä¸ç›‘ç£å­¦ä¹ ï¼ˆSupervised Learning, SLï¼‰ã€å¯¹æ¯”å­¦ä¹ ï¼ˆContrastive Learning, CLï¼‰ã€æ¨¡ä»¿å­¦ä¹ ï¼ˆImitation Learning, ILï¼‰ã€ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGenerative Adversarial Networks, GANï¼‰ç­‰æŠ€æœ¯**ç»“åˆ**ï¼Œè¿™äº›ç»“åˆå‚¬ç”Ÿäº†å¤šç§**äº¤å‰**ç±»å‹çš„ç®—æ³•ï¼Œè¿›ä¸€æ­¥æ‰©å±•äº†å¼ºåŒ–å­¦ä¹ çš„åº”ç”¨é¢†åŸŸã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¼ºåŒ–å­¦ä¹ ç®—æ³•åˆ†ç±»](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E5%88%86%E7%B1%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E5%88%86%E7%B1%BB.png)

### <a name="header-42"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å›æŠ¥ï¼ˆç´¯è®¡å¥–åŠ±ï¼ŒReturnï¼‰
- **å›æŠ¥**ï¼ˆReturnï¼‰ï¼Œå¸¸ç”¨å­—æ¯Gè¡¨ç¤ºï¼ˆGæ˜¯Gainçš„ç¼©å†™ï¼Œå³æ”¶ç›Šï¼‰ï¼Œä¹Ÿç§°ä¸ºæœªæ¥å›æŠ¥ã€ç´¯è®¡å¥–åŠ±æˆ–ç´¯è®¡æŠ˜æ‰£å¥–åŠ±ï¼Œæ˜¯æŒ‡ä»æŸä¸€æ—¶é—´æ­¥å¼€å§‹ï¼Œæœªæ¥æ‰€æœ‰å¥–åŠ±çš„ç´¯ç§¯æ€»å’Œã€‚
- å®ƒè¡¡é‡äº†ä»å½“å‰æ—¶é—´æ­¥å¼€å§‹ï¼Œæ™ºèƒ½ä½“**æœªæ¥å¯èƒ½**è·å¾—çš„æ€»å¥–åŠ±ï¼Œå¯ç”¨äºè¯„ä¼°æ™ºèƒ½ä½“ç­–ç•¥åœ¨é•¿æœŸå†…çš„ä¼˜åŠ£ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å›æŠ¥ï¼ˆç´¯è®¡å¥–åŠ±ï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%9B%9E%E6%8A%A5%EF%BC%88%E7%B4%AF%E8%AE%A1%E5%A5%96%E5%8A%B1%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%9B%9E%E6%8A%A5%EF%BC%88%E7%B4%AF%E8%AE%A1%E5%A5%96%E5%8A%B1%EF%BC%89.png)

### <a name="header-43"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘åå‘è¿­ä»£å¹¶è®¡ç®—å›æŠ¥G
- å¼•å…¥æŠ˜æ‰£å› å­Î³ï¼Œæ ¹æ®ç»éªŒæ•°æ®å­˜å‚¨ï¼Œä»æœ€åä¸€ä¸ªçŠ¶æ€ä½ç½®å¼€å§‹è®¡ç®—å›æŠ¥ï¼Œ**åå‘è¿­ä»£**è®¡ç®—
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘åå‘è¿­ä»£å¹¶è®¡ç®—å›æŠ¥G](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%8F%8D%E5%90%91%E8%BF%AD%E4%BB%A3%E5%B9%B6%E8%AE%A1%E7%AE%97%E5%9B%9E%E6%8A%A5G.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%8F%8D%E5%90%91%E8%BF%AD%E4%BB%A3%E5%B9%B6%E8%AE%A1%E7%AE%97%E5%9B%9E%E6%8A%A5G.png)

### <a name="header-44"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¥–åŠ±ï¼ˆRewardï¼‰ã€å›æŠ¥ï¼ˆReturnï¼‰ã€ä»·å€¼ï¼ˆValueï¼‰çš„å…³ç³»
- å¥–åŠ±ï¼ˆRewardï¼‰ã€å›æŠ¥ï¼ˆReturnï¼‰å’Œä»·å€¼ï¼ˆValueï¼‰**ä¸‰è€…**çš„å…³ç³»å¦‚å›¾æ‰€ç¤ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤å¤„å‡è®¾æŠ˜æ‰£å› å­Î³=1ã€‚
- ï¼ˆ1ï¼‰**å¥–åŠ±**ï¼ˆRewardï¼‰ï¼šå³æ—¶å¥–åŠ±ï¼Œæ˜¯åœ¨æŸä¸€çŠ¶æ€ä¸‹è·å¾—çš„å±€éƒ¨æ”¶ç›Šæˆ–**çŸ­æœŸ**æ”¶ç›Šã€‚
- ï¼ˆ2ï¼‰**å›æŠ¥**ï¼ˆReturnï¼‰ï¼šæœªæ¥å›æŠ¥ï¼Œæ˜¯ä»å½“å‰çŠ¶æ€stå¼€å§‹è®¡ç®—ï¼Œä¹‹åæ‰€æœ‰å¥–åŠ±çš„ç´¯ç§¯å’Œï¼Œå³æœªæ¥çš„**æ€»æ”¶ç›Š**ã€‚
- ï¼ˆ3ï¼‰**ä»·å€¼**ï¼ˆValueï¼‰ï¼šä»·å€¼æ˜¯å›æŠ¥çš„**æœŸæœ›**å€¼ï¼Œå³åœ¨æ‰€æœ‰å¯èƒ½çš„è½¨è¿¹ä¸­ï¼Œå›æŠ¥ä¹˜ä»¥å…¶å‘ç”Ÿæ¦‚ç‡åçš„åŠ æƒå¹³å‡å€¼ï¼Œè¡¨ç¤ºåœ¨å¹³å‡æƒ…å†µä¸‹çš„æœªæ¥æ€»æ”¶ç›Šã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¥–åŠ±ã€å›æŠ¥ã€ä»·å€¼çš„å…³ç³»](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%A5%96%E5%8A%B1%E3%80%81%E5%9B%9E%E6%8A%A5%E3%80%81%E4%BB%B7%E5%80%BC%E7%9A%84%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%A5%96%E5%8A%B1%E3%80%81%E5%9B%9E%E6%8A%A5%E3%80%81%E4%BB%B7%E5%80%BC%E7%9A%84%E5%85%B3%E7%B3%BB.png)

### <a name="header-45"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ä»·å€¼å‡½æ•°QÏ€ä¸VÏ€çš„å…³ç³»
- **åŠ¨ä½œä»·å€¼å‡½æ•°**ï¼ˆAction-Value Functionï¼‰è¡¡é‡åœ¨ç­–ç•¥Ï€ä¸‹ï¼Œæ™ºèƒ½ä½“åœ¨çŠ¶æ€sæ—¶é‡‡å–åŠ¨ä½œ aåæœªæ¥æ‰€èƒ½è·å¾—çš„å›æŠ¥çš„æœŸæœ›å€¼ï¼Œè¯¥æœŸæœ›å€¼æœ‰æ—¶ä¹Ÿæ³›ç§°ä¸º**Qå€¼**ï¼ˆQ-valueï¼‰ï¼Œé€šå¸¸è®°ä¸ºQÏ€(s,a)
- **çŠ¶æ€ä»·å€¼å‡½æ•°**ï¼ˆState-Value Functionï¼‰ï¼Œè®°ä¸ºVÏ€(s)ï¼Œè¡¨ç¤ºåœ¨çŠ¶æ€sä¸‹ï¼Œéµå¾ªç­–ç•¥Ï€æ—¶ï¼Œæ™ºèƒ½ä½“æœªæ¥èƒ½å¤Ÿè·å¾—çš„å›æŠ¥çš„æœŸæœ›å€¼ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ä»·å€¼å‡½æ•°QÏ€ä¸VÏ€çš„å…³ç³»](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E4%BB%B7%E5%80%BC%E5%87%BD%E6%95%B0Q%CF%80%E4%B8%8EV%CF%80%E7%9A%84%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E4%BB%B7%E5%80%BC%E5%87%BD%E6%95%B0Q%CF%80%E4%B8%8EV%CF%80%E7%9A%84%E5%85%B3%E7%B3%BB.png)

### <a name="header-46"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è’™ç‰¹å¡æ´›ï¼ˆMonte Carloï¼ŒMCï¼‰æ³•é¢„ä¼°çŠ¶æ€Stçš„ä»·å€¼
- **è’™ç‰¹å¡æ´›**ï¼ˆMonte Carlo, **MC**ï¼‰æ–¹æ³•æ˜¯ä¸€ç§åŸºäº**éšæœºé‡‡æ ·**çš„è®¡ç®—æ–¹æ³•ï¼Œåˆ©ç”¨éšæœºé‡‡æ ·æ¥è§£å†³åœ¨åŸåˆ™ä¸Šå¯èƒ½æ˜¯ç¡®å®šæ€§çš„éš¾é¢˜ã€‚
- åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œè’™ç‰¹å¡æ´›æ–¹æ³•æ˜¯æŒ‡é€šè¿‡å¤šæ¬¡å®é™…è¿è¡Œè¯•éªŒï¼Œè·å¾—å¤šä¸ªå®é™…çš„è¿è¡Œè½¨è¿¹ï¼Œæ ¹æ®è¿™äº›ç»“æœæ¥ä¼°è®¡ä»·å€¼å‡½æ•°æˆ–ä¼˜åŒ–ç­–ç•¥ï¼Œç‰¹åˆ«é€‚ç”¨äºé‚£äº›ç¯å¢ƒæ¨¡å‹æœªçŸ¥æˆ–éš¾ä»¥è§£æçš„é—®é¢˜ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è’™ç‰¹å¡æ´›æ³•é¢„ä¼°çŠ¶æ€Stçš„ä»·å€¼](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%B3%95%E9%A2%84%E4%BC%B0%E7%8A%B6%E6%80%81St%E7%9A%84%E4%BB%B7%E5%80%BC.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%B3%95%E9%A2%84%E4%BC%B0%E7%8A%B6%E6%80%81St%E7%9A%84%E4%BB%B7%E5%80%BC.png)

### <a name="header-47"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘TDç›®æ ‡ä¸TDè¯¯å·®çš„å…³ç³»ï¼ˆTD target and TD errorï¼‰
- **TD error**ï¼ˆTDè¯¯å·®ï¼‰è¡¡é‡äº†å½“å‰ä»·å€¼ä¼°è®¡ä¸TDç›®æ ‡ä¹‹é—´çš„å·®å¼‚ï¼Œå®ƒåæ˜ äº†å½“å‰ä¼°è®¡ä¸æœ€æ–°ä¿¡æ¯çš„ä¸ä¸€è‡´ç¨‹åº¦ï¼Œ**æŒ‡å¯¼**ä»·å€¼å‡½æ•°çš„æ›´æ–°æ–¹å‘å’Œå¹…åº¦ã€‚
- **TD target** ï¼ˆTDç›®æ ‡ï¼‰åŒ…å«äº†æœ€æ–°çš„ç¯å¢ƒåé¦ˆä¿¡æ¯rt+1ï¼Œå› æ­¤è¢«è®¤ä¸ºæ¯”V(st)**æ›´æ¥è¿‘çœŸå®å€¼**ï¼Œé€šå¸¸å°†TDç›®æ ‡ä½œä¸ºä»·å€¼å‡½æ•°æ‹Ÿåˆçš„ç›®æ ‡ã€‚TDç›®æ ‡ä¸TDè¯¯å·®çš„å…³ç³»å¦‚å›¾æ‰€ç¤ºã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘TDç›®æ ‡ä¸TDè¯¯å·®çš„å…³ç³»](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91TD%E7%9B%AE%E6%A0%87%E4%B8%8ETD%E8%AF%AF%E5%B7%AE%E7%9A%84%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91TD%E7%9B%AE%E6%A0%87%E4%B8%8ETD%E8%AF%AF%E5%B7%AE%E7%9A%84%E5%85%B3%E7%B3%BB.png)

### <a name="header-48"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘TD(0)ã€å¤šæ­¥TDä¸è’™ç‰¹å¡æ´›ï¼ˆMCï¼‰çš„å…³ç³»
- TD(0)ã€å¤šæ­¥TDä¸è’™ç‰¹å¡æ´›æ–¹æ³•ä¹‹é—´å­˜åœ¨ç´§å¯†çš„è”ç³»ã€‚å¦‚å›¾ï¼š
- å½“æ­¥æ•°n=1æ—¶ï¼Œå¤šæ­¥TD**é€€åŒ–**ä¸ºTD(0)ï¼›
- å½“æ­¥æ•°nè¶‹è¿‘äºæ— ç©·å¤§æ—¶ï¼Œå¤šæ­¥TD**é€€åŒ–**ä¸ºè’™ç‰¹å¡æ´›æ–¹æ³•ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘TD(0)ã€å¤šæ­¥TDä¸è’™ç‰¹å¡æ´›ï¼ˆMCï¼‰çš„å…³ç³»](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91TD%280%29%E3%80%81%E5%A4%9A%E6%AD%A5TD%E4%B8%8E%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%EF%BC%88MC%EF%BC%89%E7%9A%84%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91TD%280%29%E3%80%81%E5%A4%9A%E6%AD%A5TD%E4%B8%8E%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%EF%BC%88MC%EF%BC%89%E7%9A%84%E5%85%B3%E7%B3%BB.png)

### <a name="header-49"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è’™ç‰¹å¡æ´›æ–¹æ³•ä¸TDæ–¹æ³•çš„ç‰¹æ€§
- è’™ç‰¹å¡æ´›æ–¹æ³•å’ŒTDæ–¹æ³•åœ¨ä¼°è®¡ä»·å€¼æ—¶å„æœ‰**ä¼˜åŠ£**ï¼šè’™ç‰¹å¡æ´›æ–¹æ³•ä½åå·®ã€é«˜æ–¹å·®ï¼›TDæ–¹æ³•é«˜åå·®ã€ä½æ–¹å·®ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è’™ç‰¹å¡æ´›æ–¹æ³•ä¸TDæ–¹æ³•çš„ç‰¹æ€§](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E4%B8%8ETD%E6%96%B9%E6%B3%95%E7%9A%84%E7%89%B9%E6%80%A7.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E4%B8%8ETD%E6%96%B9%E6%B3%95%E7%9A%84%E7%89%B9%E6%80%A7.png)

### <a name="header-50"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è’™ç‰¹å¡æ´›ã€TDã€DPã€ç©·ä¸¾æœç´¢çš„å…³ç³» <sup>[<a href="./src/references.md">32</a>]</sup>
- åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œæœ‰**å››ç±»æ–¹æ³•**å¯ä»¥è¿›è¡Œä»·å€¼ä¼°è®¡ä¸ç­–ç•¥ä¼˜åŒ–ï¼šè’™ç‰¹å¡æ´›ã€æ—¶åºå·®åˆ†ï¼ˆTemporal Difference, TDï¼‰ã€åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programming, DPï¼‰ä»¥åŠç©·ä¸¾æœç´¢ï¼ˆBrute-Force Searchï¼‰ã€‚
- ä»æ·±åº¦æœç´¢å’Œå¹¿åº¦æœç´¢çš„è§†è§’çœ‹ï¼Œå®ƒä»¬çš„åŒºåˆ«å¦‚å›¾ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è’™ç‰¹å¡æ´›ã€TDã€DPã€ç©·ä¸¾æœç´¢çš„å…³ç³»](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E3%80%81TD%E3%80%81DP%E3%80%81%E7%A9%B7%E4%B8%BE%E6%90%9C%E7%B4%A2%E7%9A%84%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E3%80%81TD%E3%80%81DP%E3%80%81%E7%A9%B7%E4%B8%BE%E6%90%9C%E7%B4%A2%E7%9A%84%E5%85%B3%E7%B3%BB.png)

### <a name="header-51"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ä¸¤ç§è¾“å…¥è¾“å‡ºç»“æ„çš„DQNï¼ˆDeep Q-Networkï¼‰æ¨¡å‹
DQNæ¨¡å‹çš„è¾“å…¥è¾“å‡ºç»“æ„æœ‰**ä¸¤ç§**ç±»å‹ï¼š
- ï¼ˆ1ï¼‰è¾“å…¥ä¸ºå½“å‰çŠ¶æ€ï¼ˆS0ï¼‰å’Œå€™é€‰æ‰§è¡Œçš„åŠ¨ä½œï¼ˆA0ï¼‰ï¼Œè¾“å‡ºä¸ºå¯¹åº”çš„ä»·å€¼Q0ï¼ˆæœªæ¥å›æŠ¥çš„é¢„ä¼°ï¼‰ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¹Ÿå¯ä»¥æ‰¹é‡è®¡ç®—**å¤šä¸ª**åŠ¨ä½œçš„ä»·å€¼Qã€‚
- ï¼ˆ2ï¼‰è¾“å…¥ä¸ºå½“å‰çŠ¶æ€ï¼ˆS0ï¼‰ï¼Œè¾“å‡ºä¸ºåŠ¨ä½œç©ºé—´ä¸­æ‰€æœ‰åŠ¨ä½œå¯¹åº”çš„ä»·å€¼Qã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸é€‰æ‹©å…·æœ‰**æœ€å¤§ä»·å€¼**çš„åŠ¨ä½œæ‰§è¡Œã€‚

[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ä¸¤ç§è¾“å…¥è¾“å‡ºç»“æ„çš„DQNæ¨¡å‹](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E4%B8%A4%E7%A7%8D%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%84%E7%9A%84DQN%E6%A8%A1%E5%9E%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E4%B8%A4%E7%A7%8D%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%84%E7%9A%84DQN%E6%A8%A1%E5%9E%8B.png)

### <a name="header-52"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘DQNçš„å®é™…åº”ç”¨ç¤ºä¾‹
- è®­ç»ƒå®Œæˆåï¼ŒDQNæ¨¡å‹å¯**éƒ¨ç½²**åˆ°çº¿ä¸Šç¯å¢ƒï¼Œå¸®åŠ©è¿›è¡Œå®é™…å†³ç­–ã€‚
- åœ¨æ¨ç†æ—¶ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæ ¹æ®è¾“å‡ºçš„ä»·å€¼Qé€‰æ‹©**æœ€ä¼˜åŠ¨ä½œ**æ‰§è¡Œã€‚ç”±äºDQNæ˜¯åŸºäºä»·å€¼çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œè¾“å‡ºçš„å€¼ä»…ä¸ºä»·å€¼Qï¼Œéœ€è¦è¿›ä¸€æ­¥**è½¬æ¢ä¸º**å®é™…æ‰§è¡Œçš„åŠ¨ä½œAã€‚å¸¸è§çš„æ–¹æ³•æ˜¯ä»æ‰€æœ‰ä»·å€¼Qä¸­é€‰å–æœ€å¤§å€¼å¯¹åº”çš„åŠ¨ä½œï¼Œå¹¶ä½œä¸ºæœ€ä¼˜åŠ¨ä½œæ‰§è¡Œã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘DQNçš„å®é™…åº”ç”¨ç¤ºä¾‹](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91DQN%E7%9A%84%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91DQN%E7%9A%84%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B.png)

### <a name="header-53"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘DQNçš„â€œé«˜ä¼°â€é—®é¢˜
- DQNç®—æ³•çš„**ä¸¤å¤§æ ¸å¿ƒ**é—®é¢˜ï¼šï¼ˆ1ï¼‰â€œé«˜ä¼°â€é—®é¢˜; ï¼ˆ2ï¼‰â€œç‹—è¿½å°¾å·´â€é—®é¢˜ã€‚
- ï¼ˆ1ï¼‰**é«˜ä¼°**é—®é¢˜ï¼šDQNåœ¨é€‰æ‹©å’Œè¯„ä¼°åŠ¨ä½œæ—¶ï¼ŒåŠ¨ä½œä»·å€¼Qå¸¸è¢«è¿‡é«˜ä¼°è®¡ï¼Œå¯¼è‡´ç­–ç•¥ä¼˜åŒ–å‡ºç°åå·®ï¼Œå½±å“æœ€ç»ˆæ€§èƒ½ã€‚è¿™ä¸»è¦ç”±äº**æœ€å¤§åŒ–**æ“ä½œä¸­åŒ…å«äº†é«˜ä¼°éƒ¨åˆ†çš„å€¼ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæœ€ç»ˆç›®æ ‡ä»·å€¼ytä¸­åŒ…å«äº†é¢å¤–é«˜ä¼°çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”è¿™ç§é«˜ä¼°ä¼šé€æ­¥**ç´¯ç§¯**ã€‚æ­¤å¤–ï¼Œè¿™ç§é«˜ä¼°æ˜¯â€œéå‡åŒ€â€çš„ï¼Œå³ä¸åŒåŠ¨ä½œçš„ä»·å€¼Qè¢«é«˜ä¼°çš„ç¨‹åº¦å„ä¸ç›¸åŒã€‚
- ï¼ˆ2ï¼‰**ç‹—è¿½å°¾å·´**é—®é¢˜ï¼šä¹Ÿç§°ä¸º**è‡ªä¸¾**é—®é¢˜ï¼Œå¦‚å¼æ‰€ç¤ºï¼ŒDQNçš„è®­ç»ƒè¿‡ç¨‹å¯ä»¥çœ‹åšä¸€ä¸ªâ€œå›å½’é—®é¢˜â€ï¼Œä½†æ˜¯å›å½’ï¼ˆè¦æ‹Ÿåˆï¼‰çš„ç›®æ ‡yt**æ€»æ˜¯åœ¨å˜**ï¼Œæ‰€ä»¥æå‡äº†è®­ç»ƒçš„éš¾åº¦ã€‚åœ¨DQNä¸­ï¼Œè®¡ç®—ç›®æ ‡ä»·å€¼ å’Œå½“å‰çŠ¶æ€stçš„ä»·å€¼é¢„æµ‹å€¼ ä½¿ç”¨ç›¸åŒçš„ç½‘ç»œæƒé‡Î¸ã€‚ç”±äºå›å½’çš„ç›®æ ‡ytä¾èµ–äºå½“å‰ç½‘ç»œçš„æƒé‡Î¸ï¼Œå½“ç½‘ç»œæƒé‡æ›´æ–°åå˜ä¸ºÎ¸â€²ï¼›ä¸‹ä¸€æ­¥è®­ç»ƒæ—¶ï¼Œè®¡ç®—å‡ºçš„ä»·å€¼é¢„æµ‹å€¼å’Œå›å½’çš„ç›®æ ‡ytå€¼å°†åŒæ­¥å˜åŒ–ã€‚è¿™ç§åŠ¨æ€ç›¸äº’ä¾èµ–å…³ç³»å°±åƒâ€œç‹—è¿½å°¾å·´â€ä¸€æ ·ï¼Œä¸æ–­å¾ªç¯ï¼Œå¯¼è‡´ä¼˜åŒ–è¿‡ç¨‹å®¹æ˜“ä¸ç¨³å®šï¼Œç”šè‡³**éš¾ä»¥æ”¶æ•›**ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘DQNçš„â€œé«˜ä¼°â€é—®é¢˜](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91DQN%E7%9A%84%E2%80%9C%E9%AB%98%E4%BC%B0%E2%80%9D%E9%97%AE%E9%A2%98.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91DQN%E7%9A%84%E2%80%9C%E9%AB%98%E4%BC%B0%E2%80%9D%E9%97%AE%E9%A2%98.png)

### <a name="header-54"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘åŸºäºä»·å€¼vsåŸºäºç­–ç•¥ï¼ˆValue-Based vs Policy-Basedï¼‰
- æ ¹æ®**å­¦ä¹ å¯¹è±¡**çš„ä¸åŒï¼šåˆ†ä¸ºåŸºäºä»·å€¼ï¼ˆValue-Basedï¼‰ã€åŸºäºç­–ç•¥ï¼ˆPolicy-Basedï¼‰ä»¥åŠæ¼”å‘˜-è¯„å§”ï¼ˆActor-Criticï¼‰æ–¹æ³•ã€‚
- åŸºäºä»·å€¼çš„ç®—æ³•é€šè¿‡ä¼°è®¡å„çŠ¶æ€çš„ä»·å€¼å‡½æ•°ï¼ˆä¾‹å¦‚Væˆ–Qï¼‰æ¥é—´æ¥æ¨å¯¼å‡º**æœ€ä¼˜ç­–ç•¥**ï¼›
- åŸºäºç­–ç•¥çš„ç®—æ³•ç›´æ¥å­¦ä¹ å’Œä¼˜åŒ–ç­–ç•¥å‡½æ•°Ï€ï¼›
- æ¼”å‘˜-è¯„å§”æ–¹æ³•åˆ™åŒæ—¶**ç»“åˆ**äº†åŸºäºä»·å€¼å’ŒåŸºäºç­–ç•¥çš„ç‰¹ç‚¹ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘åŸºäºä»·å€¼vsåŸºäºç­–ç•¥](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%9F%BA%E4%BA%8E%E4%BB%B7%E5%80%BCvs%E5%9F%BA%E4%BA%8E%E7%AD%96%E7%95%A5.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%9F%BA%E4%BA%8E%E4%BB%B7%E5%80%BCvs%E5%9F%BA%E4%BA%8E%E7%AD%96%E7%95%A5.png)

### <a name="header-55"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ç­–ç•¥æ¢¯åº¦ï¼ˆPolicy Gradientï¼‰
- **ç­–ç•¥æ¢¯åº¦**æ˜¯å¼ºåŒ–å­¦ä¹ ä¼—å¤šç®—æ³•çš„ç†è®º**åŸºçŸ³**ã€‚ä¾‹å¦‚ï¼ŒPPOç®—æ³•ã€GRPOç®—æ³•ã€DPGç®—æ³•ä»¥åŠåŸºäºActor-Criticæ¶æ„çš„ä¼—å¤šç®—æ³•éƒ½å»ºç«‹äºç­–ç•¥æ¢¯åº¦ä¹‹ä¸Šã€‚
- **RLä¹‹çˆ¶** Richard S. Suttonç­‰äººåˆ™åœ¨å‰äººåŸºç¡€ä¸Šè¿›ä¸€æ­¥æå‡ºäº†æ›´ä¸ºä¸¥è°¨ä¸”ç³»ç»ŸåŒ–çš„**ç­–ç•¥æ¢¯åº¦å®šç†**ï¼ˆPolicy Gradient Theoremï¼‰ã€‚
- ä¸åŸºäºä»·å€¼ï¼ˆValue-Basedï¼‰çš„æ–¹æ³•ï¼ˆä¾‹å¦‚DQNç­‰ï¼‰ä¸åŒï¼Œé€šè¿‡**ç›´æ¥ä¼˜åŒ–ç­–ç•¥**ä»¥æœ€å¤§åŒ–å›æŠ¥ï¼ˆç´¯ç§¯å¥–åŠ±ï¼‰ï¼Œç›´æ¥å¯¹ç­–ç•¥å‡½æ•°è¿›è¡Œå‚æ•°åŒ–ï¼Œå¹¶é€šè¿‡æ¢¯åº¦ä¸Šå‡æˆ–ä¸‹é™çš„æ–¹å¼ä¼˜åŒ–ç­–ç•¥å‚æ•°ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘ç­–ç•¥æ¢¯åº¦](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6.png)

### <a name="header-56"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ ï¼ˆMARLï¼ŒMulti-agent reinforcement learningï¼‰
- å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ ï¼ˆMulti-Agent Reinforcement Learningï¼ŒMARLï¼‰æ˜¯å¼ºåŒ–å­¦ä¹ çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ï¼Œæ—¨åœ¨ç ”ç©¶**å¤šä¸ªæ™ºèƒ½ä½“**åœ¨**å…±äº«**ç¯å¢ƒä¸­é€šè¿‡äº¤äº’ï¼ˆåŒ…æ‹¬ç«äº‰ä¸åˆä½œï¼‰å­¦ä¹ æœ€ä¼˜ç­–ç•¥çš„é—®é¢˜ã€‚
- ä¾‹å¦‚ï¼ŒDeepMindçš„ç ”ç©¶å›¢é˜Ÿå¼€å‘çš„AlphaGoã€AlphaZeroå’ŒAlphaStarç­‰ï¼ŒOpenAIå¼€å‘çš„OpenAI Fiveï¼Œå±•ç¤ºäº†å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ çš„å¼ºå¤§æ½œåŠ›ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ ï¼ˆMARLï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88MARL%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88MARL%EF%BC%89.png)

### <a name="header-57"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¤šæ™ºèƒ½ä½“DDPG <sup>[<a href="./src/references.md">41</a>]</sup>
- **MADDPG**ï¼ˆMulti-Agent DDPGï¼‰ç”±OpenAIç­‰ç ”ç©¶å›¢é˜Ÿäº2017å¹´å‘è¡¨ã€‚
- å¦‚å›¾æ‰€ç¤ºï¼Œæè¿°äº†ä¸€ä¸ªå…·æœ‰**Nä¸ªæ™ºèƒ½ä½“**çš„ç¯å¢ƒï¼ŒåŒ…å«Nä¸ªç­–ç•¥ç½‘ç»œï¼ˆÏ€1, Ï€2,â€¦, Ï€Nï¼‰å’ŒNä¸ªä»·å€¼ç½‘ç»œï¼ˆQ1, Q2,â€¦, QNï¼‰ï¼Œè¿™äº›ç½‘ç»œå„è‡ª**ç‹¬ç«‹**åœ°è¿›è¡Œå­¦ä¹ ã€‚
- ä»·å€¼ç½‘ç»œQi æ¥æ”¶æ‰€æœ‰æ™ºèƒ½ä½“çš„åŠ¨ä½œï¼ˆA1, A2,â€¦, A Nï¼‰å’Œè§‚æµ‹ä¿¡æ¯ï¼ˆO1, O2,â€¦, ONï¼‰ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºå¯¹åº”äºç¬¬iä¸ªæ™ºèƒ½ä½“çš„**Qå€¼**ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å¤šæ™ºèƒ½ä½“DDPG](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93DDPG.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93DDPG.png)

### <a name="header-58"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘æ¨¡ä»¿å­¦ä¹ ï¼ˆILï¼ŒImitation Learningï¼‰
- **æ¨¡ä»¿å­¦ä¹ **ï¼ˆImitation Learningï¼ŒILï¼‰æ˜¯ä¸€ç§é€šè¿‡è§‚å¯Ÿå¹¶**æ¨¡ä»¿ä¸“å®¶**è¡Œä¸ºæ¥å­¦ä¹ å¤æ‚ä»»åŠ¡çš„æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚
- ä¸ä¼ ç»Ÿçš„å¼ºåŒ–å­¦ä¹ ä¸åŒï¼Œæ¨¡ä»¿å­¦ä¹ **æ— éœ€**æ˜ç¡®çš„å¥–åŠ±å‡½æ•°ï¼Œè€Œæ˜¯ç›´æ¥ä»ä¸“å®¶çš„ç¤ºèŒƒä¸­å­¦ä¹ ç­–ç•¥ã€‚è¿™ç§æ–¹æ³•ç‰¹åˆ«é€‚ç”¨äºé‚£äº›éš¾ä»¥æ‰‹å·¥è®¾è®¡å¥–åŠ±å‡½æ•°çš„ä»»åŠ¡åœºæ™¯ã€‚
å¸¸è§çš„æ¨¡ä»¿å­¦ä¹ ç®—æ³•ä¸»è¦åˆ†ä¸º**ä¸‰ç±»**ï¼š
- ï¼ˆ1ï¼‰**è¡Œä¸ºå…‹éš†**ï¼ˆBehavioral Cloningï¼Œ**BC**ï¼‰ï¼šåŸºäºç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œç›´æ¥ä»ä¸“å®¶çš„çŠ¶æ€-åŠ¨ä½œå¯¹ä¸­å­¦ä¹ æ˜ å°„å…³ç³»ã€‚
- ï¼ˆ2ï¼‰**é€†å‘å¼ºåŒ–å­¦ä¹ **ï¼ˆInverse Reinforcement Learningï¼Œ**IRL**ï¼‰ï¼šåŸºäºå¼ºåŒ–å­¦ä¹ æ–¹æ³•ï¼Œé€šè¿‡æ¨æ–­å¥–åŠ±å‡½æ•°é—´æ¥å­¦ä¹ ç­–ç•¥ã€‚
- ï¼ˆ3ï¼‰**ç”Ÿæˆå¯¹æŠ—æ¨¡ä»¿å­¦ä¹ **ï¼ˆGenerative Adversarial Imitation Learningï¼Œ**GAIL**ï¼‰ï¼šå€Ÿé‰´ç”Ÿæˆå¯¹æŠ—å­¦ä¹ çš„æ€æƒ³ï¼Œé€šè¿‡å¯¹æŠ—è¿‡ç¨‹ä¼˜åŒ–ç­–ç•¥ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘æ¨¡ä»¿å­¦ä¹ ï¼ˆILï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E6%A8%A1%E4%BB%BF%E5%AD%A6%E4%B9%A0%EF%BC%88IL%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E6%A8%A1%E4%BB%BF%E5%AD%A6%E4%B9%A0%EF%BC%88IL%EF%BC%89.png)

### <a name="header-59"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è¡Œä¸ºå…‹éš†ï¼ˆBCï¼ŒBehavior Cloningï¼‰
- **è¡Œä¸ºå…‹éš†**ï¼ˆBehavioral Cloning,**BC**ï¼‰æ˜¯ä¸€ç§ç»“åˆäº†**ç›‘ç£å­¦ä¹ **çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œé€šè¿‡å­¦ä¹ ä¸“å®¶åœ¨ä¸åŒçŠ¶æ€ï¼ˆStateï¼‰ä¸‹é‡‡å–çš„åŠ¨ä½œï¼ˆActionï¼‰çš„æ˜ å°„å…³ç³»æ¥æ¨¡ä»¿ä¸“å®¶çš„è¡Œä¸ºã€‚
- è¡Œä¸ºå…‹éš†å°†é—®é¢˜è§†ä¸ºä¸€ä¸ª**å›å½’æˆ–åˆ†ç±»**é—®é¢˜ï¼Œè¾“å…¥ä¸ºç¯å¢ƒçš„çŠ¶æ€ï¼Œè¾“å‡ºä¸ºç›¸åº”çš„åŠ¨ä½œã€‚é€šè¿‡æœ€å°åŒ–é¢„æµ‹åŠ¨ä½œä¸ä¸“å®¶åŠ¨ä½œä¹‹é—´çš„è¯¯å·®ï¼Œæ¨¡å‹èƒ½å¤Ÿåœ¨ç±»ä¼¼çŠ¶æ€ä¸‹é‡‡å–ä¸ä¸“å®¶ç›¸ä¼¼çš„åŠ¨ä½œã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘è¡Œä¸ºå…‹éš†ï¼ˆBCï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%A1%8C%E4%B8%BA%E5%85%8B%E9%9A%86%EF%BC%88BC%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E8%A1%8C%E4%B8%BA%E5%85%8B%E9%9A%86%EF%BC%88BC%EF%BC%89.png)

### <a name="header-60"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘é€†å‘å¼ºåŒ–å­¦ä¹ ï¼ˆIRLï¼ŒInverse RLï¼‰ã€å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰
- **é€†å‘å¼ºåŒ–å­¦ä¹ **ï¼ˆInverse Reinforcement Learning, **IRL**ï¼‰æŒ‡çš„æ˜¯æ ¹æ®ä¸“å®¶æˆ–æ™ºèƒ½ä½“çš„è¡Œä¸ºï¼Œ**æ¨æ–­**å…¶èƒŒåçš„å¥–åŠ±å‡½æ•°ï¼Œç„¶åï¼ŒåŸºäºæ­¤å¥–åŠ±å‡½æ•°å­¦ä¹ æœ€ä¼˜ç­–ç•¥ã€‚
- è¿™ä¸€è¿‡ç¨‹ä¸ä¼ ç»Ÿå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰**ç›¸å**ï¼Œåè€…é€šå¸¸æ˜¯åœ¨å·²çŸ¥å¥–åŠ±å‡½æ•°çš„æƒ…å†µä¸‹å­¦ä¹ æœ€ä¼˜ç­–ç•¥ï¼Œè€Œé€†å‘å¼ºåŒ–å­¦ä¹ åˆ™æ˜¯åœ¨å·²çŸ¥è¡Œä¸ºçš„åŸºç¡€ä¸Š**åæ¨**å‡ºå¥–åŠ±å‡½æ•°ï¼Œå†è¿›ä¸€æ­¥å­¦ä¹ ç­–ç•¥ã€‚
- **å´æ©è¾¾**ï¼ˆAndrew Y. Ngï¼‰å’ŒStuart Russelläº2000å¹´å‘è¡¨äº†ã€ŠAlgorithms for Inverse Reinforcement Learningã€‹ä¸€æ–‡ï¼Œç³»ç»Ÿæ€§åœ°é˜è¿°äº†é€†å¼ºåŒ–å­¦ä¹ çš„æ ¸å¿ƒæ¦‚å¿µã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘é€†å‘å¼ºåŒ–å­¦ä¹ ï¼ˆIRLï¼‰ã€å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E9%80%86%E5%90%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88IRL%EF%BC%89%E3%80%81%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88RL%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E9%80%86%E5%90%91%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88IRL%EF%BC%89%E3%80%81%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88RL%EF%BC%89.png)

### <a name="header-61"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘æœ‰æ¨¡å‹ï¼ˆModel-Basedï¼‰ã€æ— æ¨¡å‹ï¼ˆModel-Freeï¼‰
- æ ¹æ®**æ˜¯å¦ä¾èµ–ç¯å¢ƒ**æ¨¡å‹ï¼šåˆ†ä¸ºæœ‰æ¨¡å‹ï¼ˆModel-Basedï¼‰å’Œæ— æ¨¡å‹ï¼ˆModel-Freeï¼‰çš„æ–¹æ³•ã€‚
- æœ‰æ¨¡å‹çš„æ–¹æ³•åˆ©ç”¨ç¯å¢ƒæ¨¡å‹è¿›è¡Œè§„åˆ’å’Œå†³ç­–ï¼›æ— æ¨¡å‹çš„æ–¹æ³•åˆ™ç›´æ¥é€šè¿‡ä¸ç¯å¢ƒäº¤äº’å­¦ä¹ ç­–ç•¥æˆ–ä»·å€¼å‡½æ•°ã€‚

[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘æœ‰æ¨¡å‹ï¼ˆModel-Basedï¼‰ã€æ— æ¨¡å‹ï¼ˆModel-Freeï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E6%9C%89%E6%A8%A1%E5%9E%8B%EF%BC%88Model-Based%EF%BC%89%E3%80%81%E6%97%A0%E6%A8%A1%E5%9E%8B%EF%BC%88Model-Free%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E6%9C%89%E6%A8%A1%E5%9E%8B%EF%BC%88Model-Based%EF%BC%89%E3%80%81%E6%97%A0%E6%A8%A1%E5%9E%8B%EF%BC%88Model-Free%EF%BC%89.png)

### <a name="header-62"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å°å»ºç­‰çº§å¼ºåŒ–å­¦ä¹ ï¼ˆFeudal RLï¼‰
- **åˆ†å±‚å¼ºåŒ–å­¦ä¹ **ï¼ˆHierarchical Reinforcement Learning, **HRL**ï¼‰æ˜¯ä¸€ç§**åˆ†è€Œæ²»ä¹‹**çš„å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼Œé€šè¿‡å°†å¤æ‚çš„ä»»åŠ¡åˆ†è§£ä¸ºå¤šä¸ªå±‚æ¬¡çš„è¾ƒå°çš„å­ä»»åŠ¡æˆ–**å­ç­–ç•¥**ï¼Œä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿåœ¨ä¸åŒçš„æŠ½è±¡å±‚æ¬¡ä¸Šå­¦ä¹ å’Œå†³ç­–ã€‚
- è¯¥é¢†åŸŸå‘å±•è‡³ä»Šï¼Œå·²ç»æ¶Œç°å‡ºå¤šç§ç»å…¸ç®—æ³•ï¼Œä¾‹å¦‚ï¼Œå°å»ºç­‰çº§å¼ºåŒ–å­¦ä¹ ï¼ˆFeudal RLï¼‰å’ŒMAXQç­‰ç®—æ³•ã€‚
- **å°å»ºç­‰çº§å¼ºåŒ–å­¦ä¹ **ï¼ˆFeudal Reinforcement Learning, Feudal RLï¼‰æœ€æ—©ç”±**AIå·¨ä½¬Geoffrey E. Hinton**ç­‰äººæå‡ºï¼ŒHintonå› å…¶åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸçš„çªå‡ºè´¡çŒ®äº2024å¹´è·å¾—è¯ºè´å°”ç‰©ç†å­¦å¥–ã€‚
[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘å°å»ºç­‰çº§å¼ºåŒ–å­¦ä¹ ï¼ˆFeudal RLï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%B0%81%E5%BB%BA%E7%AD%89%E7%BA%A7%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88Feudal%20RL%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%B0%81%E5%BB%BA%E7%AD%89%E7%BA%A7%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88Feudal%20RL%EF%BC%89.png)

### <a name="header-63"></a>ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘åˆ†å¸ƒä»·å€¼å¼ºåŒ–å­¦ä¹ ï¼ˆDistributional RLï¼‰
- **åˆ†å¸ƒä»·å€¼å¼ºåŒ–å­¦ä¹ **ï¼ˆDistributional Reinforcement Learningï¼‰æŒ‡çš„æ˜¯ç›´æ¥å¯¹å›æŠ¥ï¼ˆç´¯ç§¯å¥–åŠ±ï¼‰çš„**åˆ†å¸ƒ**è¿›è¡Œå»ºæ¨¡ï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹å…¶æœŸæœ›å€¼è¿›è¡Œä¼°è®¡ã€‚
- åˆ†å¸ƒä»·å€¼æ¨¡å‹åŒ…å«äº†æ›´ä¸°å¯Œçš„ä»·å€¼ä¿¡æ¯ï¼Œèƒ½å¤Ÿæ›´å…¨é¢åœ°**æ•æ‰**ç¯å¢ƒçš„ä¸ç¡®å®šæ€§ï¼Œä»è€Œåœ¨ç­–ç•¥ä¼˜åŒ–å’Œæ½œåœ¨é£é™©ç®¡ç†ç­‰æ–¹é¢æä¾›ä¼˜åŠ¿ã€‚

[![ã€å¼ºåŒ–å­¦ä¹ åŸºç¡€ã€‘åˆ†å¸ƒä»·å€¼å¼ºåŒ–å­¦ä¹ ï¼ˆDistributional RLï¼‰](images_chinese/png_small/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%88%86%E5%B8%83%E4%BB%B7%E5%80%BC%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88Distributional%20RL%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E3%80%91%E5%88%86%E5%B8%83%E4%BB%B7%E5%80%BC%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88Distributional%20RL%EF%BC%89.png)

### <a name="header-64"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘Actor-Criticæ¶æ„
- **Actor-Critic**æ¶æ„ï¼ˆACæ¶æ„ï¼‰ï¼Œå³æ¼”å‘˜-è¯„å§”æ¶æ„ï¼Œæ˜¯ä¸€ç§åº”ç”¨æä¸º**å¹¿æ³›**çš„å¼ºåŒ–å­¦ä¹ æ¶æ„ã€‚çŸ¥åçš„PPOã€DPGã€DDPGã€TD3ç­‰ç®—æ³•å‡åŸºäºActor-Criticæ¶æ„ã€‚
- ï¼ˆ1ï¼‰**Actorï¼ˆæ¼”å‘˜ï¼‰**ï¼šå¯¹åº”äº**ç­–ç•¥æ¨¡å‹**Ï€ï¼Œè´Ÿè´£é€‰æ‹©åŠ¨ä½œï¼Œç›´æ¥è¾“å‡ºç­–ç•¥Ï€(a | s)ï¼Œå³åœ¨ç»™å®šçŠ¶æ€sä¸‹é€‰æ‹©åŠ¨ä½œaçš„æ¦‚ç‡åˆ†å¸ƒã€‚
- ï¼ˆ2ï¼‰**Criticï¼ˆè¯„å§”ï¼‰**ï¼šå¯¹åº”äº**ä»·å€¼æ¨¡å‹**Qï¼Œè¯„ä¼°Actoræ‰§è¡Œçš„åŠ¨ä½œçš„å¥½åï¼Œè¿™å¯ä»¥ååŠ©Actoré€æ­¥ä¼˜åŒ–ç­–ç•¥æ¨¡å‹çš„å‚æ•°ã€‚
- è¯¥æ¶æ„æœ‰æ•ˆ**èåˆ**äº†åŸºäºç­–ç•¥ï¼ˆPolicy-Basedï¼‰å’ŒåŸºäºä»·å€¼ï¼ˆValue-Basedï¼‰çš„æ–¹æ³•ï¼Œç»“åˆäº†ä¸¤ç§æ–¹æ³•çš„ä¼˜åŠ¿ï¼Œé€šè¿‡åŒæ—¶å­¦ä¹ ç­–ç•¥å’Œä»·å€¼å‡½æ•°æ¥æå‡å­¦ä¹ æ•ˆç‡ä¸ç¨³å®šæ€§ï¼Œæ˜¯ä¸€ç§æ··åˆå‹æ–¹æ³•ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘Actor-Criticæ¶æ„](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91Actor-Critic%E6%9E%B6%E6%9E%84.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91Actor-Critic%E6%9E%B6%E6%9E%84.png)

### <a name="header-65"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘å¼•å…¥åŸºçº¿ä¸ä¼˜åŠ¿ï¼ˆAdvantageï¼‰å‡½æ•°Açš„ä½œç”¨
- åŸºç¡€ç‰ˆæœ¬çš„Actor-Criticæ¶æ„å­˜åœ¨**é«˜æ–¹å·®**ç­‰é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒA2Cï¼ˆAdvantage Actor-Criticï¼‰æ–¹æ³•åœ¨Actor-Criticçš„åŸºç¡€ä¸Šå¼•å…¥**åŸºçº¿**ï¼ˆBaselineï¼‰ï¼Œå¹¶è¿›ä¸€æ­¥æ„é€ äº†**ä¼˜åŠ¿å‡½æ•°**ï¼ˆAdvantage Functionï¼‰ã€‚
- ï¼ˆ1ï¼‰å¼•å…¥**åŸºçº¿**ï¼šåŸºçº¿é€šå¸¸é‡‡ç”¨çŠ¶æ€ä»·å€¼å‡½æ•°V(s)ï¼Œå³åœ¨çŠ¶æ€sä¸‹çš„é¢„æœŸå›æŠ¥ã€‚å°†åŸºçº¿è®¾ä¸ºV(s)ï¼Œç›¸å½“äºåœ¨æ¯ä¸ªçŠ¶æ€sä¸‹è®¾å®šäº†ä¸€ä¸ª**å¹³å‡æ°´å¹³**ã€‚
- ï¼ˆ2ï¼‰æ„é€ **ä¼˜åŠ¿å‡½æ•°**ï¼šä¼˜åŠ¿å‡½æ•°è¡¡é‡åœ¨ç»™å®šçŠ¶æ€ä¸‹ï¼Œé‡‡å–æŸä¸€åŠ¨ä½œç›¸å¯¹äºâ€œå¹³å‡æ°´å¹³â€çš„ä¼˜åŠ£ï¼Œå³æŸä¸ªåŠ¨ä½œaç›¸å¯¹äºç‰¹å®šçŠ¶æ€ä¸‹å…¶ä»–åŠ¨ä½œçš„**ç›¸å¯¹**ä¼˜åŠ¿ã€‚ä¼˜åŠ¿å‡½æ•°å…³æ³¨çš„æ˜¯æ‰§è¡ŒæŸä¸ªåŠ¨ä½œçš„ç›¸å¯¹ä¼˜åŠ¿ï¼Œè€ŒéåŠ¨ä½œçš„ç»å¯¹ä»·å€¼ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘å¼•å…¥åŸºçº¿ä¸ä¼˜åŠ¿å‡½æ•°Açš„ä½œç”¨](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E5%BC%95%E5%85%A5%E5%9F%BA%E7%BA%BF%E4%B8%8E%E4%BC%98%E5%8A%BF%E5%87%BD%E6%95%B0A%E7%9A%84%E4%BD%9C%E7%94%A8.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E5%BC%95%E5%85%A5%E5%9F%BA%E7%BA%BF%E4%B8%8E%E4%BC%98%E5%8A%BF%E5%87%BD%E6%95%B0A%E7%9A%84%E4%BD%9C%E7%94%A8.png)

### <a name="header-66"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘GAEï¼ˆå¹¿ä¹‰ä¼˜åŠ¿ä¼°è®¡,Generalized Advantage Estimationï¼‰ç®—æ³•
- **GAE**ï¼ˆGeneralized Advantage Estimation, **å¹¿ä¹‰ä¼˜åŠ¿ä¼°è®¡**ï¼‰ç®—æ³•ç”±**RLå·¨ä½¬John Schulman**ç­‰å‘è¡¨ã€‚è¯¥ç®—æ³•æ˜¯**PPO**ç­‰ç®—æ³•çš„å…³é”®ç»„æˆéƒ¨åˆ†ã€‚
- GAEç®—æ³•**å€Ÿé‰´**äº†TD(Î»)ç®—æ³•çš„æ€è·¯ï¼Œï¼ˆTD(Î»)å¦‚ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹5.3.3èŠ‚æ‰€è¿°ï¼‰ã€‚TD(Î»)ç®—æ³•é€šè¿‡è°ƒèŠ‚Î»å› å­åœ¨åå·®å’Œæ–¹å·®ä¹‹é—´å–å¾—å¹³è¡¡ï¼ŒGAEç®—æ³•ä¹Ÿä½¿ç”¨Î»å› å­ä»¥è¾¾åˆ°ç±»ä¼¼çš„ç›®çš„ã€‚
- GAEç®—æ³•è®¡ç®—æ—¶ï¼Œé€šå¸¸é‡‡ç”¨**é€’å½’**æ±‚è§£çš„æ–¹å¼è¿›è¡Œã€‚
- GAEç®—æ³•çš„ä¼ªä»£ç å¦‚ä¸‹ã€‚ç®—æ³• 6.1 GAE ç®—æ³•æ ¸å¿ƒå®ç°

```python
import numpy as np

def compute_gae(rewards, values, gamma=0.99, lambda_=0.95):
    """
    å‚æ•°:
        rewards (list æˆ– np.ndarray): æ¯ä¸ªæ—¶é—´æ­¥æ”¶é›†åˆ°çš„å¥–åŠ± rï¼Œå½¢çŠ¶ä¸º (T,)
        values  (list æˆ– np.ndarray): æ¯ä¸ªçŠ¶æ€çš„ä»·å€¼ä¼°è®¡ Vï¼Œå½¢çŠ¶ä¸º (T+1,)
        gamma   (float): æŠ˜æ‰£å› å­ Î³
        lambda_ (float): GAE çš„è¡°å‡å‚æ•° Î»
    è¿”å›:
        np.ndarray: ä¼˜åŠ¿ä¼°è®¡ Aï¼Œå½¢çŠ¶ä¸º (T,)ã€‚ä¾‹å¦‚å¯¹äº T=5ï¼ŒA=[A0, A1, A2, A3, A4]
    """
    T = len(rewards)            # æ—¶é—´æ­¥æ•° Tï¼Œç»ˆæ­¢æ—¶é—´æ­¥ä¸º t=T-1
    advantages = np.zeros(T)    # ä¼˜åŠ¿ä¼°è®¡æ•°ç»„ï¼Œä¾‹å¦‚ [A0, A1, A2, A3, A4]
    gae = 0                     # åˆå§‹åŒ– GAE ç´¯è®¡å€¼ä¸º 0

    # åå‘ä»æ—¶é—´æ­¥ t=T-1 åˆ° t=0 è¿›è¡Œè¿­ä»£è®¡ç®—ï¼Œæ€»å…±è¿­ä»£ T æ¬¡
    for t in reversed(range(T)):
        # Î´_t = r_t + Î³ * V(s_{t+1}) - V(s_t)
        delta = rewards[t] + gamma * values[t + 1] - values[t]
        # A_t = Î´_t + Î³ * Î» * A_{t+1}
        gae = delta + gamma * lambda_ * gae
        advantages[t] = gae

    return advantages
```

[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘GAEï¼ˆå¹¿ä¹‰ä¼˜åŠ¿ä¼°è®¡ï¼‰ç®—æ³•](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91GAE%EF%BC%88%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1%EF%BC%89%E7%AE%97%E6%B3%95.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91GAE%EF%BC%88%E5%B9%BF%E4%B9%89%E4%BC%98%E5%8A%BF%E4%BC%B0%E8%AE%A1%EF%BC%89%E7%AE%97%E6%B3%95.png)


### <a name="header-67"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPOï¼ˆProximal Policy Optimizationï¼‰ç®—æ³•çš„æ¼”è¿›
- **PPO**ï¼ˆProximal Policy Optimizationï¼Œè¿‘ç«¯ç­–ç•¥ä¼˜åŒ–ï¼‰ï¼Œæœ‰å¤šç§**å˜ä½“**ï¼Œä¾‹å¦‚PPO-Penaltyå’ŒPPO-Clipï¼Œè¿™äº›ç®—æ³•ç»§æ‰¿äº†éƒ¨åˆ†**TRPO**ç®—æ³•çš„æ€æƒ³ã€‚
- **PPO-Clip**å› å…¶æ›´ä¼˜çš„æ•ˆæœè€Œè·å¾—äº†æ›´å¤šå…³æ³¨å’Œåº”ç”¨ï¼Œå› æ­¤**é€šå¸¸**æ‰€è¯´çš„PPOå³æŒ‡**PPO-Clip**ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPOç®—æ³•çš„æ¼”è¿›](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91PPO%E7%AE%97%E6%B3%95%E7%9A%84%E6%BC%94%E8%BF%9B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91PPO%E7%AE%97%E6%B3%95%E7%9A%84%E6%BC%94%E8%BF%9B.png)

### <a name="header-68"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘TRPOï¼ˆTrust Region Policy Optimizationï¼‰åŠå…¶ç½®ä¿¡åŸŸ
- **TRPO**ï¼ˆTrust Region Policy Optimizationï¼Œç½®ä¿¡åŸŸç­–ç•¥ä¼˜åŒ–ï¼‰ï¼Œå¯ä»¥è¯´æ˜¯**PPOçš„å‰èº«**ã€‚
- è¯¥ç®—æ³•æ˜¯å¯¹ç­–ç•¥æ¢¯åº¦ç®—æ³•çš„æ”¹è¿›ï¼ŒåŸºäº**ä¸¤ä¸ªæ ¸å¿ƒ**æ¦‚å¿µï¼šç½®ä¿¡åŸŸå’Œé‡è¦æ€§é‡‡æ ·ï¼ˆImportance Samplingï¼‰ã€‚è™½ç„¶è¿™ä¸¤ä¸ªæ¦‚å¿µå¹¶éåœ¨TRPOä¸­é¦–æ¬¡æå‡ºï¼Œä½†TRPOå°†å®ƒä»¬ä¸ç­–ç•¥æ¢¯åº¦ç®—æ³•ç›¸ç»“åˆï¼Œæ˜¾è‘—æå‡äº†ç®—æ³•çš„æ•ˆæœã€‚
- TRPOçš„æ ¸å¿ƒ**æ€æƒ³**æ˜¯åœ¨æœ€å¤§åŒ–ç›®æ ‡å‡½æ•°J(Î¸)çš„åŒæ—¶ï¼Œé™åˆ¶æ–°æ—§ç­–ç•¥ä¹‹é—´çš„å·®å¼‚ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘TRPOåŠå…¶ç½®ä¿¡åŸŸ](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91TRPO%E5%8F%8A%E5%85%B6%E7%BD%AE%E4%BF%A1%E5%9F%9F.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91TRPO%E5%8F%8A%E5%85%B6%E7%BD%AE%E4%BF%A1%E5%9F%9F.png)

### <a name="header-69"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘é‡è¦æ€§é‡‡æ ·ï¼ˆImportance samplingï¼‰
- é‡è¦æ€§é‡‡æ ·åœ¨è¯¸å¦‚TRPOå’ŒPPOç­‰å¼ºåŒ–å­¦ä¹ ç®—æ³•ä¸­å…·æœ‰å…³é”®ä½œç”¨ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯**ä¿®æ­£**æ–°æ—§ç­–ç•¥ä¹‹é—´çš„åˆ†å¸ƒå·®å¼‚ï¼Œä½¿å¾—å¯ä»¥åˆ©ç”¨æ—§ç­–ç•¥æ‰€é‡‡é›†çš„æ•°æ®æ¥ä¼˜åŒ–æ–°ç­–ç•¥ã€‚
- **é‡è¦æ€§é‡‡æ ·**ï¼ˆImportance Samplingï¼‰æ˜¯ä¸€ç§åŸºäº**è’™ç‰¹å¡æ´›**é‡‡æ ·æ€æƒ³çš„æ–¹æ³•ï¼Œç»å¸¸è¢«ç”¨äºä¼°è®¡æœŸæœ›å€¼å’Œç§¯åˆ†ã€‚è¯¥æ–¹æ³•åŸºäºè¾…åŠ©åˆ†å¸ƒè¿›è¡Œé‡‡æ ·ï¼Œå¹¶é€šè¿‡é‡è¦æ€§æƒé‡å¯¹ä¼°è®¡å€¼è¿›è¡Œä¿®æ­£ï¼Œä»è€Œæé«˜é‡‡æ ·å’Œä¼°è®¡çš„æ•ˆç‡ã€‚
- é‡è¦æ€§é‡‡æ ·éœ€æ»¡è¶³è¯¥**æ¡ä»¶**ï¼šå¦‚æœåœ¨æŸä¸ªxä¸Šp(x)çš„æ¦‚ç‡å€¼å¤§äº0ï¼Œé‚£ä¹ˆp'(x)åœ¨åŒä¸€ä¸ªä½ç½®çš„æ¦‚ç‡ä¹Ÿå¿…é¡»å¤§äº0ï¼ˆp'(x)ä¸èƒ½ä¸ºé›¶ï¼Œæ„å‘³ç€è¯¥ä½ç½®åœ¨p'(x)ä¸­ä¹Ÿæœ‰å¯èƒ½æ€§ï¼‰ã€‚è¿™æ˜¯**å› ä¸º**å¦‚æœåœ¨p(x)éé›¶çš„åœ°æ–¹p'(x)= 0ï¼Œé‚£ä¹ˆåœ¨è¿™äº›xä¸Šçš„è´¡çŒ®å°±æ— æ³•é€šè¿‡p'(x)æ¥é‡‡æ ·è®¡ç®—ï¼Œä¸€äº›xçš„å–å€¼ä¼šåœ¨ç§¯åˆ†ä¸­ä¸¢å¤±ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘é‡è¦æ€§é‡‡æ ·](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7.png)

### <a name="header-70"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPO-Clip
- é€šå¸¸æ‰€è¯´çš„PPOå³æŒ‡PPO-Clipï¼ˆè¿‘ç«¯ç­–ç•¥ä¼˜åŒ–-å‰ªè£ï¼‰ã€‚
- PO-Clipçš„**ç›®æ ‡**æ˜¯æœ€å¤§åŒ–æœªæ¥å›æŠ¥çš„æœŸæœ›ï¼Œå…·ä½“æ¥è¯´ï¼Œé€šè¿‡æœ€å¤§åŒ–ç›®æ ‡å‡½æ•°J(Î¸)æ¥ä¼˜åŒ–ç­–ç•¥ï¼ŒPPO-Clipçš„ç›®æ ‡å‡½æ•°å¦‚ä¸‹å›¾ã€‚
- clipä¸minæ“ä½œçš„**æ„ä¹‰**ï¼šæ„ä¹‰å¦‚ä¸‹å›¾çš„æ›²çº¿å›¾ï¼Œä¸ºæ¸…æ™°èµ·è§ï¼Œå¯¹å¼ä¸­çš„éƒ¨åˆ†é¡¹ç”¨ä¸¤ç§ç¼©æ”¾ç³»æ•°è¿›è¡Œæ›¿æ¢ï¼Œå¯ä»¥åˆ†åˆ«ç§°ä¸ºâ€œçº¿æ€§â€ç¼©æ”¾ç³»æ•°å’Œâ€œå‰ªè£â€ç¼©æ”¾**ç³»æ•°**ã€‚


[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPO-Clip](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91PPO-Clip.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91PPO-Clip.png)

### <a name="header-71"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPOè®­ç»ƒä¸­ç­–ç•¥æ¨¡å‹çš„æ›´æ–°è¿‡ç¨‹
- å¦‚å›¾ç®€è¦å±•ç¤ºäº†é€šç”¨åœºæ™¯ä¸‹PPOçš„è®­ç»ƒæµç¨‹åŠç­–ç•¥æ¨¡å‹ï¼ˆActorï¼‰å‚æ•°Î¸çš„æ›´æ–°è¿‡ç¨‹ï¼Œå…¶ä¸­ä»·å€¼æ¨¡å‹ï¼ˆCriticï¼‰æœªåœ¨å›¾ä¸­å±•ç¤ºã€‚PPOçš„è®­ç»ƒæµç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹**ä¸¤ä¸ªé˜¶æ®µ**ï¼š
- ï¼ˆ1ï¼‰**æ ·æœ¬æ”¶é›†**ï¼šåŸºäºæ—§ç­–ç•¥æ”¶é›†æ ·æœ¬ï¼Œç”Ÿæˆå¤šæ¡è½¨è¿¹ï¼ˆç»éªŒï¼‰ï¼Œå¹¶å­˜å…¥**å›æ”¾ç¼“å†²åŒº**ï¼Œä¾›åç»­è®­ç»ƒä½¿ç”¨ã€‚
- ï¼ˆ2ï¼‰**å¤šè½®PPOè®­ç»ƒ**ï¼šå°†å›æ”¾ç¼“å†²åŒºä¸­çš„æ‰€æœ‰æ ·æœ¬éšæœºæ‰“æ•£ï¼Œå¹¶åˆ’åˆ†ä¸ºå¤šä¸ª**å°æ‰¹æ¬¡**ï¼ˆmini-batchesï¼‰ï¼Œä»¥ä¾¿è¿›è¡Œå°æ‰¹æ¬¡è®­ç»ƒã€‚é’ˆå¯¹æ¯ä¸ªå°æ‰¹æ¬¡ï¼ˆå›¾ä¸­çš„â€œæ‰¹æ¬¡ 1â€ã€â€œæ‰¹æ¬¡ 2â€ï¼‰ï¼Œåˆ†åˆ«è¿›è¡Œä¸€æ¬¡è®­ç»ƒä¸å‚æ•°æ›´æ–°ï¼Œæ€»è®¡å®Œæˆmini_batchæ¬¡è®­ç»ƒã€‚å¦‚æœè®¾ç½®çš„ppo_epochs > 1ï¼Œåˆ™é‡å¤åˆ©ç”¨å›æ”¾ç¼“å†²åŒºä¸­çš„æ‰€æœ‰æ ·æœ¬ï¼Œå†æ¬¡éšæœºæ‰“æ•£å¹¶åˆ‡åˆ†ä¸ºå°æ‰¹æ¬¡ï¼Œé‡å¤ä¸Šè¿°è®­ç»ƒè¿‡ç¨‹ppo_epochsè½®ï¼ˆå›¾ä¸­çš„â€œç¬¬ 1 è½®â€ã€â€œç¬¬ 2 è½®â€ï¼‰ã€‚é€šè¿‡å¯¹è¿™ä¸€å¤§æ‰¹æ¬¡æ ·æœ¬çš„å¤šè½®è®­ç»ƒï¼Œæ˜¾è‘—æå‡äº†æ ·æœ¬çš„é‡å¤åˆ©ç”¨ç‡ã€‚åœ¨ç¬¬äºŒé˜¶æ®µä¸­ï¼Œæ€»è®¡å®Œæˆppo_epochsÃ—mini_batchæ¬¡è®­ç»ƒä¸å‚æ•°æ›´æ–°ã€‚
- ä»¥ä¸Šä¸¤ä¸ªé˜¶æ®µä¸æ–­**å¾ªç¯**è¿è¡Œï¼Œæ¯ä¸€æ¬¡å¾ªç¯ç§°ä¸ºä¸€ä¸ªè¿­ä»£ï¼ˆiterationï¼‰ã€‚ç»è¿‡å¤šæ¬¡è¿­ä»£ï¼Œç›´è‡³å®Œæˆæ‰€æœ‰PPOè®­ç»ƒä»»åŠ¡ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPOè®­ç»ƒä¸­ç­–ç•¥æ¨¡å‹çš„æ›´æ–°è¿‡ç¨‹](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E7%AD%96%E7%95%A5%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E7%AD%96%E7%95%A5%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B.png)

### <a name="header-71-2"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPOçš„ä¼ªä»£ç 
```python
# ç®€å†™ R:rewards, V:values, Adv:advantages, J:objective, P:probability
for iteration in range(num_iterations):  # è¿›è¡Œnum_iterationsä¸ªè®­ç»ƒè¿­ä»£
    #ã€1/2ã€‘æ”¶é›†æ ·æœ¬(prompt, response_old, logP_old, Adv, V_target)
    prompt_batch, response_old_batch = [], []
    logP_old_batch, Adv_batch, V_target_batch = [], [], []
    for _ in range(num_examples):
        logP_old, response_old  = actor_model(prompt)
        V_old    = critic_model(prompt, response_old)
        R        = reward_model(prompt, response_old)[-1]
        logP_ref = ref_model(prompt, response_old)
        
        # KLè·ç¦»æƒ©ç½šã€‚æ³¨æ„ï¼šä¸Šé¢çš„Råªå–äº†æœ€åä¸€ä¸ªtokenå¯¹åº”çš„å¥–åŠ±åˆ†æ•°
        KL = logP_old - logP_ref
        R_with_KL = R - scale_factor * KL

        # é€šè¿‡GAEç®—æ³•è®¡ç®—ä¼˜åŠ¿Adv
        Adv = GAE_Advantage(R_with_KL, V_old, gamma, Î»)
        V_target = Adv + V_old

        prompt_batch        += prompt
        response_old_batch  += response_old
        logP_old_batch      += logP_old
        Adv_batch           += Adv
        V_target_batch      += V_target

    # ã€2/2ã€‘å¤šè½®PPOè®­ç»ƒï¼Œå¤šæ¬¡å‚æ•°æ›´æ–°
    for _ in range(ppo_epochs):
        mini_batches = shuffle_split( (prompt_batch, response_old_batch, 
            logP_old_batch, Adv_batch, V_target_batch), mini_batch_size )
        
        for prompt, response_old, logP_old, Adv, V_target in mini_batches:
            logits, logP_new = actor_model(prompt, response_old)
            V_new            = critic_model(prompt, response_old)

            # ç­–ç•¥æ¦‚ç‡æ¯”: ratio(Î¸) = Ï€_Î¸(a|s) / Ï€_Î¸_old (a|s)
            ratios = exp(logP_new - logP_old)

            # è®¡ç®—ç­–ç•¥æ¨¡å‹Loss
            L_clip = -mean( min( ratios * Adv,
                                clip(ratios, 1 - Îµ, 1 + Îµ) * Adv ) )
            
            S_entropy = mean( compute_entropy(logits) )  # è®¡ç®—ç­–ç•¥çš„ç†µ

            Loss_V = mean((V_new - V_target) ** 2)   # è®¡ç®—ä»·å€¼æ¨¡å‹Loss

            Loss = L_clip + C1 * Loss_V - C2 * S_entropy # æ€»æŸå¤±
            backward_update(Loss, L_clip, Loss_V) # åå‘ä¼ æ’­; æ›´æ–°æ¨¡å‹å‚æ•°
```

### <a name="header-72"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘PPOä¸GRPOï¼ˆGroup Relative Policy Optimizationï¼‰ <sup>[<a href="./src/references.md">72</a>]</sup>
- **GRPO**ï¼ˆGroup Relative Policy Optimization, ç¾¤ä½“ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–ï¼‰æ˜¯ä¸€ç§åŸºäºç­–ç•¥çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œç”±**DeepSeek**å›¢é˜Ÿæå‡ºï¼Œå¹¶å·²åœ¨DeepSeekã€Qwenç­‰æ¨¡å‹çš„è®­ç»ƒä¸­å¾—åˆ°åº”ç”¨ã€‚
- ä¼ ç»Ÿçš„PPOæ–¹æ³•é™¤äº†è®­ç»ƒç­–ç•¥æ¨¡å‹å¤–ï¼Œè¿˜éœ€é¢å¤–æ„å»ºä¸€ä¸ªè§„æ¨¡ç›¸è¿‘çš„ä»·å€¼ç½‘ç»œï¼Œè¿™ä¼šæ˜¾è‘—å¢åŠ è®¡ç®—å’Œæ˜¾å­˜çš„**å¼€é”€**ã€‚
- å¦‚å›¾æ‰€ç¤ºï¼ŒGRPO**æ‘’å¼ƒ**äº†å•ç‹¬çš„ä»·å€¼ç½‘ç»œï¼Œå¹¶é€šè¿‡å¤šé¡¹æ”¹è¿›ï¼Œåœ¨ä¿ç•™PPOæ ¸å¿ƒæ€æƒ³çš„åŸºç¡€ä¸Šï¼Œæ˜¾è‘—é™ä½äº†è®­ç»ƒæ‰€éœ€èµ„æºï¼ŒåŒæ—¶ç¡®ä¿äº†ç­–ç•¥æ›´æ–°çš„é«˜æ•ˆæ€§å’Œç¨³å®šæ€§ã€‚
- GRPOçš„**æ ¸å¿ƒæ€æƒ³**åœ¨äºåˆ©ç”¨ç¾¤ä½“ç›¸å¯¹ä¼˜åŠ¿ä¼°è®¡æ¥å–ä»£ä¼ ç»Ÿçš„ä»·å€¼æ¨¡å‹ã€‚å…·ä½“æ¥è¯´ï¼ŒGRPOé€šè¿‡é‡‡æ ·ä¸€ç»„å€™é€‰è¾“å‡ºï¼Œå¹¶å°†è¿™äº›è¾“å‡ºçš„å¹³å‡å¥–åŠ±ä½œä¸ºåŸºçº¿ï¼Œæ¥è®¡ç®—å„ä¸ªè¾“å‡ºçš„ä¼˜åŠ¿å€¼ã€‚è¿™ç§æ–¹æ³•ä¸ä»…é¿å…äº†å¯¹é¢å¤–ä»·å€¼æ¨¡å‹çš„ä¾èµ–ï¼ŒåŒæ—¶ä¹Ÿå……åˆ†å‘æŒ¥äº†å¥–åŠ±æ¨¡å‹çš„æ¯”è¾ƒç‰¹æ€§ï¼Œä»è€Œæé«˜äº†è®­ç»ƒçš„æ•ˆç‡å’Œç¨³å®šæ€§ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘GRPO&PPO](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91GRPO%26PPO.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91GRPO%26PPO.png)



### <a name="header-73"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘ç¡®å®šæ€§ç­–ç•¥vséšæœºæ€§ç­–ç•¥ï¼ˆDeterministic policy vs. Stochastic policyï¼‰
- å¼ºåŒ–å­¦ä¹ çš„ç­–ç•¥ç±»å‹å¯ä»¥**åˆ†ä¸º**ï¼šç¡®å®šæ€§ç­–ç•¥ï¼ˆDeterministic Policyï¼‰å’Œéšæœºæ€§ç­–ç•¥ï¼ˆStochastic Policyï¼‰ã€‚
- ç¡®å®šæ€§ç­–ç•¥ï¼šåœ¨æ¯ä¸ªçŠ¶æ€ä¸‹ï¼Œç­–ç•¥éƒ½ä¼šè¾“å‡ºä¸€ä¸ª**ç¡®å®š**çš„åŠ¨ä½œã€‚
- éšæœºæ€§ç­–ç•¥ï¼šåœ¨æ¯ä¸ªçŠ¶æ€ä¸‹ï¼Œç­–ç•¥è¾“å‡ºçš„æ˜¯åŠ¨ä½œçš„**æ¦‚ç‡åˆ†å¸ƒ**ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘ç¡®å®šæ€§ç­–ç•¥vséšæœºæ€§ç­–ç•¥](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%AD%96%E7%95%A5vs%E9%9A%8F%E6%9C%BA%E6%80%A7%E7%AD%96%E7%95%A5.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%AD%96%E7%95%A5vs%E9%9A%8F%E6%9C%BA%E6%80%A7%E7%AD%96%E7%95%A5.png)

### <a name="header-74"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦ï¼ˆDPGï¼‰
- **ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦**ï¼ˆDeterministic Policy Gradient, **DPG**ï¼‰ç®—æ³•ç”±**RLå¤§ä½¬David Silver**åœ¨DeepMindæœŸé—´ä¸å…¶ä»–ç ”ç©¶è€…äº2014å¹´å‘è¡¨çš„è®ºæ–‡ä¸­ç³»ç»Ÿæ€§é˜è¿°ï¼Œè¯¥ç®—æ³•æ—¨åœ¨è§£å†³è¿ç»­åŠ¨ä½œç©ºé—´ä¸­çš„å¼ºåŒ–å­¦ä¹ é—®é¢˜ã€‚
- DPGé‡‡ç”¨ç¡®å®šæ€§ç­–ç•¥ï¼Œå°†çŠ¶æ€ç›´æ¥æ˜ å°„åˆ°å…·ä½“çš„åŠ¨ä½œã€‚
- DPGé‡‡ç”¨äº†æ¼”å‘˜-è¯„å§”ï¼ˆActor-Criticï¼‰æ¶æ„ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦ï¼ˆDPGï¼‰](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6%EF%BC%88DPG%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91%E7%A1%AE%E5%AE%9A%E6%80%A7%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6%EF%BC%88DPG%EF%BC%89.png)

### <a name="header-75"></a>ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘DDPGï¼ˆDeep Deterministic Policy Gradientï¼‰
- **æ·±åº¦ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦**ï¼ˆDeep Deterministic Policy Gradient, **DDPG**ï¼‰æ˜¯ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦ï¼ˆDPGï¼‰ç®—æ³•çš„æ”¹è¿›ç‰ˆæœ¬ï¼Œ**ç»“åˆ**äº†æ·±åº¦Qç½‘ç»œï¼ˆDQNï¼‰çš„æ€æƒ³ï¼Œç”±DeepMindçš„ç ”ç©¶å›¢é˜Ÿå‘è¡¨ã€‚
- DDPGåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éœ€è¦åŠ è½½**4ä¸ªæ¨¡å‹**â€”â€”åŒ…æ‹¬2ä¸ªç­–ç•¥ç½‘ç»œï¼ˆActorï¼‰å’Œ2ä¸ªè¯„ä¼°ç½‘ç»œï¼ˆCriticï¼‰ã€‚
- çŸ¥åçš„**TD3** ï¼šåŒå»¶è¿Ÿæ·±åº¦ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦ï¼ˆTwin Delayed Deep Deterministic Policy Gradient, TD3ï¼‰ç®—æ³•æ˜¯å¯¹DDPGï¼ˆDeep Deterministic Policy Gradientï¼‰çš„æ˜¾è‘—æ”¹è¿›ã€‚åœ¨TD3çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åŠ è½½**6ä¸ªæ¨¡å‹**â€”â€”åŒ…æ‹¬2ä¸ªç­–ç•¥ç½‘ç»œï¼ˆActorï¼‰å’Œ4ä¸ªè¯„ä¼°ç½‘ç»œï¼ˆCriticï¼‰ã€‚è¿™äº›ç½‘ç»œåˆ†å·¥æ˜ç¡®ã€ç›¸äº’é…åˆï¼Œé€šè¿‡å»¶è¿Ÿæ›´æ–°ç›®æ ‡ç½‘ç»œç­‰æŠ€å·§ï¼Œæœ‰æ•ˆæå‡äº†è®­ç»ƒçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚
[![ã€ç­–ç•¥ä¼˜åŒ–æ¶æ„ç®—æ³•åŠå…¶è¡ç”Ÿã€‘DDPG](images_chinese/png_small/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91DDPG.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96%E6%9E%B6%E6%9E%84%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E3%80%91DDPG.png)

### <a name="header-76"></a>ã€RLHFä¸RLAIFã€‘è¯­è¨€æ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ å»ºæ¨¡
- å¤§æ¨¡å‹ï¼ˆLLMã€MLLMã€VLMç­‰ï¼‰ä¸ºä½•å¯ä»¥ç”¨RLèŒƒå¼è¿›è¡Œè®­ç»ƒï¼Ÿ â€”â€”è¿™å¯èƒ½æ˜¯å¤§æ¨¡å‹RLæ–¹å‘æœ€åŸºç¡€çš„ä¸€ä¸ªé—®é¢˜â€”â€”å¦‚ä½•å°†å¤§æ¨¡å‹çš„ç”Ÿæˆè¿‡ç¨‹**å»ºæ¨¡**ä¸ºä¸€ä¸ªå¼ºåŒ–å­¦ä¹ é—®é¢˜ï¼Ÿ
å¦‚å›¾æ‰€ç¤ºï¼Œä»¥ä¸‹æ˜¯ç”Ÿæˆå¼è¯­è¨€æ¨¡å‹ä¸­çš„ä¸€äº›**å…³é”®æ¦‚å¿µ**åœ¨å¼ºåŒ–å­¦ä¹ èŒƒå¼ä¸‹ï¼Œå…·ä½“çš„å®šä¹‰å¦‚ä¸‹ï¼š
- ï¼ˆ1ï¼‰**åŠ¨ä½œ**ï¼ˆAction, Aï¼‰ï¼šåŠ¨ä½œæŒ‡æ¨¡å‹åœ¨æ¯ä¸ªæ—¶é—´æ­¥ç”Ÿæˆçš„ä¸€ä¸ªTokenã€‚ä¾‹å¦‚ï¼Œå½“æ¨¡å‹ä»è¯è¡¨ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªè¾“å‡ºè¯æ—¶ï¼Œè¿™ä¸€é€‰æ‹©å°±æ˜¯ä¸€ä¸ªåŠ¨ä½œã€‚
- ï¼ˆ2ï¼‰**åŠ¨ä½œç©ºé—´**ï¼ˆAction Spaceï¼‰ï¼šåŠ¨ä½œç©ºé—´æ˜¯è¯­è¨€æ¨¡å‹çš„**è¯è¡¨**ï¼ˆVocabularyï¼‰ï¼Œå³æ‰€æœ‰å¯èƒ½çš„Tokençš„é›†åˆï¼Œé€šå¸¸åŒ…å«çº¦10ä¸‡çº§çš„è¯å…ƒã€‚
- ï¼ˆ3ï¼‰**æ™ºèƒ½ä½“**ï¼ˆAgentï¼‰ï¼šæ™ºèƒ½ä½“æ˜¯è´Ÿè´£å†³ç­–çš„å®ä½“ï¼Œå³LLMã€‚å®ƒè´Ÿè´£æ¥å—æ–‡æœ¬è¾“å…¥å¹¶ç”Ÿæˆä¸€ç³»åˆ—æ–‡æœ¬æˆ–å…¶æ¦‚ç‡åˆ†å¸ƒã€‚
- ï¼ˆ4ï¼‰**ç­–ç•¥**ï¼ˆPolicyï¼‰ï¼šç­–ç•¥æ˜¯LLMå¯¹åº”çš„æ¨¡å‹**å‚æ•°**ï¼Œå†³å®šäº†æ¨¡å‹ç”Ÿæˆæ–‡æœ¬çš„å…·ä½“è§„åˆ™å’Œè¡Œä¸ºã€‚
- ï¼ˆ5ï¼‰**çŠ¶æ€**ï¼ˆState, Sï¼‰ï¼šçŠ¶æ€æ˜¯æ¨¡å‹å½“å‰çš„è¾“å…¥ä¸Šä¸‹æ–‡ï¼Œé€šå¸¸ç”±**å·²ç”Ÿæˆ**çš„Tokenåºåˆ—æ„æˆã€‚ä¾‹å¦‚ï¼Œåœ¨é’ˆå¯¹Promptä¸ºâ€œä½ æ˜¯è°ï¼Ÿâ€çš„ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼ŒçŠ¶æ€ä¼šéšç€ç”Ÿæˆçš„TokenåŠ¨æ€æ›´æ–°ï¼Œå½¢æˆå¦‚â€œä½ æ˜¯è°ï¼Ÿâ€ã€â€œä½ æ˜¯è°ï¼Ÿæˆ‘â€ã€â€œä½ æ˜¯è°ï¼Ÿæˆ‘æ˜¯â€ç­‰çŠ¶æ€ã€‚
- ï¼ˆ6ï¼‰**å›åˆ**ï¼ˆEpisodeï¼‰ï¼šå›åˆæ˜¯**ä¸€æ¬¡å®Œæ•´**çš„æ–‡æœ¬ç”Ÿæˆè¿‡ç¨‹ï¼Œä»åˆå§‹è¾“å…¥ï¼ˆä¾‹å¦‚ä¸€ä¸ªé—®é¢˜æˆ–æŒ‡ä»¤ï¼‰å¼€å§‹ï¼Œåˆ°æ¨¡å‹ç”Ÿæˆç»“æŸï¼ˆé€šå¸¸ä»¥ç‰¹æ®Šç¬¦å·<EOS>æˆ–<END>è¡¨ç¤ºï¼‰ã€‚
- ï¼ˆ7ï¼‰**ä»·å€¼**ï¼ˆValue, Vï¼‰ï¼šä»·å€¼è¡¨ç¤ºåœ¨ç‰¹å®šçŠ¶æ€ä¸‹æˆ–é‡‡å–ç‰¹å®šåŠ¨ä½œåï¼Œæ¨¡å‹æœªæ¥æ‰€èƒ½è·å¾—çš„**é¢„æœŸå›æŠ¥**ã€‚å®ƒè¡¡é‡å½“å‰åŠ¨ä½œï¼ˆTokenæˆ–è¯ï¼‰çš„é€‰æ‹©è´¨é‡åŠå…¶åç»­å¯èƒ½åŠ¨ä½œçš„æ½œåœ¨å½±å“ï¼Œé€šå¸¸ç”±å•ç‹¬çš„ä»·å€¼ç½‘ç»œè¿›è¡Œä¼°è®¡ã€‚
[![ã€RLHFä¸RLAIFã€‘è¯­è¨€æ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ å»ºæ¨¡](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%BB%BA%E6%A8%A1.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%BB%BA%E6%A8%A1.png)

### <a name="header-77"></a>ã€RLHFä¸RLAIFã€‘RLHFçš„ä¸¤é˜¶æ®µå¼è®­ç»ƒæµç¨‹
RLHFè®­ç»ƒå¯ä»¥åˆ†ä¸º**ä¸¤ä¸ªé˜¶æ®µ**ï¼š
- ï¼ˆ1ï¼‰é˜¶æ®µä¸€ï¼ˆSFTï¼Œ**è®­ç»ƒå¥–åŠ±æ¨¡å‹**ï¼‰ï¼šæ ¹æ®ç”¨æˆ·è¾“å…¥ï¼ˆPromptï¼‰ï¼Œç”Ÿæˆå¤šç§å€™é€‰å›ç­”ï¼Œå¹¶ç”±äººå·¥å¯¹è¿™äº›å›ç­”è¿›è¡Œåå¥½æ ‡æ³¨ã€‚è¿™äº›æ ‡æ³¨æ•°æ®ä½œä¸ºè®­ç»ƒæ ·æœ¬ï¼Œç”¨äºç›‘ç£å­¦ä¹ è®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼Œä½¿å…¶èƒ½å¤Ÿé¢„æµ‹ä¸åŒå›ç­”çš„åå¥½å¾—åˆ†ã€‚
- ï¼ˆ2ï¼‰é˜¶æ®µäºŒï¼ˆRLï¼ŒåŸºäºPPOçš„**å¼ºåŒ–å­¦ä¹ **ï¼‰ï¼šè”åˆç­–ç•¥æ¨¡å‹ã€å‚è€ƒæ¨¡å‹ã€å¥–åŠ±æ¨¡å‹å’Œä»·å€¼æ¨¡å‹ï¼ŒåŸºäºPPOç­‰RLç®—æ³•è¿›è¡Œå¼ºåŒ–å­¦ä¹ è®­ç»ƒã€‚é€šè¿‡è¿­ä»£ä¼˜åŒ–ï¼Œç­–ç•¥æ¨¡å‹é€æ­¥æå‡ç”Ÿæˆå†…å®¹çš„è´¨é‡ï¼Œæ›´åŠ ç¬¦åˆäººç±»çš„éœ€æ±‚å’Œä»·å€¼è§‚ã€‚
ä¸¤ä¸ªé˜¶æ®µçš„**æ ·æœ¬**å¦‚ä¸‹ï¼š
- ï¼ˆ1ï¼‰å¥–åŠ±æ¨¡å‹æ ·æœ¬ï¼šå¥–åŠ±æ¨¡å‹çš„è®­ç»ƒä¾èµ–äº**åå¥½æ•°æ®é›†**ï¼ˆPrompt + å›ç­”ï¼‰ï¼Œå…¶æ„å»ºå’Œæ¸…æ´—è¿‡ç¨‹è¯¦è§ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹3.2.1èŠ‚å’Œ3.2.3èŠ‚ã€‚
- ï¼ˆ2ï¼‰PPOè®­ç»ƒçš„æ ·æœ¬ï¼šè¯¥é˜¶æ®µçš„è®­ç»ƒæ ·æœ¬**ä»…éœ€è¦Prompt**å³å¯ï¼Œæ— éœ€å›ç­”ã€‚å¦‚ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹5.1.1èŠ‚æ‰€è¿°ï¼Œå¼ºåŒ–å­¦ä¹ é€šè¿‡æ™ºèƒ½ä½“ä¸ç¯å¢ƒçš„äº¤äº’è¿›è¡Œå­¦ä¹ ï¼Œæ— éœ€æ˜ç¡®çš„æ ‡ç­¾ï¼ˆå›ç­”ï¼‰ã€‚
[![ã€RLHFä¸RLAIFã€‘RLHFçš„ä¸¤é˜¶æ®µå¼è®­ç»ƒæµç¨‹](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91RLHF%E7%9A%84%E4%B8%A4%E9%98%B6%E6%AE%B5%E5%BC%8F%E8%AE%AD%E7%BB%83%E6%B5%81%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91RLHF%E7%9A%84%E4%B8%A4%E9%98%B6%E6%AE%B5%E5%BC%8F%E8%AE%AD%E7%BB%83%E6%B5%81%E7%A8%8B.png)

### <a name="header-78"></a>ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹ï¼ˆRMï¼‰çš„ç»“æ„
- å¥–åŠ±æ¨¡å‹ï¼ˆReward Model, **RM**ï¼‰åœ¨RLHFè®­ç»ƒä¸­èµ·ç€å…³é”®ä½œç”¨ï¼Œä¸ä»·å€¼æ¨¡å‹å…±åŒæŒ‡å¯¼ç­–ç•¥æ¨¡å‹çš„ä¼˜åŒ–æ–¹å‘ã€‚
- å¥–åŠ±æ¨¡å‹çš„æ ¸å¿ƒ**ä½œç”¨**æ˜¯ä¸ºç‰¹å®šPromptå¯¹åº”çš„å›ç­”ç»“æœè¾“å‡ºä¸€ä¸ªå¥–åŠ±åˆ†æ•°ï¼Œç”¨äºæŒ‡å¯¼ç­–ç•¥æ¨¡å‹çš„ä¼˜åŒ–ã€‚
é€šå¸¸ï¼Œå¥–åŠ±æ¨¡å‹æ˜¯åœ¨ç»è¿‡SFTçš„LLMåŸºç¡€ä¸Šè¿›è¡Œå°å¹…**æ”¹é€ **è€Œæ¥ã€‚ç”±äºSFTä¹‹åçš„æ¨¡å‹å·²å…·å¤‡ä¸°å¯Œçš„è¯­è¨€å¤„ç†èƒ½åŠ›ï¼Œç›´æ¥å¤ç”¨å…¶åº•å±‚çš„Transformerç»“æ„å¯ä»¥æ˜¾è‘—å‡å°‘è®­ç»ƒæ—¶é—´å’Œæ•°æ®éœ€æ±‚ã€‚æ”¹é€ è¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºï¼š
- ï¼ˆ1ï¼‰**å…±äº«**åº•å±‚ç»“æ„ï¼šå¥–åŠ±æ¨¡å‹å¤ç”¨äº†LLMçš„åº•å±‚ç»“æ„åŠå…¶æƒå€¼ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„Transformer Decoderå±‚å’ŒEmbeddingå±‚ï¼Œä»è€Œç¡®ä¿ä¸¤è€…å…·å¤‡ä¸€è‡´çš„éšè—çŠ¶æ€è¡¨ç¤ºèƒ½åŠ›ã€‚è¿™ç§å…±äº«è®¾è®¡ä¸ä»…**é™ä½**äº†è®­ç»ƒå¤æ‚åº¦ï¼Œè¿˜æ˜¾è‘—å‡å°‘äº†ä»é›¶è®­ç»ƒæ‰€éœ€çš„è®¡ç®—èµ„æºå’Œæ•°æ®éœ€æ±‚ã€‚
- ï¼ˆ2ï¼‰**æ›¿æ¢**è¾“å‡ºå¤´ï¼šå°†LLMåŸæœ‰çš„é¡¶å±‚çº¿æ€§å±‚ï¼ˆLM Headï¼‰**æ›¿æ¢**ä¸ºå…¨æ–°çš„çº¿æ€§å±‚ï¼ˆReward Headï¼‰ã€‚å¦‚ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹1.1.3èŠ‚æ‰€è¿°ï¼ŒLLMçš„æœ€åä¸€å±‚é€šå¸¸æ˜¯ä¸€ä¸ªçº¿æ€§æŠ•å½±å±‚ï¼ˆLM Headï¼‰ï¼Œå…¶è¾“å…¥ç»´åº¦ä¸ºéšè—çŠ¶æ€å¤§å°ï¼ˆhidden_sizeï¼‰ï¼Œè¾“å‡ºç»´åº¦ä¸ºè¯è¡¨å¤§å°ï¼ˆvocab_sizeï¼‰ï¼Œç”¨äºç”Ÿæˆå¯¹åº”äºå…¨è¯è¡¨çš„logitså€¼ï¼ˆæ¦‚ç‡åˆ†å¸ƒï¼‰ã€‚è€Œå¥–åŠ±æ¨¡å‹åªéœ€è¾“å‡ºä¸€ä¸ªåˆ†æ•°å€¼ï¼Œå› æ­¤ï¼ŒLLMçš„è¾“å‡ºå¤´è¢«æ›¿æ¢ä¸ºä¸€ä¸ªå…¨æ–°çš„çº¿æ€§å±‚ï¼Œè¯¥å±‚çš„è¾“å‡ºç»´åº¦ä¸º1ï¼ˆout_dim=1ï¼‰ï¼Œç”¨äºç”Ÿæˆå¥–åŠ±åˆ†æ•°ã€‚
[![ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹çš„ç»“æ„](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%BB%93%E6%9E%84.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%BB%93%E6%9E%84.png)

### <a name="header-79"></a>ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹çš„è¾“å…¥è¾“å‡º
- å¥–åŠ±æ¨¡å‹è¾“å…¥ç”±ä¸€æ¡Prompt + å…¶å¯¹åº”çš„ä¸€æ¡å›ç­”ï¼ˆResponseï¼‰**æ‹¼æ¥**è€Œæˆï¼Œæ„æˆä¸€ä¸ªå®Œæ•´çš„åºåˆ—ï¼Œå¦‚å›¾æ‰€ç¤ºï¼ŒåŒ…æ‹¬Promptï¼ˆé»„è‰²éƒ¨åˆ†ï¼‰ï¼Œå³ç”¨æˆ·æä¾›çš„é—®é¢˜æˆ–ä¸Šä¸‹æ–‡ï¼Œä»¥åŠå›ç­”ï¼ˆè“è‰²éƒ¨åˆ†ï¼‰ï¼Œå³æ¨¡å‹ç”Ÿæˆçš„å›ç­”åºåˆ—ã€‚
- å›¾ä¸­ï¼Œä»ç¬¬ä¸€ä¸ªåŠ¨ä½œa0=â€œé’â€åˆ°æœ€åä¸€ä¸ª**åŠ¨ä½œ**a5= <EOS>ï¼Œå›ç­”åºåˆ—ä¸­çš„æ¯ä¸ªTokenéƒ½è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„åŠ¨ä½œã€‚
- å¥–åŠ±æ¨¡å‹è¾“å‡ºä¸€ç»„**å¥–åŠ±åˆ†æ•°**r0,r1 , ..., r5ï¼Œåˆ†åˆ«å¯¹åº”ç”Ÿæˆå›ç­”åºåˆ—ä¸­æ¯ä¸ªTokenä½ç½®ï¼Œç”¨äºè¡¨ç¤ºå„ä½ç½®ç”ŸæˆTokençš„è´¨é‡è¯„åˆ†ã€‚
[![ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹çš„è¾“å…¥è¾“å‡º](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.png)

### <a name="header-80"></a>ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹é¢„æµ‹åå·®ä¸Lossçš„å…³ç³»
- **å¥–åŠ±æ¨¡å‹ï¼ˆRMï¼‰**çš„**ç›®æ ‡**æ˜¯åˆ©ç”¨åå¥½æ•°æ®é›†è®­ç»ƒå‡ºèƒ½å¤Ÿæ‹Ÿåˆäººç±»åé¦ˆçš„è¯„åˆ†å‡½æ•°ï¼Œä»¥å‡†ç¡®è¯„ä¼°ç”Ÿæˆæ–‡æœ¬çš„è´¨é‡ã€‚
- **Loss**é€šå¸¸é‡‡ç”¨åŸºäºå¯¹æ¯”çš„**è´Ÿå¯¹æ•°ä¼¼ç„¶**å½¢å¼ï¼Œè¿™ä¸DPOç®—æ³•ä¸­çš„å¥–åŠ±å»ºæ¨¡è¿‡ç¨‹ç±»ä¼¼ã€‚
[![ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹é¢„æµ‹åå·®ä¸Lossçš„å…³ç³»](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E5%81%8F%E5%B7%AE%E4%B8%8ELoss%E7%9A%84%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E5%81%8F%E5%B7%AE%E4%B8%8ELoss%E7%9A%84%E5%85%B3%E7%B3%BB.png)

### <a name="header-81"></a>ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹çš„è®­ç»ƒ
å¦‚å›¾æ‰€ç¤ºï¼Œå…¶ä¸­ï¼Œywå’Œ ylæ˜¯é’ˆå¯¹åŒä¸€ä¸ªPromptï¼ˆå›¾ä¸­çš„xï¼‰ç”Ÿæˆçš„**ä¸¤ä¸ªå›ç­”**ï¼Œä¸” yw ä¼˜äº yl ï¼Œè¿™åŒ…å«äº†äººç±»åé¦ˆï¼ˆåå¥½ï¼‰ä¿¡æ¯ã€‚è®­ç»ƒ**æ­¥éª¤**å¦‚ä¸‹ï¼š
- ï¼ˆ1ï¼‰**è®¡ç®—å¥–åŠ±åˆ†æ•°**ï¼šå¥–åŠ±æ¨¡å‹åˆ†åˆ«å¯¹ä¸¤ä¸ªå›ç­”è¿›è¡Œæ¨ç†ï¼Œå¾—åˆ°ä¸¤ä¸ªå¥–åŠ±è¯„åˆ†ï¼Œå³å¥–åŠ±æ¨¡å‹æ°å¥½å¯¹ä¼˜è´¨å›ç­”yw çš„è¯„åˆ†æ›´é«˜ï¼Œè¿™ä¸äººç±»åé¦ˆå¤§ä½“ä¸€è‡´ã€‚
- ï¼ˆ2ï¼‰è®¡ç®—**Loss**ï¼šæ ¹æ®ä¸¤ä¸ªå¥–åŠ±åˆ†æ•°çš„å·®å¼‚ï¼Œä»£å…¥å¼ï¼ˆ7.2ï¼‰è®¡ç®—Lossã€‚
- ï¼ˆ3ï¼‰**æ¢¯åº¦æ›´æ–°**ï¼šé€šè¿‡åå‘ä¼ æ’­è®¡ç®—æ¢¯åº¦ï¼Œå¹¶æ›´æ–°å¥–åŠ±æ¨¡å‹çš„å‚æ•°ã€‚
- ï¼ˆ4ï¼‰**é‡å¤è¿­ä»£**å¤šæ¬¡ï¼šè¯»å–ä¸‹ä¸€æ‰¹åå¥½æ ·æœ¬ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æµç¨‹ï¼Œé‡å¤è¿­ä»£ã€‚éšç€å‚æ•°é€æ­¥æ›´æ–°ï¼Œå¥–åŠ±æ¨¡å‹åœ¨æ‰€æœ‰åå¥½æ•°æ®ä¸Šçš„è¯„åˆ†é€æ¸ä¸äººç±»çš„åå¥½è¶‹äºä¸€è‡´ã€‚
[![ã€RLHFä¸RLAIFã€‘å¥–åŠ±æ¨¡å‹çš„è®­ç»ƒ](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%AE%AD%E7%BB%83.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%A5%96%E5%8A%B1%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%AE%AD%E7%BB%83.png)

### <a name="header-82"></a>ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­å››ç§æ¨¡å‹çš„åˆä½œå…³ç³»
å¦‚å›¾æ‰€ç¤ºï¼ŒRLHFçš„ç¬¬äºŒé˜¶æ®µéœ€è¦åŠ è½½**å››ä¸ªæ¨¡å‹**è¿›è¡Œå¼ºåŒ–å­¦ä¹ è®­ç»ƒã€‚è¿™å››ç§æ¨¡å‹çš„è§’è‰²å’Œ**ç›¸äº’å…³ç³»**å¦‚ä¸‹ï¼š
- ï¼ˆ1ï¼‰**ç­–ç•¥æ¨¡å‹**ï¼ˆPolicy Model, Actorï¼‰ï¼šRLHFè®­ç»ƒçš„**æ ¸å¿ƒ**ï¼Œè´Ÿè´£æ ¹æ®è¾“å…¥çš„Promptç”Ÿæˆå›ç­”Atã€‚ç­–ç•¥æ¨¡å‹éœ€å¹³è¡¡ä¸¤ä¸ªç›®æ ‡ï¼šä¸€æ–¹é¢ï¼Œé€šè¿‡å¥–åŠ±æ¨¡å‹å’Œä»·å€¼æ¨¡å‹å¼•å¯¼ä¼˜åŒ–ä»¥ç¬¦åˆäººç±»åå¥½ï¼›å¦ä¸€æ–¹é¢ï¼Œé€šè¿‡å‚è€ƒæ¨¡å‹æ–½åŠ KLçº¦æŸï¼Œé™åˆ¶ç”Ÿæˆå†…å®¹ä¸åˆå§‹è¡Œä¸ºåˆ†å¸ƒçš„åç¦»ï¼Œé¿å…è¿‡åº¦æ¿€è¿›æˆ–ä¸ç¨³å®šçš„å›ç­”ã€‚
- ï¼ˆ2ï¼‰**å‚è€ƒæ¨¡å‹**ï¼ˆReference Modelï¼‰ï¼šä¸ºç­–ç•¥æ¨¡å‹æä¾›ç¨³å®šçš„è¡Œä¸º**åŸºå‡†**ï¼Œé€šè¿‡è®¡ç®—ç­–ç•¥æ¨¡å‹ä¸å‚è€ƒæ¨¡å‹è¾“å‡ºä¹‹é—´çš„KLè·ç¦»ï¼Œå¯ä»¥åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¯¹ç­–ç•¥æ¨¡å‹æ–½åŠ çº¦æŸï¼Œé˜²æ­¢å…¶è¿‡åº¦åç¦»å‚è€ƒæ¨¡å‹çš„æ¦‚ç‡åˆ†å¸ƒã€‚è¿™æ ·å¯ä»¥é¿å…ç­–ç•¥æ¨¡å‹åç¦»SFTæ¨¡å‹å¤ªè¿œï¼Œç¡®ä¿ç”Ÿæˆè¡Œä¸ºçš„ç¨³å®šæ€§ï¼Œä»è€Œæœ‰æ•ˆé˜²æ­¢ç­–ç•¥æ¨¡å‹å› è¿‡åº¦è¿½æ±‚å¥–åŠ±è€Œå‡ºç°â€œå¥–åŠ±æ¬ºéª—â€ç°è±¡ã€‚
- ï¼ˆ3ï¼‰**å¥–åŠ±æ¨¡å‹**ï¼ˆReward Model, RMï¼‰ï¼šä¸ºç­–ç•¥æ¨¡å‹ç”Ÿæˆçš„å›ç­”åˆ†é…**å³æ—¶å¥–åŠ±**Rtï¼Œæ¨¡æ‹Ÿäººç±»åå¥½åé¦ˆã€‚å¥–åŠ±æ¨¡å‹ä¸ä»·å€¼æ¨¡å‹åä½œï¼Œå…±åŒå¼•å¯¼ç­–ç•¥æ¨¡å‹æœç€äººç±»åå¥½çš„æ–¹å‘ä¼˜åŒ–ã€‚å¦‚ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹ 7.2.1èŠ‚æ‰€è¿°ï¼Œåœ¨RLHFè®­ç»ƒä¸­ï¼Œæœ‰æ—¶è¿˜ä¼šç»“åˆå¤šä¸ªå¥–åŠ±æ¨¡å‹ä»¥å¢å¼ºæ•ˆæœã€‚
- ï¼ˆ4ï¼‰**ä»·å€¼æ¨¡å‹**ï¼ˆValue Model, Criticï¼‰ï¼š**å…¨é¢è¯„ä¼°**ç­–ç•¥æ¨¡å‹ç”Ÿæˆçš„å›ç­”ï¼Œé¢„æµ‹åœ¨ç‰¹å®šçŠ¶æ€ä¸‹æ‰§è¡ŒæŸåŠ¨ä½œçš„**é•¿æœŸå›æŠ¥**ï¼Œè®¡ç®—ä»·å€¼ä¼°è®¡Vtã€‚
[![ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­å››ç§æ¨¡å‹çš„åˆä½œå…³ç³»](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%90%88%E4%BD%9C%E5%85%B3%E7%B3%BB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%90%88%E4%BD%9C%E5%85%B3%E7%B3%BB.png)

### <a name="header-83"></a>ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­å››ç§æ¨¡å‹çš„ç»“æ„ä¸åˆå§‹åŒ–ï¼ˆé€šç”¨&ä½æˆæœ¬æ–¹æ¡ˆï¼‰
é€šå¸¸ï¼Œåœ¨é€šç”¨&ä½æˆæœ¬åœºæ™¯ä¸‹ï¼Œå¯ä»¥ç®€åŒ–æ¨¡å‹è®¾è®¡ï¼ŒRLHFæ¶‰åŠçš„å››ç§æ¨¡å‹æ‹¥æœ‰ç±»ä¼¼çš„ç»“æ„ï¼Œä¸»è¦åŒºåˆ«åœ¨äºå„æ¨¡å‹çš„å¤´éƒ¨ï¼ˆHeadï¼‰ã€‚è¿™äº›æ¨¡å‹å¯ä»¥åŸºäºSFTæ¨¡å‹ï¼ˆç»è¿‡æœ‰ç›‘ç£å¾®è°ƒåçš„LLMç‰ˆæœ¬ï¼‰è¿›è¡Œ**æ”¹é€ å’Œåˆå§‹åŒ–**ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š
- ï¼ˆ1ï¼‰**ç­–ç•¥æ¨¡å‹**ï¼šç»“æ„ä¸SFTæ¨¡å‹**å®Œå…¨ä¸€è‡´**ï¼ŒåŒ…å«Nå±‚Transformer Decoderå’ŒLM Headï¼ˆLanguage Modeling Headï¼‰ã€‚åœ¨å‚æ•°åˆå§‹åŒ–æ—¶ï¼Œé€šå¸¸ç›´æ¥å¤åˆ¶SFTæ¨¡å‹çš„æ‰€æœ‰å‚æ•°ã€‚åœ¨éšåçš„PPOè®­ç»ƒä¸­ï¼Œç­–ç•¥æ¨¡å‹çš„å‚æ•°ä¼š**æŒç»­æ›´æ–°**ã€‚
- ï¼ˆ2ï¼‰**å‚è€ƒæ¨¡å‹**ï¼šç»“æ„ä¸SFTæ¨¡å‹ä¸€è‡´ï¼ŒåŒ…å«Nå±‚Decoderå’ŒLM Headã€‚å‚æ•°åˆå§‹åŒ–æ—¶ï¼ŒåŒæ ·ç›´æ¥å¤åˆ¶SFTæ¨¡å‹çš„æ‰€æœ‰å‚æ•°ã€‚ä½†åœ¨åç»­çš„PPOè®­ç»ƒä¸­ï¼Œå‚è€ƒæ¨¡å‹çš„å‚æ•°å§‹ç»ˆä¿æŒ**å†»ç»“**ï¼ˆä¸æ›´æ–°ï¼‰ã€‚å› æ­¤ï¼Œåœ¨PPOè®­ç»ƒçš„åˆå§‹æ—¶åˆ»ï¼Œå‚è€ƒæ¨¡å‹ä¸ç­–ç•¥æ¨¡å‹å®Œå…¨ä¸€è‡´ï¼Œåœ¨ç­–ç•¥æ¨¡å‹çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå‚è€ƒæ¨¡å‹ä¸ºç­–ç•¥æ¨¡å‹æä¾›äº†ä¸€ä¸ªç¨³å®šçš„è¡Œä¸ºå‚è€ƒåŸºå‡†ã€‚
- ï¼ˆ3ï¼‰**å¥–åŠ±æ¨¡å‹**ï¼šä¸SFTæ¨¡å‹çš„åº•å±‚Decoderéƒ¨åˆ†ç»“æ„ä¸€è‡´ï¼Œä½†å°†å¤´éƒ¨ç»“æ„**æ›¿æ¢**ä¸ºReward Headï¼ˆå¥–åŠ±å¤´ï¼‰ã€‚åœ¨å‚æ•°åˆå§‹åŒ–æ—¶ï¼Œä»…å¤åˆ¶SFTæ¨¡å‹çš„åº•å±‚Decoderï¼ˆNå±‚ï¼‰ï¼Œè€ŒReward Headçš„å‚æ•°é€šå¸¸éšæœºåˆå§‹åŒ–ã€‚åœ¨éšåçš„PPOè®­ç»ƒä¸­ï¼Œå¥–åŠ±æ¨¡å‹çš„å‚æ•°å§‹ç»ˆä¿æŒ**å†»ç»“**ï¼ˆä¸è¿›è¡Œæ›´æ–°ï¼‰ã€‚
- ï¼ˆ4ï¼‰**ä»·å€¼æ¨¡å‹**ï¼šç»“æ„ç±»ä¼¼äºå¥–åŠ±æ¨¡å‹ï¼ŒåŒ…å«Nå±‚Decoderå’ŒValue Headï¼ˆä»·å€¼å¤´ï¼‰ã€‚åœ¨å‚æ•°åˆå§‹åŒ–æ—¶ï¼Œå¯ä»¥å¤åˆ¶å¥–åŠ±æ¨¡å‹çš„æ‰€æœ‰å‚æ•°ï¼Œæœ‰æ—¶ä¹Ÿå¯åŸºäºSFTæ¨¡å‹è¿›è¡Œæ”¹é€ ã€‚åœ¨éšåçš„PPOè®­ç»ƒä¸­ï¼Œä»·å€¼æ¨¡å‹çš„å‚æ•°ä¼š**æŒç»­æ›´æ–°**ã€‚
[![ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­å››ç§æ¨¡å‹çš„ç»“æ„ä¸åˆå§‹åŒ–](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%BB%93%E6%9E%84%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%BB%93%E6%9E%84%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96.png)

### <a name="header-84"></a>ã€RLHFä¸RLAIFã€‘ä¸€ä¸ªåŒå¤´ç»“æ„çš„ä»·å€¼æ¨¡å‹
- ä»·å€¼æ¨¡å‹ä¸å¥–åŠ±æ¨¡å‹éœ€è¦ä¸ºæ¯ä¸ªTokenè¾“å‡ºæ ‡é‡æ•°å€¼ã€‚ä¸ºæ»¡è¶³è¿™ä¸€éœ€æ±‚ï¼ŒTRLåº“å®ç°äº†AutoModelForCausalLMWithValueHeadç±»ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œè¯¥æ¨¡å‹é‡‡ç”¨äº†**åŒå¤´**ç»“æ„ï¼Œå³åŒ…å«ä¸¤ä¸ªè¾“å‡ºå¤´éƒ¨â€”â€”è¯­è¨€æ¨¡å‹å¤´ï¼ˆLM Headï¼‰å’Œä»·å€¼å¤´ï¼ˆValue Headï¼‰ã€‚
- ä»¥å›ç­”åºåˆ—é•¿åº¦ä¸º3ã€è¯è¡¨å¤§å°ä¸º151936ä¸ºä¾‹ï¼Œä¸¤ä¸ªå¤´éƒ¨çš„**è¾“å‡º**å¦‚ä¸‹ï¼š
- ï¼ˆ1ï¼‰**Logits**ï¼šå½¢çŠ¶ä¸ºï¼ˆ3, 151936ï¼‰çš„çŸ©é˜µï¼Œè¡¨ç¤ºæ¯ä¸ªTokenåœ¨è¯è¡¨ä¸­çš„æ¦‚ç‡åˆ†å¸ƒã€‚
- ï¼ˆ2ï¼‰**ä»·å€¼å‘é‡**ï¼šå½¢çŠ¶ä¸ºï¼ˆ3, 1ï¼‰çš„å‘é‡ï¼Œè¡¨ç¤ºæ¯ä¸ªTokençš„ä»·å€¼ä¼°è®¡ã€‚
- ä¸ºä¾¿äºç†è§£ï¼Œæœ¬æ–‡å‡è®¾batch_size=1ã€‚é€šè¿‡è¿™ç§åŒå¤´ç»“æ„è®¾è®¡ï¼Œæ¨¡å‹çš„æ ¸å¿ƒæ¨¡å—ï¼ˆNå±‚Decoderï¼‰ä»…éœ€æ‰§è¡Œä¸€æ¬¡æ¨ç†ï¼Œè¿™æ˜¾è‘—**é™ä½**äº†è®¡ç®—æˆæœ¬å’Œæ˜¾å­˜æ¶ˆè€—ã€‚
[![ã€RLHFä¸RLAIFã€‘ä¸€ä¸ªåŒå¤´ç»“æ„çš„ä»·å€¼æ¨¡å‹](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E4%B8%80%E4%B8%AA%E5%8F%8C%E5%A4%B4%E7%BB%93%E6%9E%84%E7%9A%84%E4%BB%B7%E5%80%BC%E6%A8%A1%E5%9E%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E4%B8%80%E4%B8%AA%E5%8F%8C%E5%A4%B4%E7%BB%93%E6%9E%84%E7%9A%84%E4%BB%B7%E5%80%BC%E6%A8%A1%E5%9E%8B.png)

### <a name="header-85"></a>ã€RLHFä¸RLAIFã€‘RLHFï¼šå››ç§æ¨¡å‹å¯ä»¥å…±äº«åŒä¸€ä¸ªåº•åº§
- åœ¨RLHFä¸­ï¼Œé€šè¿‡**å…±äº«**åŒä¸€ä¸ªåº•åº§ï¼ˆNå±‚Decoderï¼‰ï¼Œå¯ä»¥æ˜¾è‘—**é™ä½**æ˜¾å­˜å¼€é”€ã€‚è¿™æ˜¯å› ä¸ºå‚è€ƒæ¨¡å‹ã€å¥–åŠ±æ¨¡å‹ã€ç­–ç•¥æ¨¡å‹å’Œä»·å€¼æ¨¡å‹ä¹‹é—´å…·æœ‰è¾ƒé«˜çš„**ç›¸ä¼¼æ€§**ã€‚é‡‡ç”¨LoRAå¾®è°ƒæŠ€æœ¯ï¼ˆè¯¦è§ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹ ç¬¬2.1.2èŠ‚ï¼‰ï¼Œå››ç§æ¨¡å‹å¯ä»¥å…±ç”¨åŒä¸€åº•åº§ï¼ŒåŒæ—¶ä¿æŒåº•åº§å‚æ•°å†»ç»“ï¼ˆä¸æ›´æ–°ï¼‰ã€‚
- å…·ä½“è€Œè¨€ï¼Œå‚è€ƒæ¨¡å‹ä»…ç”¨äºè¯„ä¼°å¯¹æ¯”ï¼Œ**ä¸å‚ä¸**è®­ç»ƒï¼›å¥–åŠ±æ¨¡å‹åœ¨RLHFçš„ç¬¬ä¸€é˜¶æ®µï¼ˆå¥–åŠ±å»ºæ¨¡ï¼‰ä¸­è¿›è¡Œè®­ç»ƒï¼›è€Œç­–ç•¥æ¨¡å‹å’Œä»·å€¼æ¨¡å‹åˆ™åœ¨ç¬¬äºŒé˜¶æ®µï¼ˆç­–ç•¥ä¼˜åŒ–ï¼‰ä¸­è¿›è¡Œè®­ç»ƒã€‚å› æ­¤ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œä¸ºå¥–åŠ±æ¨¡å‹ã€ç­–ç•¥æ¨¡å‹å’Œä»·å€¼æ¨¡å‹åˆ†åˆ«é…å¤‡äº†**ç‹¬ç«‹çš„LoRA**æ¨¡å—ï¼ˆå‚æ•°ï¼‰ï¼Œé€šè¿‡ç»„åˆç›¸åº”çš„LoRAæ¨¡å—ã€Headå’Œå…±äº«çš„åº•åº§ï¼Œå³å¯åŠ¨æ€ç»„è£…æ‰€éœ€çš„æ¨¡å‹ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œä»…æ›´æ–°LoRAæ¨¡å—å’ŒHeadéƒ¨åˆ†çš„å‚æ•°ã€‚
- **å››ç§æ¨¡å‹å…±äº«**ç›¸åŒçš„åº•åº§ï¼ˆNå±‚Decoderï¼‰ã€‚è¯¥åº•åº§å‚æ•°**å¸¸é©»GPU**å¹¶ä¿æŒå†»ç»“çŠ¶æ€ï¼Œè€ŒLoRAæ¨¡å—å’ŒHeadéƒ¨åˆ†åˆ™æ ¹æ®PPOè®­ç»ƒçš„ä¸åŒç¯èŠ‚ï¼Œå¯åŠ¨æ€åŠ è½½åˆ°GPUä¸­æˆ–åŠ¨æ€swapã€‚
[![ã€RLHFä¸RLAIFã€‘RLHFï¼šå››ç§æ¨¡å‹å¯ä»¥å…±äº«åŒä¸€ä¸ªåº•åº§](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91RLHF%EF%BC%9A%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%9E%8B%E5%8F%AF%E4%BB%A5%E5%85%B1%E4%BA%AB%E5%90%8C%E4%B8%80%E4%B8%AA%E5%BA%95%E5%BA%A7.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91RLHF%EF%BC%9A%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%9E%8B%E5%8F%AF%E4%BB%A5%E5%85%B1%E4%BA%AB%E5%90%8C%E4%B8%80%E4%B8%AA%E5%BA%95%E5%BA%A7.png)

### <a name="header-86"></a>ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­å„æ¨¡å‹çš„è¾“å…¥ä¸è¾“å‡º
- æ¶‰åŠçš„å››ä¸ªæ¨¡å‹å…·æœ‰ä¸åŒçš„**è¾“å…¥ä¸è¾“å‡º**ï¼ˆå›¾ä¸­æœªå±•ç¤º<EOS>ç­‰ç‰¹æ®ŠTokenï¼‰ï¼Œæ€»ç»“å¦‚è¡¨7.1æ‰€ç¤ºã€‚
- æ‰€æœ‰å››ä¸ªæ¨¡å‹ä¸­ï¼Œåªæœ‰ç­–ç•¥æ¨¡å‹æ‰§è¡Œäº†**ç”Ÿæˆ**è¿‡ç¨‹ã€‚ç­–ç•¥æ¨¡å‹æ ¹æ®è¾“å…¥çš„Promptï¼ˆæˆ–ä¸Šä¸‹æ–‡ï¼‰ç”Ÿæˆäº†ä¸‰ä¸ªTokenï¼Œå³ä¸‰ä¸ªåŠ¨ä½œï¼ˆ[ä½ ]ã€[å…ˆå»]ã€[ã€‚]ï¼‰ï¼ˆåŠ¨ä½œä¸çŠ¶æ€çš„å»ºæ¨¡è§ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹å›¾7.1ï¼‰ã€‚å…¶ä½™ä¸‰ä¸ªæ¨¡å‹ï¼ˆå‚è€ƒæ¨¡å‹ã€å¥–åŠ±æ¨¡å‹ã€ä»·å€¼æ¨¡å‹ï¼‰å‡ä»¥Promptå’Œç­–ç•¥æ¨¡å‹ç”Ÿæˆçš„å›ç­”ä¸ºåŸºç¡€ï¼Œæ‰§è¡Œç›¸åº”çš„è®¡ç®—ï¼š
- ï¼ˆ1ï¼‰**å‚è€ƒæ¨¡å‹**ï¼šè¾“å‡ºå›ç­”å¯¹åº”çš„å¯¹æ•°æ¦‚ç‡ï¼ˆLogProbsï¼‰ï¼Œä¸ç­–ç•¥æ¨¡å‹è¾“å‡ºçš„å¯¹æ•°æ¦‚ç‡è®¡ç®—å‡º**KLè·ç¦»**ï¼Œç¡®ä¿ç­–ç•¥æ¨¡å‹ä¸ä¼šåç¦»åŸºå‡†åˆ†å¸ƒè¿‡è¿œã€‚
- ï¼ˆ2ï¼‰**å¥–åŠ±æ¨¡å‹**ï¼šå¯¹ç”Ÿæˆçš„å›ç­”ï¼ˆç­–ç•¥æ¨¡å‹çš„åŠ¨ä½œï¼‰è¿›è¡Œé€Tokençš„å¥–åŠ±æ‰“åˆ†ï¼Œç”Ÿæˆ**å³æ—¶å¥–åŠ±**Rtã€‚å¦‚7.2.2èŠ‚æ‰€è¿°ï¼Œé€šå¸¸åªä½¿ç”¨æœ€åä¸€ä¸ªTokenå¯¹åº”çš„å¥–åŠ±åˆ†æ•°ï¼Œå³ä¸<EOS> Tokenå¯¹åº”çš„å¥–åŠ±åˆ†æ•°ã€‚
- ï¼ˆ3ï¼‰**ä»·å€¼æ¨¡å‹**ï¼šå¯¹ç”Ÿæˆçš„å›ç­”ï¼ˆç­–ç•¥æ¨¡å‹çš„åŠ¨ä½œï¼‰è¿›è¡Œé€Tokençš„ä»·å€¼ä¼°è®¡ï¼Œç”¨äºè¯„ä¼°æ¯ä¸ªåŠ¨ä½œçš„**é•¿æœŸå›æŠ¥**Vtã€‚

 PPOè®­ç»ƒä¸­å„æ¨¡å‹çš„è¾“å…¥ä¸è¾“å‡º
| æ¨¡å‹     | è¾“å…¥                             | è¾“å‡º                                           |
| -------- | -------------------------------- | ---------------------------------------------- |
| ç­–ç•¥æ¨¡å‹ | Promptï¼ˆæˆ–ä¸Šä¸‹æ–‡ï¼‰               | å›ç­”åŠå…¶å¯¹åº”çš„å¯¹æ•°æ¦‚ç‡ï¼ˆLogProbsï¼‰               |
| å‚è€ƒæ¨¡å‹ | Promptï¼ˆæˆ–ä¸Šä¸‹æ–‡ï¼‰ + å›ç­”        | å›ç­”å¯¹åº”çš„å¯¹æ•°æ¦‚ç‡ï¼ˆLogProbsï¼‰                  |
| å¥–åŠ±æ¨¡å‹ | Promptï¼ˆæˆ–ä¸Šä¸‹æ–‡ï¼‰ + å›ç­”        | å›ç­”å¯¹åº”çš„æ¯ä¸ª token çš„å¥–åŠ±å€¼                   |
| ä»·å€¼æ¨¡å‹ | Promptï¼ˆæˆ–ä¸Šä¸‹æ–‡ï¼‰ + å›ç­”        | å›ç­”å¯¹åº”çš„æ¯ä¸ª token çš„ä»·å€¼ä¼°è®¡                 |

[![ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­å„æ¨¡å‹çš„è¾“å…¥ä¸è¾“å‡º](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E5%90%84%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%AD%E5%90%84%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA.png)

### <a name="header-87"></a>ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­KLè·ç¦»çš„è®¡ç®—è¿‡ç¨‹
- åœ¨TRLç­‰æ¡†æ¶çš„å®ç°ä¸­ï¼ŒKLè·ç¦»çš„ä½œç”¨ä½“ç°åœ¨å¯¹**Advantageçš„è®¡ç®—ç¯èŠ‚**ï¼Œé€šè¿‡æƒ©ç½šå¥–åŠ±å€¼æ¥è¾¾åˆ°çº¦æŸç›®çš„ã€‚å¦‚ã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹6.2.3èŠ‚æ‰€è¿°ï¼Œåœ¨åŸºäºGAEç®—æ³•è®¡ç®—Advantageæ—¶ï¼Œéœ€è¦ç”¨åˆ°å¥–åŠ±æ¨¡å‹ä¼°è®¡çš„å¥–åŠ±åˆ†æ•°ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥å¯¹å¥–åŠ±åˆ†æ•°è¿›è¡Œè°ƒæ•´ã€‚
- å¦‚å›¾æ‰€ç¤ºï¼Œç­–ç•¥æ¨¡å‹å’Œå‚è€ƒæ¨¡å‹å‡ä¼š**è¾“å‡ºLogits**ï¼Œå¹¶è¿›ä¸€æ­¥è½¬æ¢ä¸º**å¯¹æ•°æ¦‚ç‡**ï¼ˆLogProbsï¼‰ï¼Œè½¬æ¢å…¬å¼å¯å‚è€ƒã€Šå¤§æ¨¡å‹ç®—æ³•ã€‹ç¬¬2.2.5èŠ‚ï¼ŒåŸºäºè¿™äº›å¯¹æ•°æ¦‚ç‡å³å¯å®ŒæˆKLè·ç¦»çš„è®¡ç®—ã€‚
- ç­–ç•¥æ¨¡å‹ä¸å‚è€ƒæ¨¡å‹çš„KLè·ç¦»è®¡ç®—è¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºã€‚ä¸ºä¾¿äºç†è§£ï¼Œè¿™é‡Œå‡è®¾æ‰¹æ¬¡å¤§å°ï¼ˆbatch_sizeï¼‰ä¸º1ï¼Œè¯è¡¨å¤§å°ä¸º7ï¼Œå›ç­”å¯¹åº”çš„Tokenåºåˆ—é•¿åº¦ä¸º3ã€‚Promptä¸ºâ€œåƒé¥­ï¼Ÿâ€ï¼Œå…¶TokenåŒ–åä¸º[åƒé¥­]å’Œ[ï¼Ÿ]ã€‚å›ç­”ä¸ºâ€œä½ å…ˆå»ã€‚â€ï¼Œå…¶TokenåŒ–åä¸º[ä½ ]ã€[å…ˆå»]å’Œ[ã€‚]ã€‚æ­¤å¤„å¿½ç•¥[EOS]ç­‰ç‰¹æ®ŠTokenã€‚
- KLè®¡ç®—çš„è¯¦ç»†**è¿‡ç¨‹**å¦‚ä¸‹ï¼š
- ï¼ˆ1ï¼‰ç­–ç•¥æ¨¡å‹**ç”Ÿæˆ**å›ç­”Tokenï¼šä»¥Promptï¼ˆæˆ–ä¸Šä¸‹æ–‡ï¼‰ä½œä¸ºç­–ç•¥æ¨¡å‹çš„è¾“å…¥ï¼Œç”Ÿæˆå›ç­”ï¼ˆresponseï¼‰ä»¥åŠå¯¹åº”çš„**Logits**ï¼ŒresponseåŒ…æ‹¬ä¸‰ä¸ªTokenï¼š[ä½ ]ã€[å…ˆå»]å’Œ[ã€‚]ã€‚æ³¨æ„ï¼Œåœ¨å®é™…RLHFè®­ç»ƒä¸­ï¼Œè¯¥æ­¥éª¤å·²åœ¨ç»éªŒé‡‡é›†ï¼ˆMake Experienceï¼‰ç¯èŠ‚å®Œæˆã€‚
- ï¼ˆ2ï¼‰è®¡ç®—**å¯¹æ•°æ¦‚ç‡**ï¼šåœ¨æ­¥éª¤ï¼ˆ1ï¼‰ä¸­ï¼Œç­–ç•¥æ¨¡å‹å·²ç»ç”Ÿæˆäº†Logitsï¼Œå³ä¸€ä¸ªå½¢çŠ¶ä¸ºï¼ˆåºåˆ—é•¿åº¦=3ï¼Œè¯è¡¨å¤§å°=7ï¼‰çš„çŸ©é˜µã€‚è¿›ä¸€æ­¥ï¼Œå¯ä»¥å°†è¯¥çŸ©é˜µè½¬æ¢ä¸º**å¯¹æ•°æ¦‚ç‡**ï¼ˆLogProbsï¼‰çŸ©é˜µã€‚
- ï¼ˆ3ï¼‰**å‚è€ƒæ¨¡å‹**ç”Ÿæˆå¯¹æ•°æ¦‚ç‡ï¼šä»¥Promptå’Œresponseä½œä¸ºè¾“å…¥ï¼Œå‚è€ƒæ¨¡å‹æ¨ç†å¹¶ç”ŸæˆLogitsï¼Œ**æˆªå–**å¯¹åº”äºresponseéƒ¨åˆ†çš„Logitsï¼Œè¿›è€Œå¯å¾—åˆ°å‚è€ƒæ¨¡å‹çš„å¯¹æ•°æ¦‚ç‡çŸ©é˜µã€‚
- ï¼ˆ4ï¼‰æŠ½å–ï¼ˆ**Gather**ï¼‰ï¼šä»¥æ­¥éª¤ï¼ˆ1ï¼‰ä¸­ç­–ç•¥æ¨¡å‹ç”Ÿæˆçš„ä¸‰ä¸ªå›ç­”Tokenä¸º**ç´¢å¼•**ï¼Œåœ¨ç­–ç•¥æ¨¡å‹å’Œå‚è€ƒæ¨¡å‹çš„å¯¹æ•°æ¦‚ç‡çŸ©é˜µä¸­ï¼Œåˆ†åˆ«æå–å‡ºå¯¹åº”Tokençš„å¯¹æ•°æ¦‚ç‡å€¼ã€‚é€šè¿‡è¿™ä¸€æ“ä½œï¼Œå¯ä»¥å¾—åˆ°ä¸‰ä¸ªTokençš„**å¯¹æ•°æ¦‚ç‡**å€¼â€”â€”ç­–ç•¥æ¨¡å‹çš„logprobå’Œå‚è€ƒæ¨¡å‹çš„ref_logprobã€‚å…¨è¯è¡¨èŒƒå›´ä¸‹çš„å¯¹æ•°æ¦‚ç‡çŸ©é˜µå½¢çŠ¶ä¸ºï¼ˆåºåˆ—é•¿åº¦=3ï¼Œè¯è¡¨å¤§å°=7ï¼‰ï¼Œè€ŒæŠ½å–åçš„logprobå’Œref_logprobå½¢çŠ¶ä¸ºï¼ˆ3ï¼Œ1ï¼‰ã€‚
- ï¼ˆ5ï¼‰**KLè·ç¦»**è®¡ç®—ï¼šå¦‚å›¾æ‰€ç¤ºï¼Œå¯¹logprobå’Œref_logprobè¿›è¡Œ**é€ä½ç½®ç›¸å‡**ï¼Œæœ€ç»ˆå¾—åˆ°ç­–ç•¥æ¨¡å‹å’Œå‚è€ƒæ¨¡å‹ä¹‹é—´çš„KLè·ç¦»ã€‚
[![ã€RLHFä¸RLAIFã€‘PPOè®­ç»ƒä¸­KLè·ç¦»çš„è®¡ç®—è¿‡ç¨‹](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%ADKL%E8%B7%9D%E7%A6%BB%E7%9A%84%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91PPO%E8%AE%AD%E7%BB%83%E4%B8%ADKL%E8%B7%9D%E7%A6%BB%E7%9A%84%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B.png)

### <a name="header-88"></a>ã€RLHFä¸RLAIFã€‘åŸºäºPPOè¿›è¡ŒRLHFè®­ç»ƒçš„åŸç†å›¾
- å¦‚å›¾ï¼Œå¯ä»¥åˆ†ä¸º**ä¸¤ä¸ªåŠåŒº**ï¼šæ•´ä½“ç»“æ„ä¸»è¦åˆ†ä¸ºç»éªŒæ”¶é›†å’Œå¤šè½®PPOè®­ç»ƒ**ä¸¤ä¸ªéƒ¨åˆ†**ï¼Œå³å›¾ä¸­å·¦å³ä¸¤ä¸ªåŠåŒºã€‚åœ¨åŸºäºPPOç®—æ³•è¿›è¡ŒRLHFè®­ç»ƒæ—¶ï¼Œè¿™ä¸¤ä¸ªéƒ¨åˆ†ä»¥**å¾ªç¯**çš„æ–¹å¼è¿›è¡Œå¤šæ¬¡è¿­ä»£ã€‚
- **é…è‰²**è¯´æ˜ï¼šå›¾ä¸­å·¦ä¸‹è§’é™„æœ‰é¢œè‰²è¯´æ˜ï¼Œä¸åŒé¢œè‰²ç”¨äºåŒºåˆ†ä¸åŒçš„å†…å®¹ç±»å‹ï¼Œä¾‹å¦‚æ¨¡å‹ã€æ•°æ®ã€ç»éªŒ/æ ·æœ¬ã€è®¡ç®—ä»¥åŠLossï¼Œä»¥ä¾¿äºå¿«é€Ÿç†è§£ã€‚
- **ç¼“å†²åŒº**ï¼šå›¾ä¸­é—´çš„ç¼“å†²åŒºç”¨äºå­˜å‚¨å·¦åŠåŒºæ”¶é›†çš„ç»éªŒæ•°æ®ã€‚è¿™äº›æ•°æ®å°†è¢«åˆ‡åˆ†æˆå¤šä¸ª**å°æ‰¹é‡**ï¼ˆmini-batchï¼‰ï¼Œä»¥æ”¯æŒå³åŠåŒºè¿›è¡Œå¤šæ¬¡è®­ç»ƒå’Œå‚æ•°æ›´æ–°ã€‚
- **æ¨¡å‹ç‰ˆæœ¬**çš„åŒºåˆ«ï¼šå·¦åŠåŒºçš„ç­–ç•¥æ¨¡å‹å’Œä»·å€¼æ¨¡å‹å¯è§†ä¸º**æ—§æ¨¡å‹**ï¼Œä¸»è¦ç”¨äºç”Ÿæˆæ ·æœ¬åŠç›¸å…³è®¡ç®—ã€‚å³åŠåŒºçš„ç­–ç•¥æ¨¡å‹å’Œä»·å€¼æ¨¡å‹åˆ™ä¼šåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡Œå¤šæ¬¡è¿­ä»£æ›´æ–°ï¼Œå› æ­¤å¯ç§°ä¸º**æ–°æ¨¡å‹**ã€‚æœ¬è´¨ä¸Šï¼Œå·¦å³ä¸¤ä¸ªåŠåŒºçš„æ¨¡å‹ï¼ˆç­–ç•¥æ¨¡å‹å’Œä»·å€¼æ¨¡å‹ï¼‰æ˜¯åŒä¸€ä¸ªæ¨¡å‹çš„**ä¸åŒçŠ¶æ€ç‰ˆæœ¬**ï¼Œä½†ä¸ºäº†ä¾¿äºç†è§£ï¼Œå›¾ä¸­é¢å¤–åœ¨å³åŠåŒºé‡å¤ç»˜åˆ¶äº†ç­–ç•¥æ¨¡å‹å’Œä»·å€¼æ¨¡å‹ã€‚
[![ã€RLHFä¸RLAIFã€‘åŸºäºPPOè¿›è¡ŒRLHFè®­ç»ƒçš„åŸç†å›¾](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%9F%BA%E4%BA%8EPPO%E8%BF%9B%E8%A1%8CRLHF%E8%AE%AD%E7%BB%83%E7%9A%84%E5%8E%9F%E7%90%86%E5%9B%BE.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E5%9F%BA%E4%BA%8EPPO%E8%BF%9B%E8%A1%8CRLHF%E8%AE%AD%E7%BB%83%E7%9A%84%E5%8E%9F%E7%90%86%E5%9B%BE.png)

### <a name="header-89"></a>ã€RLHFä¸RLAIFã€‘æ‹’ç»é‡‡æ ·ï¼ˆRejection Samplingï¼‰å¾®è°ƒ
- **æ‹’ç»é‡‡æ ·**(Rejection Sampling)å¾®è°ƒï¼šæ˜¯ä¸€ç§åŸºäºæ•°æ®**ç­›é€‰**çš„æ¨¡å‹å¾®è°ƒç­–ç•¥ï¼Œæ—¨åœ¨é€šè¿‡äººå·¥æˆ–æ¨¡å‹æ ‡æ³¨å¯¹æ¨¡å‹ç”Ÿæˆçš„æ ·æœ¬è¿›è¡Œç­›é€‰ï¼Œå‰”é™¤ä½è´¨é‡çš„æ ·æœ¬ï¼Œä»…ä¿ç•™ä¼˜è´¨æ ·æœ¬ç”¨äºè¿›ä¸€æ­¥å¾®è°ƒï¼ŒAnthropicã€Metaç­‰å…¬å¸å‡æ›¾åˆ©ç”¨è¯¥æŠ€æœ¯å¯¹è¯­è¨€æ¨¡å‹è¿›è¡Œä¼˜åŒ–ã€‚
- è¯¥è¿‡ç¨‹å¯é‡å¤å¤šè½®è¿›è¡Œã€‚
[![ã€RLHFä¸RLAIFã€‘æ‹’ç»é‡‡æ ·å¾®è°ƒ](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E6%8B%92%E7%BB%9D%E9%87%87%E6%A0%B7%E5%BE%AE%E8%B0%83.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91%E6%8B%92%E7%BB%9D%E9%87%87%E6%A0%B7%E5%BE%AE%E8%B0%83.png)

### <a name="header-90"></a>ã€RLHFä¸RLAIFã€‘RLAIFä¸RLHFçš„åŒºåˆ«
- **RLAIF**ï¼ˆReinforcement Learning from AI Feedbackï¼ŒåŸºäºAIåé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼‰æ˜¯ä¸€ç§ä»¥**AIåé¦ˆ**ä¸ºåŸºç¡€çš„å¼ºåŒ–å­¦ä¹ æ–¹æ³•ã€‚è¯¥æ–¹æ³•å…´èµ·äº2022å¹´ï¼Œå¯ä½œä¸ºRLHFçš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚
- RLAIFä¸RLHFåœ¨æ•´ä½“æµç¨‹ä¸Šå…·æœ‰è¾ƒé«˜çš„ç›¸ä¼¼æ€§ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œå…¶ä¸»è¦**åŒºåˆ«**åœ¨äºåå¥½æ ·æœ¬çš„æ ‡æ³¨ç¯èŠ‚ã€‚RLHFä¾èµ–äººç±»è¿›è¡Œåå¥½æ ‡æ³¨ï¼Œè€ŒRLAIFåˆ™é€šè¿‡AIå®Œæˆæ­¤è¿‡ç¨‹ã€‚
[![ã€RLHFä¸RLAIFã€‘RLAIFä¸RLHFçš„åŒºåˆ«](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91RLAIF%E4%B8%8ERLHF%E7%9A%84%E5%8C%BA%E5%88%AB.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91RLAIF%E4%B8%8ERLHF%E7%9A%84%E5%8C%BA%E5%88%AB.png)

### <a name="header-91"></a>ã€RLHFä¸RLAIFã€‘Claudeæ¨¡å‹åº”ç”¨çš„å®ªæ³•AIï¼ˆCAIï¼‰åŸç†
- **CAI**ï¼ˆConstitutional AI, **åŸºäºå®ªæ³•çš„AI**ï¼‰æ˜¯ä¸€ç§ç”¨äºå¤§æ¨¡å‹è®­ç»ƒçš„RLAIFç±»å‹çš„ç®—æ³•ï¼Œç”±**ç¾å›½AIç‹¬è§’å…½**Anthropicå…¬å¸äº2022å¹´æå‡º[62]ï¼Œå¹¶æˆåŠŸåº”ç”¨äº**Claude**ã€DeepSeekç­‰æ¨¡å‹çš„è®­ç»ƒã€‚
- è¯¥ç®—æ³•ä»¥ä¸€å¥—é¢„å…ˆåˆ¶å®šçš„**å®ªæ³•åŸåˆ™**ä¸ºæŒ‡å¯¼ï¼Œé€šè¿‡ç»“åˆAIåé¦ˆå’Œè‡ªæˆ‘æ‰¹è¯„æœºåˆ¶ï¼Œå¾—ä»¥æ›´åŠ é«˜æ•ˆåœ°æå‡æ¨¡å‹çš„æœ‰ç”¨æ€§å’Œæ— å®³æ€§ã€‚
CAIçš„è®­ç»ƒè¿‡ç¨‹ï¼š
- ï¼ˆ1ï¼‰**è‡ªæˆ‘æ‰¹è¯„ä¸å›ç­”ä¿®è®¢**ï¼šåˆå§‹æ¨¡å‹ï¼ˆä¾‹å¦‚RLHFæ¨¡å‹ï¼‰æ ¹æ®è¾“å…¥çš„Promptç”Ÿæˆå›ç­”ï¼Œéšåä¾æ®éšæœºé€‰å–çš„ä¸€æ¡å®ªæ³•åŸåˆ™å¯¹å›ç­”è¿›è¡Œ**æ‰¹è¯„ä¸ä¿®è®¢**ã€‚æ¨¡å‹å¯ä»¥è‡ªåŠ¨è¯†åˆ«å›ç­”ä¸­å¯èƒ½å­˜åœ¨çš„æ½œåœ¨æœ‰å®³ã€ä¸é“å¾·æˆ–ä¸åˆè§„å†…å®¹ï¼Œå¹¶æ ¹æ®æ‰¹è¯„ç»“æœå¯¹å›ç­”è¿›è¡Œè‡ªæˆ‘ä¿®è®¢ã€‚è¯¥è¿‡ç¨‹å¯ä»¥å¤šæ¬¡è¿­ä»£ï¼Œé€šè¿‡é€æ­¥ä¼˜åŒ–ï¼Œä½¿ç”Ÿæˆçš„å›ç­”æ›´åŠ ç¬¦åˆé¢„æœŸã€‚
- ï¼ˆ2ï¼‰**è®­ç»ƒç›‘ç£å­¦ä¹ æ¨¡å‹ï¼ˆSL-CAIï¼‰**ï¼šä¿®è®¢åçš„å›ç­”ä¸äººç±»æ ‡æ³¨çš„æœ‰ç”¨æ€§æ ·æœ¬å…±åŒç»„æˆç›‘ç£å­¦ä¹ æ•°æ®é›†ï¼Œç”¨äºè®­ç»ƒç›‘ç£å­¦ä¹ æ¨¡å‹ï¼ˆSL-CAIï¼‰ã€‚é€šè¿‡å¯¹é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹è¿›è¡Œå¾®è°ƒï¼ŒSL-CAIèƒ½å¤Ÿç”Ÿæˆæ›´è´´è¿‘ç›®æ ‡åˆ†å¸ƒçš„å›ç­”ï¼Œä»è€Œæ˜¾è‘—é™ä½åç»­å¼ºåŒ–å­¦ä¹ é˜¶æ®µçš„æ¢ç´¢æˆæœ¬ã€‚
- ï¼ˆ3ï¼‰**ç”Ÿæˆå›ç­”ä¸AIæ ‡æ³¨**ï¼šä½¿ç”¨SL-CAIæ¨¡å‹é’ˆå¯¹ç›¸åŒçš„Promptç”Ÿæˆå¤šç»„å€™é€‰å›ç­”ï¼Œé‡‡ç”¨ç‹¬ç«‹çš„åé¦ˆæ¨¡å‹ï¼ˆä¾‹å¦‚é¢„è®­ç»ƒæ¨¡å‹ï¼‰å¯¹è¿™äº›å€™é€‰å›ç­”è¿›è¡Œ**AIæ ‡æ³¨**ã€‚åé¦ˆæ¨¡å‹ä¼šåŸºäºéšæœºé€‰å–çš„ä¸€æ¡å®ªæ³•åŸåˆ™ä¸ºå›ç­”æ‰“åˆ†ã€‚æ­¤é˜¶æ®µçš„AIæ ‡æ³¨æœºåˆ¶æœ‰æ•ˆé™ä½äº†å¯¹äººå·¥æ ‡æ³¨çš„ä¾èµ–ã€‚
- ï¼ˆ4ï¼‰**è®­ç»ƒå¥–åŠ±æ¨¡å‹**ï¼šå°†AIæ ‡æ³¨æ•°æ®ä¸äººå·¥æ ‡æ³¨æ•°æ®æ··åˆï¼Œå½¢æˆåå¥½æ•°æ®é›†ï¼Œå¹¶ä»¥æ­¤è®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼Œæˆ–ç§°ä¸ºåå¥½æ¨¡å‹ï¼ˆPreference Modelï¼ŒRMï¼‰ã€‚
- ï¼ˆ5ï¼‰**å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–ç›®æ ‡æ¨¡å‹ï¼ˆRL-CAIï¼‰**ï¼šåœ¨å¼ºåŒ–å­¦ä¹ é˜¶æ®µï¼Œåˆ©ç”¨å¥–åŠ±æ¨¡å‹æä¾›å¥–åŠ±ä¿¡å·ï¼Œé€šè¿‡å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼ˆä¾‹å¦‚PPOï¼‰å¯¹ç›®æ ‡æ¨¡å‹è¿›è¡Œä¼˜åŒ–ã€‚æ­¤é˜¶æ®µé€æ­¥å¢å¼ºæ¨¡å‹åœ¨æ— å®³æ€§å’Œæœ‰ç”¨æ€§ä¸Šçš„è¡¨ç°ï¼ŒåŒæ—¶å‡å°‘æ¨¡å‹åœ¨æ•æ„Ÿé—®é¢˜ä¸Šçš„é€ƒé¿å€¾å‘ï¼Œç¡®ä¿å…¶è¡Œä¸ºæ›´åŠ é€æ˜å’Œå¯é ã€‚
[![ã€RLHFä¸RLAIFã€‘Claudeæ¨¡å‹åº”ç”¨çš„å®ªæ³•AIåŸç†](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91Claude%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E7%9A%84%E5%AE%AA%E6%B3%95AI%E5%8E%9F%E7%90%86.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91Claude%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E7%9A%84%E5%AE%AA%E6%B3%95AI%E5%8E%9F%E7%90%86.png)

### <a name="header-92"></a>ã€RLHFä¸RLAIFã€‘OpenAI RBRï¼ˆåŸºäºè§„åˆ™çš„å¥–åŠ±ï¼‰
- **RBR**ï¼ˆRule Based Rewardsï¼ŒåŸºäºè§„åˆ™çš„å¥–åŠ±ï¼‰æ˜¯ä¸€ç§åŸºäºè§„åˆ™çš„åå¥½å»ºæ¨¡æ–¹æ³•ï¼Œç”±**OpenAI**äº2024å¹´æå‡ºã€‚
- è¯¥æ–¹æ³•é€šè¿‡äººå·¥æ ‡æ³¨æ•°æ®è®­ç»ƒå‡ºä¸€ä¸ªRBRå¥–åŠ±æ¨¡å‹ï¼Œå°†AIåé¦ˆèå…¥ä¼ ç»Ÿçš„RLHFæµç¨‹ä¸­ã€‚
- è‡ªGPT-4æ¨å‡ºä»¥æ¥ï¼ŒOpenAIå°±å°†RBRä½œä¸ºå…¶å®‰å…¨ç³»ç»Ÿçš„**æ ¸å¿ƒ**ç»„æˆéƒ¨åˆ†ï¼Œå¹¶å·²åº”ç”¨äºåŒ…æ‹¬GPT-4o miniç­‰æ¨¡å‹ã€‚
[![ã€RLHFä¸RLAIFã€‘OpenAI RBRï¼ˆåŸºäºè§„åˆ™çš„å¥–åŠ±ï¼‰](images_chinese/png_small/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91OpenAI%20RBR%EF%BC%88%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E5%A5%96%E5%8A%B1%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90RLHF%E4%B8%8ERLAIF%E3%80%91OpenAI%20RBR%EF%BC%88%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E5%A5%96%E5%8A%B1%EF%BC%89.png)

### <a name="header-93"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘åŸºäºCoTçš„çŸ¥è¯†è’¸é¦ï¼ˆKnowledge Distillationï¼‰
- **çŸ¥è¯†è’¸é¦**ï¼ˆKnowledge Distillation, KDï¼‰æ˜¯ä¸€ç§æ¨¡å‹**å‹ç¼©**æŠ€æœ¯ï¼Œç”±**æ·±åº¦å­¦ä¹ ä¹‹çˆ¶**Geoffrey Hintonç­‰äººäº2015å¹´æå‡ºã€‚
- å¼ºå¤§æ¨¡å‹ï¼ˆä¾‹å¦‚OpenAIçš„oç³»åˆ—æ¨¡å‹ã€DeepSeekã€Qwenç­‰ï¼‰ç”ŸæˆCoTæ¨ç†é“¾å’Œå›ç­”ç»“æœï¼Œå¹¶å°†å…¶ä½œä¸ºè®­ç»ƒæ•°æ®ç”¨äºå¯¹**è¾ƒå¼±**æ¨¡å‹è¿›è¡Œ**è’¸é¦è®­ç»ƒ**ã€‚
- éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤å¤„çš„æ–¹æ³•ä¸ä¼ ç»ŸçŸ¥è¯†è’¸é¦ç•¥**æœ‰åŒºåˆ«**ã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘åŸºäºCoTçš„çŸ¥è¯†è’¸é¦](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E5%9F%BA%E4%BA%8ECoT%E7%9A%84%E7%9F%A5%E8%AF%86%E8%92%B8%E9%A6%8F.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E5%9F%BA%E4%BA%8ECoT%E7%9A%84%E7%9F%A5%E8%AF%86%E8%92%B8%E9%A6%8F.png)

### <a name="header-94"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘åŸºäºDeepSeekè¿›è¡Œè’¸é¦
- ä¸ºäº†é™ä½æ¨¡å‹ä½“ç§¯å’Œéƒ¨ç½²å¼€é”€ï¼Œå¯ä»¥é‡‡ç”¨è’¸é¦æŠ€æœ¯ï¼Œå°†æ€§èƒ½è¾ƒå¼ºçš„æ¨¡å‹ï¼ˆä¾‹å¦‚DeepSeekï¼‰çš„éƒ¨åˆ†èƒ½åŠ›**è¿ç§»**åˆ°ä½“ç§¯æ›´å°çš„æ¨¡å‹ä¸­ã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘åŸºäºDeepSeekè¿›è¡Œè’¸é¦](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E5%9F%BA%E4%BA%8EDeepSeek%E8%BF%9B%E8%A1%8C%E8%92%B8%E9%A6%8F.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E5%9F%BA%E4%BA%8EDeepSeek%E8%BF%9B%E8%A1%8C%E8%92%B8%E9%A6%8F.png)

### <a name="header-95"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘ORMå’ŒPRMï¼ˆç»“æœå¥–åŠ±æ¨¡å‹å’Œè¿‡ç¨‹å¥–åŠ±æ¨¡å‹ï¼‰
- **ç»“æœå¥–åŠ±æ¨¡å‹**ï¼ˆOutcome Reward Model, **ORM**ï¼‰ï¼šå¯¹äºç»™å®šçš„PromptåŠæ¨¡å‹ç”Ÿæˆçš„å›ç­”yï¼Œç»“æœå¥–åŠ±æ¨¡å‹ä»…å¯¹**æœ€ç»ˆ**è¾“å‡ºçš„ç»“æœè¿›è¡Œæ•´ä½“éªŒè¯å’Œå¥–åŠ±è¯„åˆ†ã€‚
- **è¿‡ç¨‹å¥–åŠ±æ¨¡å‹**ï¼ˆProcess Reward Model, **PRM**ï¼‰ï¼šè¿‡ç¨‹å¥–åŠ±æ¨¡å‹å¯¹æ¨ç†è¿‡ç¨‹ä¸­çš„æ¯ä¸ªä¸­é—´**æ­¥éª¤**é€ä¸€è¿›è¡ŒéªŒè¯å’Œå¥–åŠ±è¯„åˆ†ï¼Œä»è€Œæä¾›æ›´**ç²¾ç»†**çš„åé¦ˆï¼Œèƒ½å¤Ÿæœ‰æ•ˆæŒ‡å¯¼æ¨¡å‹å…³æ³¨æ¨ç†è¿‡ç¨‹çš„è´¨é‡ã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘ORMå’ŒPRM](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91ORM%E5%92%8CPRM.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91ORM%E5%92%8CPRM.png)

### <a name="header-96"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘MCTSæ¯æ¬¡è¿­ä»£çš„å››ä¸ªå…³é”®æ­¥éª¤
- **MCTS**æ¯æ¬¡è¿­ä»£çš„**å››ä¸ªå…³é”®æ­¥éª¤**ï¼š MCTSç®—æ³•é€šè¿‡æ„å»ºå†³ç­–æ ‘é€æ­¥æ¢ç´¢é—®é¢˜çš„è§£ç©ºé—´ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ä»å½“å‰çŠ¶æ€å‡ºå‘ï¼Œé€šè¿‡**æ¨¡æ‹Ÿ**æˆ–æ¨æ¼”è¯„ä¼°çŠ¶æ€çš„ä»·å€¼ï¼Œå¹¶åˆ©ç”¨è¯„ä¼°ç»“æœæŒ‡å¯¼åç»­çš„æœç´¢æ–¹å‘ã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘MCTSæ¯æ¬¡è¿­ä»£çš„å››ä¸ªå…³é”®æ­¥éª¤](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91MCTS%E6%AF%8F%E6%AC%A1%E8%BF%AD%E4%BB%A3%E7%9A%84%E5%9B%9B%E4%B8%AA%E5%85%B3%E9%94%AE%E6%AD%A5%E9%AA%A4.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91MCTS%E6%AF%8F%E6%AC%A1%E8%BF%AD%E4%BB%A3%E7%9A%84%E5%9B%9B%E4%B8%AA%E5%85%B3%E9%94%AE%E6%AD%A5%E9%AA%A4.png)

### <a name="header-97"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘MCTSçš„è¿è¡Œè¿‡ç¨‹
- MCTSé€šè¿‡**é‡å¤è¿­ä»£**ä¸Šè¿°å››ä¸ªæ­¥éª¤ï¼Œä¸æ–­æ‰©å±•å’Œå®Œå–„æœç´¢æ ‘ï¼Œè¿›è€Œé€æ­¥æå‡å¯¹å„çŠ¶æ€çš„è¯„ä¼°ç²¾åº¦ã€‚éšç€æ¨æ¼”è¿­ä»£æ¬¡æ•°çš„å¢åŠ ï¼Œç®—æ³•**é€æ¸**å€¾å‘äºé€‰æ‹©æ›´ä¼˜çš„è·¯å¾„ï¼Œä»è€Œä¸æ–­ä¼˜åŒ–å†³ç­–è´¨é‡ã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘MCTSçš„è¿è¡Œè¿‡ç¨‹](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91MCTS%E7%9A%84%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91MCTS%E7%9A%84%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B.png)

### <a name="header-98"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘è¯­è¨€åœºæ™¯ä¸‹çš„æœç´¢æ ‘ç¤ºä¾‹
- æœç´¢æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨å¥å­æˆ–æ®µè½çº§åˆ«çš„å†…å®¹ï¼ˆä¸€ä¸ªæ¨ç†æ­¥éª¤ï¼‰ã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘è¯­è¨€åœºæ™¯ä¸‹çš„æœç´¢æ ‘ç¤ºä¾‹](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E8%AF%AD%E8%A8%80%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%9A%84%E6%90%9C%E7%B4%A2%E6%A0%91%E7%A4%BA%E4%BE%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E8%AF%AD%E8%A8%80%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%9A%84%E6%90%9C%E7%B4%A2%E6%A0%91%E7%A4%BA%E4%BE%8B.png)

### <a name="header-99"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘BoNï¼ˆBest-of-Nï¼‰é‡‡æ ·
- ç”±æ¨¡å‹ï¼ˆé€šå¸¸ä¸ºå‚è€ƒæ¨¡å‹ï¼‰ç”Ÿæˆå¤šä¸ªå€™é€‰è¾“å‡ºï¼ˆä¾‹å¦‚Nä¸ªï¼‰ï¼Œç„¶åä¾æ®æŸç§è¯„ä»·æ ‡å‡†ï¼Œä»ä¸­**æŒ‘é€‰**å‡ºè´¨é‡**æœ€ä¼˜**çš„ä¸€ä¸ªä½œä¸ºæœ€ç»ˆè¾“å‡ºã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘BoNï¼ˆBest-of-Nï¼‰é‡‡æ ·](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91BoN%EF%BC%88Best-of-N%EF%BC%89%E9%87%87%E6%A0%B7.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91BoN%EF%BC%88Best-of-N%EF%BC%89%E9%87%87%E6%A0%B7.png)

### <a name="header-100"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘å¤šæ•°æŠ•ç¥¨ï¼ˆMajority Voteï¼‰æ–¹æ³•
- **å¤šæ•°æŠ•ç¥¨**ï¼ˆMajority Voteï¼‰çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šé’ˆå¯¹ä¸€ä¸ªç»™å®šçš„Promptï¼Œæ¨¡å‹è¿›è¡Œå¤šæ¬¡æ¨ç†ï¼Œç”Ÿæˆå¤šæ¡ä¸åŒçš„æ¨ç†è·¯å¾„ï¼Œæ¯æ¡è·¯å¾„å¯èƒ½äº§ç”Ÿä¸€ä¸ªæœ€ç»ˆç­”æ¡ˆï¼Œé€šè¿‡ç»Ÿè®¡æœ€ç»ˆç­”æ¡ˆçš„å‡ºç°é¢‘ç‡ï¼Œå°†**é¢‘ç‡æœ€é«˜**çš„ç­”æ¡ˆä½œä¸ºæœ€ç»ˆè¾“å‡ºã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘å¤šæ•°æŠ•ç¥¨ï¼ˆMajority Voteï¼‰æ–¹æ³•](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E5%A4%9A%E6%95%B0%E6%8A%95%E7%A5%A8%EF%BC%88Majority%20Vote%EF%BC%89%E6%96%B9%E6%B3%95.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91%E5%A4%9A%E6%95%B0%E6%8A%95%E7%A5%A8%EF%BC%88Majority%20Vote%EF%BC%89%E6%96%B9%E6%B3%95.png)

### <a name="header-101"></a>ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘AlphaGoZeroåœ¨è®­ç»ƒæ—¶çš„æ€§èƒ½å¢é•¿è¶‹åŠ¿ <sup>[<a href="./src/references.md">179</a>]</sup>
- **AlphaGo** Zeroå±•ç°å‡ºæœ€å¼ºçš„æ€§èƒ½ï¼ŒEloè¯„åˆ†é«˜è¾¾5185ã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œå¦‚**ä¸ä½¿ç”¨MCTS**è¿›è¡Œé¢„æœç´¢ï¼Œå…¶Eloè¯„åˆ†ä»…ä¸º3055ã€‚è¿™ä¸€å¯¹æ¯”ç›´è§‚åœ°æ­ç¤ºäº†ï¼š**æ¨ç†æ—¶æœç´¢**ä¸è®¡ç®—èƒ½å¤Ÿæ˜¾è‘—æå‡æ¨¡å‹çš„æ€§èƒ½è¡¨ç°ã€‚
[![ã€é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–ã€‘AlphaGoZeroåœ¨è®­ç»ƒæ—¶çš„æ€§èƒ½å¢é•¿è¶‹åŠ¿](images_chinese/png_small/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91AlphaGoZero%E5%9C%A8%E8%AE%AD%E7%BB%83%E6%97%B6%E7%9A%84%E6%80%A7%E8%83%BD%E5%A2%9E%E9%95%BF%E8%B6%8B%E5%8A%BF.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86%E8%83%BD%E5%8A%9B%E4%BC%98%E5%8C%96%E3%80%91AlphaGoZero%E5%9C%A8%E8%AE%AD%E7%BB%83%E6%97%B6%E7%9A%84%E6%80%A7%E8%83%BD%E5%A2%9E%E9%95%BF%E8%B6%8B%E5%8A%BF.png)

### <a name="header-102"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘å¤§æ¨¡å‹æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯å›¾è°±
- å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨è®­ç»ƒå’Œæ¨ç†é˜¶æ®µï¼Œå¤§æ¨¡å‹çš„ä¼˜åŒ–æŠ€æœ¯å¯å¤§è‡´åˆ†ä¸º**äº”ä¸ªå±‚æ¬¡**ï¼šæœåŠ¡å±‚ã€æ¨¡å‹å±‚ã€æ¡†æ¶å±‚ã€ç³»ç»Ÿç¼–è¯‘å±‚å’Œç¡¬ä»¶é€šä¿¡å±‚ã€‚
- å›¾ä¸­å„å±‚å†…çš„ç»†åˆ†æŠ€æœ¯ä¸ºä¼˜åŒ–æä¾›äº†æ˜ç¡®çš„æ–¹å‘å’Œå®è·µè·¯å¾„ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘å¤§æ¨¡å‹æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯å›¾è°±](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E5%9B%BE%E8%B0%B1.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF%E5%9B%BE%E8%B0%B1.png)

### <a name="header-103"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘ALiBiä½ç½®ç¼–ç 
- RoPEå·²æˆä¸»æµï¼ŒALiBié€æ¸è¢«æŠ›å¼ƒ
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘ALiBiä½ç½®ç¼–ç ](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91ALiBi%E4%BD%8D%E7%BD%AE%E7%BC%96%E7%A0%81.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91ALiBi%E4%BD%8D%E7%BD%AE%E7%BC%96%E7%A0%81.png)

### <a name="header-104"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘ä¼ ç»Ÿçš„çŸ¥è¯†è’¸é¦
- **çŸ¥è¯†è’¸é¦**ï¼ˆKnowledge Distillationï¼‰ï¼šé€šè¿‡å°†è®­ç»ƒå¥½çš„**æ•™å¸ˆæ¨¡å‹**è¾“å‡ºçš„**è½¯æ ‡ç­¾**ï¼ˆsoft labelsï¼‰è½¬ç§»ç»™æ›´å°çš„**å­¦ç”Ÿæ¨¡å‹**è¿›è¡Œè®­ç»ƒï¼Œä½¿å­¦ç”Ÿæ¨¡å‹å­¦ä¹ æ•™å¸ˆçš„è¾“å‡ºåˆ†å¸ƒä¿¡æ¯ï¼Œä»è€Œåœ¨**æ¨¡å‹å‹ç¼©**å’Œ**æ¨ç†æ•ˆç‡**ä¸Šè·å¾—æ˜¾è‘—æå‡ã€‚ 
- æœ€æ—©ç”±**æ·±åº¦å­¦ä¹ ä¹‹çˆ¶**Geoffrey Hintonç­‰äººåœ¨è®ºæ–‡ã€ŠDistilling the Knowledge in a Neural Networkã€‹ä¸­æå‡ºã€‚

[![ã€LLMåŸºç¡€æ‹“å±•ã€‘ä¼ ç»Ÿçš„çŸ¥è¯†è’¸é¦](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E4%BC%A0%E7%BB%9F%E7%9A%84%E7%9F%A5%E8%AF%86%E8%92%B8%E9%A6%8F.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E4%BC%A0%E7%BB%9F%E7%9A%84%E7%9F%A5%E8%AF%86%E8%92%B8%E9%A6%8F.png)

### <a name="header-105"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘æ•°å€¼è¡¨ç¤ºã€é‡åŒ–ï¼ˆQuantizationï¼‰
- AIä¸­å¸¸ç”¨çš„æ•°å€¼ç±»å‹å¦‚å›¾ï¼Œå®ƒä»¬çš„æ•°å€¼å®ç°å¦‚ä¸‹è¡¨ã€‚

| ç±»å‹   | æ€»ä½æ•° | ç¬¦å·ä½ | æŒ‡æ•°ä½ | å°¾æ•°ä½ / æ•´æ•°ä½   |
| ------ | ------ | ------ | ------ | ----------------- |
| FP64   | 64     | 1      | 11     | 52 (å°¾æ•°)         |
| FP32   | 32     | 1      | 8      | 23 (å°¾æ•°)         |
| TF32   | 19     | 1      | 8      | 10 (å°¾æ•°)         |
| BF16   | 16     | 1      | 8      | 7 (å°¾æ•°)          |
| FP16   | 16     | 1      | 5      | 10 (å°¾æ•°)         |
| INT64  | 64     | 1      | â€“      | 63 (æ•´æ•°å€¼)       |
| INT32  | 32     | 1      | â€“      | 31 (æ•´æ•°å€¼)       |
| INT8   | 8      | 1      | â€“      | 7 (æ•´æ•°å€¼)        |
| UINT8  | 8      | 0      | â€“      | 8 (æ•´æ•°å€¼)        |
| INT4   | 4      | 1      | â€“      | 3 (æ•´æ•°å€¼)        |

[![ã€LLMåŸºç¡€æ‹“å±•ã€‘æ•°å€¼è¡¨ç¤ºã€é‡åŒ–](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E6%95%B0%E5%80%BC%E8%A1%A8%E7%A4%BA%E3%80%81%E9%87%8F%E5%8C%96.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E6%95%B0%E5%80%BC%E8%A1%A8%E7%A4%BA%E3%80%81%E9%87%8F%E5%8C%96.png)

### <a name="header-106"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘å¸¸è§„è®­ç»ƒæ—¶å‰å‘å’Œåå‘è¿‡ç¨‹
è¿™å¼ å›¾å±•ç¤ºäº†ç¥ç»ç½‘ç»œåœ¨å¸¸è§„è®­ç»ƒä¸­çš„å‰å‘ä¼ æ’­ï¼ˆForwardï¼‰å’Œåå‘ä¼ æ’­ï¼ˆBackwardï¼‰æµç¨‹ï¼š
- ä¸ŠåŠéƒ¨åˆ†æ˜¯**å‰å‘ä¼ æ’­**ï¼šè¾“å…¥ä¾æ¬¡é€šè¿‡å„å±‚ï¼ˆLayer 1~4ï¼‰ï¼Œæ¯å±‚çš„**æ¿€æ´»å€¼**ï¼ˆActivationï¼‰ä¼šè¢«ç¼“å­˜ï¼Œç”¨äºåç»­è®¡ç®—æ¢¯åº¦ã€‚
- ä¸‹åŠéƒ¨åˆ†æ˜¯**åå‘ä¼ æ’­**ï¼šä»æœ€ç»ˆçš„æŸå¤±ï¼ˆLossï¼‰å¼€å§‹ï¼Œé€å±‚è®¡ç®—æ¢¯åº¦ï¼ˆGradient 4 â†’ 1ï¼‰ï¼Œå¹¶åˆ©ç”¨å‰å‘ç¼“å­˜çš„æ¿€æ´»å€¼è¿›è¡Œ**é“¾å¼æ±‚å¯¼**ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘å¸¸è§„è®­ç»ƒæ—¶å‰å‘å’Œåå‘è¿‡ç¨‹](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E5%B8%B8%E8%A7%84%E8%AE%AD%E7%BB%83%E6%97%B6%E5%89%8D%E5%90%91%E5%92%8C%E5%8F%8D%E5%90%91%E8%BF%87%E7%A8%8B.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E5%B8%B8%E8%A7%84%E8%AE%AD%E7%BB%83%E6%97%B6%E5%89%8D%E5%90%91%E5%92%8C%E5%8F%8D%E5%90%91%E8%BF%87%E7%A8%8B.png)

### <a name="header-107"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘æ¢¯åº¦ç´¯ç§¯ï¼ˆGradient Accumulationï¼‰è®­ç»ƒ
è¿™å¼ å›¾å¯¹æ¯”äº†å¸¸è§„è®­ç»ƒä¸æ¢¯åº¦ç´¯ç§¯ï¼ˆGradient Accumulationï¼‰è®­ç»ƒçš„å·®å¼‚ï¼š
- **å¸¸è§„è®­ç»ƒ**ï¼ˆä¸Šæ–¹ï¼‰ï¼šæ¯ä¸ª batchï¼ˆå¦‚ Batch 1ï¼‰æ‰§è¡Œä¸€æ¬¡å‰å‘ & åå‘ä¼ æ’­ï¼Œç«‹åˆ»è®¡ç®—æ¢¯åº¦å¹¶æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œæ›´æ–°**é¢‘ç¹**ï¼Œå¯¹æ˜¾å­˜è¦æ±‚è¾ƒä½ï¼Œä½† batch size ä¸èƒ½å¤ªå¤§ã€‚
- **æ¢¯åº¦ç´¯ç§¯**è®­ç»ƒï¼ˆä¸‹æ–¹ï¼‰ï¼šå¤šä¸ª batchï¼ˆå¦‚ Batch 1~3ï¼‰åˆ†åˆ«è®¡ç®—æ¢¯åº¦ï¼Œä¸ç«‹åˆ»æ›´æ–°ï¼Œè€Œæ˜¯å°†**å¤šä¸ªæ¢¯åº¦ç´¯åŠ åç»Ÿä¸€æ›´æ–°ä¸€æ¬¡**ï¼Œç­‰æ•ˆäºæ›´å¤§çš„ batch sizeï¼Œé€‚åˆæ˜¾å­˜å—é™çš„æƒ…å†µã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘æ¢¯åº¦ç´¯ç§¯ï¼ˆGradient Accumulationï¼‰è®­ç»ƒ](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E6%A2%AF%E5%BA%A6%E7%B4%AF%E7%A7%AF%EF%BC%88Gradient%20Accumulation%EF%BC%89%E8%AE%AD%E7%BB%83.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E6%A2%AF%E5%BA%A6%E7%B4%AF%E7%A7%AF%EF%BC%88Gradient%20Accumulation%EF%BC%89%E8%AE%AD%E7%BB%83.png)

### <a name="header-108"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘Gradient Checkpointï¼ˆæ¢¯åº¦é‡è®¡ç®—ï¼‰
è¿™å¼ å›¾å¯¹æ¯”äº†å¸¸è§„è®­ç»ƒä¸æ¢¯åº¦é‡è®¡ç®—ï¼ˆGradient Checkpointï¼‰è®­ç»ƒçš„ä¸åŒï¼š
- **å¸¸è§„è®­ç»ƒ**ï¼ˆä¸Šæ–¹ï¼‰ï¼šæ¯å±‚çš„æ¿€æ´»å€¼ï¼ˆActivationï¼‰éƒ½**å®Œæ•´ä¿å­˜**ï¼Œä¾¿äºåå‘ä¼ æ’­æ—¶ç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¾å­˜å ç”¨å¤§ï¼Œä¸é€‚åˆå¤§æ¨¡å‹ã€‚
- **æ¢¯åº¦é‡è®¡ç®—**ï¼ˆä¸‹æ–¹ï¼‰ï¼šåªä¿å­˜**å…³é”®å±‚**çš„æ¿€æ´»å€¼ï¼ˆå¦‚ Activation 1 å’Œ 3ï¼‰ï¼Œåœ¨åå‘ä¼ æ’­æ—¶ï¼Œå¯¹ä¸­é—´æœªä¿å­˜çš„æ¿€æ´»å€¼ï¼ˆå¦‚ 2 å’Œ 4ï¼‰è¿›è¡Œé‡æ–°å‰å‘è®¡ç®—ï¼Œä»¥æ­¤èŠ‚çœæ˜¾å­˜ã€‚
- æ€»ç»“ï¼šæ¢¯åº¦é‡è®¡ç®—ï¼ˆGradient Checkpointingï¼‰é€šè¿‡ä»¥**å¤šç®—æ¢ç©ºé—´**çš„æ–¹å¼é™ä½æ˜¾å­˜ä½¿ç”¨ï¼Œé€‚åˆè®­ç»ƒå¤§æ¨¡å‹æ—¶èŠ‚çœèµ„æºï¼Œä½†ä»£ä»·æ˜¯è®­ç»ƒæ—¶é—´ç•¥æœ‰å¢åŠ ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘Gradient Checkpointï¼ˆæ¢¯åº¦é‡è®¡ç®—ï¼‰](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Gradient%20Checkpoint%EF%BC%88%E6%A2%AF%E5%BA%A6%E9%87%8D%E8%AE%A1%E7%AE%97%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Gradient%20Checkpoint%EF%BC%88%E6%A2%AF%E5%BA%A6%E9%87%8D%E8%AE%A1%E7%AE%97%EF%BC%89.png)

### <a name="header-109"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘Full recomputation(å®Œå…¨é‡è®¡ç®—)
- **å®Œå…¨é‡è®¡ç®—**ï¼ˆFull Recomputationï¼‰ï¼Œå³åœ¨åå‘ä¼ æ’­é˜¶æ®µ**ä¸ä¿ç•™ä»»ä½•**æ¿€æ´»å€¼ï¼Œè€Œæ˜¯æ¯æ¬¡éœ€è¦æ—¶ä»è¾“å…¥å¼€å§‹é‡æ–°æ‰§è¡Œå‰å‘è®¡ç®—è·å–ä¸­é—´æ¿€æ´»ã€‚
- è¿™ç§æ–¹å¼æå¤§åœ°èŠ‚çœäº†æ˜¾å­˜ï¼Œéå¸¸é€‚åˆåœ¨å†…å­˜å—é™åœºæ™¯ä¸‹è®­ç»ƒå¤§æ¨¡å‹ï¼Œä½†ä¼š**æ˜¾è‘—å¢åŠ **è®¡ç®—é‡å’Œè®­ç»ƒæ—¶é—´ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘Full recomputation(å®Œå…¨é‡è®¡ç®—)](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Full%20recomputation%28%E5%AE%8C%E5%85%A8%E9%87%8D%E8%AE%A1%E7%AE%97%29.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Full%20recomputation%28%E5%AE%8C%E5%85%A8%E9%87%8D%E8%AE%A1%E7%AE%97%29.png)

### <a name="header-110"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘LLM Benchmark
- LLMçš„è¯„åˆ†ï¼ˆBenchmarkï¼‰æœ‰å¤šç§ï¼Œä¾‹å¦‚MMLUã€C-evalç­‰ç­‰ï¼Œå…¶å®ç°åŸç†éƒ½è¾ƒä¸ºç±»ä¼¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘LLM Benchmark](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91LLM%20Benchmark.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91LLM%20Benchmark.png)

### <a name="header-111"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘MHAã€GQAã€MQAã€MLA
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘MHAã€GQAã€MQAã€MLA](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91MHA%E3%80%81GQA%E3%80%81MQA%E3%80%81MLA.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91MHA%E3%80%81GQA%E3%80%81MQA%E3%80%81MLA.png)

### <a name="header-112"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘RNNï¼ˆRecurrent Neural Networkï¼‰
- **RNN**ï¼ˆRecurrent Neural Networkï¼‰ï¼šä¸€ç§ä¸“é—¨å¤„ç†**åºåˆ—æ•°æ®**çš„ç¥ç»ç½‘ç»œï¼Œé€šè¿‡**å¾ªç¯è¿æ¥**åœ¨æ¯ä¸ªæ—¶é—´æ­¥ä¿ç•™å¹¶æ›´æ–°å‰ä¸€æ—¶åˆ»çš„**éšè—çŠ¶æ€**ï¼Œä½¿ç½‘ç»œå…·æœ‰è®°å¿†èƒ½åŠ›ã€‚ 
- ä¼˜ç‚¹ï¼šç»“æ„**ç®€å•**ã€èƒ½å¤Ÿæ•æ‰**çŸ­æœŸä¾èµ–**ï¼›ç¼ºç‚¹ï¼šæ˜“å‡ºç°**æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸**ï¼Œéš¾ä»¥å­¦ä¹ **é•¿è·ç¦»ä¾èµ–**ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘RNN](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RNN.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RNN.png)

### <a name="header-113"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘Pre-normå’ŒPost-norm
- **Pre-norm**ï¼šåœ¨**å­å±‚**ï¼ˆå¦‚è‡ªæ³¨æ„åŠ›æˆ–å‰é¦ˆç½‘ç»œï¼‰**è¾“å…¥å‰**å…ˆæ‰§è¡Œ**LayerNorm**ï¼Œç„¶åç»è¿‡å­å±‚å¹¶ä¸åŸå§‹è¾“å…¥è¿›è¡Œ**æ®‹å·®è¿æ¥**ï¼Œå¯æå‡**æ¢¯åº¦æµåŠ¨**å’Œæ·±å±‚æ¨¡å‹çš„**è®­ç»ƒç¨³å®šæ€§**  
- **Post-norm**ï¼šåœ¨å­å±‚è¾“å‡ºåä¸åŸå§‹è¾“å…¥è¿›è¡Œ**æ®‹å·®è¿æ¥**ï¼Œå†æ‰§è¡Œ**LayerNorm**ï¼Œæ˜¯**Transformer**çš„ç»å…¸ç»“æ„ï¼Œä½†åœ¨æ·±å±‚ç½‘ç»œä¸­å¯èƒ½å¯¼è‡´**æ¢¯åº¦è¡°å‡**å’Œè®­ç»ƒä¸ç¨³å®š  

[![ã€LLMåŸºç¡€æ‹“å±•ã€‘Pre-normå’ŒPost-norm](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Pre-norm%E5%92%8CPost-norm.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Pre-norm%E5%92%8CPost-norm.png)

### <a name="header-114"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘BatchNormå’ŒLayerNorm
- **BatchNorm**ï¼ˆæ‰¹é‡å½’ä¸€åŒ–ï¼‰ï¼šå¯¹æ¯ä¸ª**å°æ‰¹é‡**ä¸­çš„æ¯ä¸ª**é€šé“**è¿›è¡Œ**æ ‡å‡†åŒ–**ï¼ˆå‡å»å‡å€¼ã€é™¤ä»¥æ ‡å‡†å·®ï¼‰ï¼Œå†åŠ ä¸Šå¯å­¦ä¹ çš„**ç¼©æ”¾**å’Œ**åç§»**å‚æ•°ã€‚
- **LayerNorm**ï¼ˆå±‚å½’ä¸€åŒ–ï¼‰ï¼šå¯¹æ¯ä¸ª**æ ·æœ¬**çš„æ‰€æœ‰**ç‰¹å¾ç»´åº¦**è¿›è¡Œ**æ ‡å‡†åŒ–**ï¼ˆå‡å»å‡å€¼ã€é™¤ä»¥æ ‡å‡†å·®ï¼‰ï¼ŒåŒæ ·ä½¿ç”¨å¯å­¦ä¹ çš„**ç¼©æ”¾**å’Œ**åç§»**å‚æ•°ã€‚

[![ã€LLMåŸºç¡€æ‹“å±•ã€‘BatchNormå’ŒLayerNorm](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91BatchNorm%E5%92%8CLayerNorm.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91BatchNorm%E5%92%8CLayerNorm.png)

### <a name="header-115"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘RMSNorm
- RMSNormï¼ˆRoot Mean Square Layer Normalizationï¼‰æ˜¯ä¸€ç§å½’ä¸€åŒ–æ–¹æ³•ï¼Œä»…åŸºäºè¾“å…¥ç‰¹å¾çš„å‡æ–¹æ ¹å€¼ï¼ˆRMSï¼‰è¿›è¡Œè§„èŒƒåŒ–ï¼Œ**ä¸è®¡ç®—å‡å€¼åç§»**ã€‚  
- å¯¹æ¯ä¸ªæ ·æœ¬çš„ç‰¹å¾å‘é‡ \(x\)ï¼Œå…ˆè®¡ç®— \(\mathrm{RMS}(x)=\sqrt{\tfrac{1}{d}\sum_i x_i^2}\)ï¼Œå†åšç¼©æ”¾ï¼š\(\hat{x}=x / \mathrm{RMS}(x)\times \gamma + \beta\)ã€‚  
- ç›¸è¾ƒäº LayerNormï¼Œå®ƒçœç•¥äº†å‡å‡å€¼æ­¥éª¤ï¼Œè®¡ç®—æ›´é«˜æ•ˆä¸”åœ¨å¤šç§ Transformer æ¶æ„ä¸­è¡¨ç°ç›¸è¿‘æˆ–æ›´ä¼˜ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘RMSNorm](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RMSNorm.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RMSNorm.png)

### <a name="header-116"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘Pruneï¼ˆå‰ªæï¼‰
- æ¨¡å‹å‰ªæï¼ˆModel Pruningï¼‰æ˜¯ä¸€ç§å‹ç¼©æ·±åº¦ç¥ç»ç½‘ç»œçš„æ–¹æ³•ï¼Œé€šè¿‡ç§»é™¤å†—ä½™æˆ–ä¸é‡è¦çš„æƒé‡ã€ç¥ç»å…ƒæˆ–é€šé“ï¼Œå‡å°‘æ¨¡å‹å‚æ•°é‡å’Œè®¡ç®—é‡ã€‚
- å¯ä»¥åœ¨å°½é‡ä¿æŒåŸå§‹ç²¾åº¦çš„å‰æä¸‹ï¼Œæå‡æ¨¡å‹çš„æ¨ç†é€Ÿåº¦ã€é™ä½å†…å­˜å ç”¨ã€‚
- å…¸å‹æµç¨‹åŒ…æ‹¬ï¼šè¯„ä¼°é‡è¦æ€§ â†’ æ ‡è®°å¾…å‰ªå‚æ•° â†’ é‡è®­ç»ƒï¼ˆFine-tuningï¼‰â†’ éªŒè¯æ€§èƒ½ã€‚  
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘Pruneï¼ˆå‰ªæï¼‰](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Prune%EF%BC%88%E5%89%AA%E6%9E%9D%EF%BC%89.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91Prune%EF%BC%88%E5%89%AA%E6%9E%9D%EF%BC%89.png)

### <a name="header-117"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘æ¸©åº¦ç³»æ•°çš„ä½œç”¨
- åœ¨ç”Ÿæˆé˜¶æ®µï¼Œæ¸©åº¦ç³»æ•° \(T\) é€šè¿‡æ”¾ç¼©æ¨¡å‹è¾“å‡ºçš„ logits åˆ†å¸ƒæ¥æ§åˆ¶é‡‡æ ·**å¤šæ ·æ€§**ã€‚  
- å½“ \(T < 1\) æ—¶ï¼Œåˆ†å¸ƒâ€œå°–é”â€ï¼Œæ¨¡å‹æ›´å€¾å‘äºé€‰æ‹©æ¦‚ç‡**æœ€é«˜**çš„ tokenï¼Œå›ç­”æ›´å›ºå®šã€‚
- å½“ \(T > 1\) æ—¶ï¼Œåˆ†å¸ƒâ€œå¹³å¦â€ï¼Œé‡‡æ ·ç»“æœæ›´å…·**éšæœºæ€§**ã€‚  
- é€‚å½“è°ƒæ•´æ¸©åº¦å¯ä»¥åœ¨å‡†ç¡®æ€§å’Œåˆ›é€ æ€§ä¹‹é—´å–å¾—å¹³è¡¡â€”â€”ä½æ¸©åº¦æå‡ç¡®å®šæ€§ï¼Œé«˜æ¸©åº¦å¢å¼ºå¤šæ ·æ€§ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘æ¸©åº¦ç³»æ•°çš„ä½œç”¨](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E6%B8%A9%E5%BA%A6%E7%B3%BB%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91%E6%B8%A9%E5%BA%A6%E7%B3%BB%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8.png)

### <a name="header-118"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘SwiGLU
- åŸºæœ¬ç»“æ„ï¼šSwiGLU æ˜¯ Gated Linear Unitï¼ˆGLUï¼‰çš„å˜ä½“ï¼Œå°†è¾“å…¥å‘é‡é€šè¿‡**ä¸¤æ¡**çº¿æ€§æ˜ å°„ï¼Œä¸€è·¯ç›´æ¥è¾“å‡ºï¼Œä¸€è·¯ç»è¿‡ SiLUï¼ˆSwishï¼‰æ¿€æ´»åä½œä¸ºé—¨æ§ä¿¡å·ï¼Œä¸¤è€…é€å…ƒç´ ç›¸ä¹˜å¾—åˆ°æœ€ç»ˆè¾“å‡ºã€‚
- æ¿€æ´»**ä¼˜åŠ¿**ï¼šç”¨ SiLUï¼ˆSwish-1ï¼‰æ›¿æ¢åŸ GLU ä¸­çš„ sigmoidï¼Œä½¿é—¨æ§æ›´å¹³æ»‘ã€æ¢¯åº¦æ›´ç¨³å®šï¼Œæœ‰åŠ©äºåŠ é€Ÿè®­ç»ƒæ”¶æ•›å¹¶æå‡ä¸‹æ¸¸ä»»åŠ¡è¡¨ç°ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘SwiGLU](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91SwiGLU.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91SwiGLU.png)

### <a name="header-119"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘AUCã€PRã€F1ã€Precisionã€Recall
è¢«é¢è¯•è€…ã€å·¥ç¨‹å¸ˆç»å¸¸æ··æ·†çš„ç®—æ³•å¸¸ç”¨æŒ‡æ ‡ï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾æ¥å¯¹æ¯”æ€»ç»“ï¼ŒåŒºåˆ«ä¸€ç›®äº†ç„¶ã€‚
- **AUC**ï¼ˆArea Under the ROC Curveï¼‰ï¼šè¡¡é‡äºŒåˆ†ç±»æ¨¡å‹åœ¨æ‰€æœ‰å¯èƒ½é˜ˆå€¼ä¸‹åŒºåˆ†æ­£è´Ÿæ ·æœ¬çš„èƒ½åŠ›ï¼ŒROCï¼ˆReceiver Operating Characteristicï¼‰æ›²çº¿ä»¥å‡æ­£ä¾‹ç‡ï¼ˆFPRï¼‰ä¸ºæ¨ªè½´ã€çœŸæ­£ä¾‹ç‡ï¼ˆTPRï¼‰ä¸ºçºµè½´ï¼ŒAUC å€¼è¶Šæ¥è¿‘ 1 è¶Šå¥½ï¼›è‹¥ AUCâ‰ˆ0.5 åˆ™ç›¸å½“äºéšæœºçŒœæµ‹ã€‚
- **PR Curve**ï¼ˆPrecisionâ€“Recall Curveï¼‰ï¼šæ¨¡å‹åœ¨ä¸åŒå¬å›ç‡ï¼ˆRecallï¼‰ä¸‹çš„ç²¾ç¡®ç‡ï¼ˆPrecisionï¼‰å˜åŒ–è¶‹åŠ¿ã€‚å¯é€šè¿‡æ›²çº¿ä¸‹é¢ç§¯æ¥ç»¼åˆè¯„ä¼°æ¨¡å‹å¯¹æ­£ç±»çš„æ£€å‡ºèƒ½åŠ›ã€‚
- **Precisionï¼ˆç²¾ç¡®ç‡ï¼‰**ï¼šåœ¨æ‰€æœ‰è¢«é¢„æµ‹ä¸ºæ­£ä¾‹çš„æ ·æœ¬ä¸­ï¼Œå®é™…ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹ï¼Œè¡¡é‡è¯¯æŠ¥ç‡é«˜ä½ï¼Œé€‚ç”¨äºè¯¯æŠ¥æˆæœ¬é«˜çš„åœºæ™¯ï¼Œä¸ªäººè®¤ä¸ºâ€œæŸ¥å‡†ç‡â€çš„ç¿»è¯‘æ›´è´´åˆ‡ã€‚Precision = TP / (TP + FP)
- **Recall ï¼ˆå¬å›ç‡ï¼‰**ï¼šåœ¨æ‰€æœ‰çœŸå®ä¸ºæ­£ä¾‹çš„æ ·æœ¬ä¸­ï¼Œè¢«æ­£ç¡®é¢„æµ‹ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹ï¼Œè¡¡é‡æ¼æŠ¥ç‡é«˜ä½ï¼Œé€‚ç”¨äºæ¼æŠ¥æˆæœ¬é«˜çš„åœºæ™¯ï¼Œä¸ªäººè®¤ä¸ºâ€œæŸ¥å…¨ç‡â€çš„ç¿»è¯‘æ›´è´´åˆ‡ã€‚Recall = TP / (TP + FN)
- **F1 Score** ï¼ˆF1 å€¼ï¼‰ï¼šPrecision ä¸ Recall çš„è°ƒå’Œå¹³å‡ï¼Œå½“ä¸¤è€…å¹³è¡¡æ—¶å–å¾—æœ€é«˜åˆ†ã€‚F1 Score = 2 * (Precision * Recall) / (Precision + Recall)
- **Accuracy ï¼ˆå‡†ç¡®ç‡ï¼‰**ï¼šåœ¨æ‰€æœ‰æ ·æœ¬ä¸­ï¼Œé¢„æµ‹æ­£ç¡®çš„æ¯”ä¾‹ï¼Œé€‚ç”¨äºç±»åˆ«åˆ†å¸ƒè¾ƒä¸ºå‡è¡¡æ—¶çš„æ•´ä½“æ€§èƒ½è¯„ä¼°ã€‚Accuracy = (TP + TN) / (TP + TN + FP + FN)
- **BLEU**ï¼ˆBilingual Evaluation Understudyï¼›æœºå™¨ç¿»è¯‘è¯„ä¼°æŒ‡æ ‡ï¼‰ï¼šåŸºäº n-gram é‡å ç‡è¯„ä¼°ç¿»è¯‘ç»“æœä¸å‚è€ƒçš„ç›¸ä¼¼ç¨‹åº¦ã€‚
- **ROUGE**ï¼ˆRecall-Oriented Understudy for Gisting Evaluationï¼›æ‘˜è¦è¯„ä¼°æŒ‡æ ‡ï¼‰ï¼šç”Ÿæˆæ‘˜è¦ä¸å‚è€ƒåœ¨ n-gramã€æœ€é•¿å…¬å…±å­åºåˆ—æˆ–è¯é‡å æ–¹é¢çš„åŒ¹é…æƒ…å†µï¼Œå…³æ³¨å¬å›æ€§èƒ½ã€‚

[![ã€LLMåŸºç¡€æ‹“å±•ã€‘AUCã€PRã€F1ã€Precisionã€Recall](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91AUC%E3%80%81PR%E3%80%81F1%E3%80%81Precision%E3%80%81Recall.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91AUC%E3%80%81PR%E3%80%81F1%E3%80%81Precision%E3%80%81Recall.png)


### <a name="header-120"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘RoPEä½ç½®ç¼–ç 
- RoPEï¼ŒRotary Position Embeddingï¼Œ**æ—‹è½¬**ä½ç½®ç¼–ç ï¼Œç”±è‹å‰‘æ—æå‡º
- åŸç†ï¼šå¯¹ Transformer ä¸­çš„ Query å’Œ Key éšè—å‘é‡åº”ç”¨æ—‹è½¬å˜æ¢ï¼ˆåŸºäºæ­£å¼¦ã€ä½™å¼¦å‡½æ•°ï¼‰ï¼Œå°†ä½ç½®ä¿¡æ¯ç¼–ç ä¸ºå‘é‡çš„**ç›¸ä½å·®**ã€‚
- ç›¸å¯¹ä½ç½®ï¼šæ—‹è½¬æ“ä½œå¤©ç„¶åœ°ä¿ç•™äº†å‘é‡ä¹‹é—´çš„ç›¸å¯¹è§’åº¦å·®å¼‚ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿæ•æ‰**ç›¸å¯¹ä½ç½®**ä¿¡æ¯è€Œä¸ä¾èµ–ç»å¯¹ä½ç½®ç´¢å¼•ã€‚
- ä¼˜ç‚¹ï¼šæ— éœ€é¢å¤–å‚æ•°ã€è®¡ç®—**å¼€é”€ä½**ï¼›åœ¨é•¿åºåˆ—åœºæ™¯ä¸‹ç›¸è¾ƒäºä¼ ç»Ÿç»å¯¹ä½ç½®ç¼–ç å…·æœ‰æ›´å¥½çš„æ³›åŒ–å’Œæ€§èƒ½ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘RoPEä½ç½®ç¼–ç ](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RoPE%E4%BD%8D%E7%BD%AE%E7%BC%96%E7%A0%81.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RoPE%E4%BD%8D%E7%BD%AE%E7%BC%96%E7%A0%81.png)

### <a name="header-121"></a>ã€LLMåŸºç¡€æ‹“å±•ã€‘RoPEå¯¹å„åºåˆ—ä½ç½®ã€å„ç»´åº¦çš„ä½œç”¨
- RoPEåŸç†ã€Baseä¸Î¸å€¼ã€ä½œç”¨æœºåˆ¶è¯¦è§ï¼š[RoPE-theta-base.xlsx](./src/RoPE-theta-base.xlsx) 
- ç»´åº¦æˆå¯¹æ—‹è½¬ï¼šå°†åµŒå…¥å‘é‡æŒ‰å¥‡å¶ç´¢å¼•**ä¸¤ä¸¤åˆ†ç»„**ï¼Œå¯¹æ¯ä¸€å¯¹å­å‘é‡åº”ç”¨ä¸€ä¸ªäºŒç»´æ—‹è½¬çŸ©é˜µï¼Œæ—‹è½¬è§’åº¦éšä½ç½®å’Œç»´åº¦é¢‘ç‡å…±åŒå†³å®šã€‚
**é«˜é¢‘**ç»´åº¦ï¼šå¯¹åº”ä¸‹å›¾å·¦åŠåŒºã€è§’é€Ÿåº¦å¤§çš„é‚£äº›ç»´åº¦ã€‚æ—‹è½¬è§’åº¦éšä½ç½®å˜åŒ–å¿«ï¼Œå¯¹ç›¸é‚» token çš„ä½ç½®å¾®å°å·®å¼‚éå¸¸æ•æ„Ÿï¼Œæ“…é•¿æ•æ‰**çŸ­è·ç¦»**çš„å±€éƒ¨ç›¸å¯¹ä½ç½®ä¿¡æ¯ã€‚
**ä½é¢‘**ç»´åº¦ï¼šå¯¹åº”ä¸‹å›¾å³åŠåŒºã€è§’é€Ÿåº¦å°çš„é‚£äº›ç»´åº¦ã€‚æ—‹è½¬è§’åº¦éšä½ç½®å˜åŒ–æ…¢ï¼Œèƒ½å¤ŸåŒºåˆ†è¾ƒ**è¿œè·ç¦»**çš„ç›¸å¯¹ä½ç½®ä¿¡æ¯ï¼Œæ“…é•¿å»ºæ¨¡å…¨å±€æˆ–é•¿è·ç¦»ä¾èµ–ã€‚
[![ã€LLMåŸºç¡€æ‹“å±•ã€‘RoPEå¯¹å„åºåˆ—ä½ç½®ã€å„ç»´åº¦çš„ä½œç”¨](images_chinese/png_small/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RoPE%E5%AF%B9%E5%90%84%E5%BA%8F%E5%88%97%E4%BD%8D%E7%BD%AE%E3%80%81%E5%90%84%E7%BB%B4%E5%BA%A6%E7%9A%84%E4%BD%9C%E7%94%A8.png)](https://raw.githubusercontent.com/changyeyu/LLM-RL-Visualized/master/images_chinese/png_big/%E3%80%90LLM%E5%9F%BA%E7%A1%80%E6%8B%93%E5%B1%95%E3%80%91RoPE%E5%AF%B9%E5%90%84%E5%BA%8F%E5%88%97%E4%BD%8D%E7%BD%AE%E3%80%81%E5%90%84%E7%BB%B4%E5%BA%A6%E7%9A%84%E4%BD%9C%E7%94%A8.png)

<br>

---

## <a name="header-122"></a>æœ¬ä»“å›¾ç‰‡çš„æ–‡å­—è¯¦è§£ã€æ›´å¤šå›¾è§ï¼šã€Šå¤§æ¨¡å‹ç®—æ³•ï¼šå¼ºåŒ–å­¦ä¹ ã€å¾®è°ƒä¸å¯¹é½ã€‹
### ä¹¦ç±ç›®å½•
#### 
<details>
<summary>æŠ˜å  / å±•å¼€ç›®å½•</summary>

```python
ç¬¬1ç«  å¤§æ¨¡å‹åŸç†ä¸æŠ€æœ¯æ¦‚è¦
    1.1 å›¾è§£å¤§æ¨¡å‹ç»“æ„
        1.1.1 å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç»“æ„å…¨æ™¯å›¾
        1.1.2 è¾“å…¥å±‚ï¼šåˆ†è¯ã€Tokenæ˜ å°„ä¸å‘é‡ç”Ÿæˆ
        1.1.3 è¾“å‡ºå±‚ï¼šLogitsã€æ¦‚ç‡åˆ†å¸ƒä¸è§£ç 
        1.1.4 å¤šæ¨¡æ€è¯­è¨€æ¨¡å‹ï¼ˆMLLMï¼‰ä¸è§†è§‰è¯­è¨€æ¨¡å‹ï¼ˆVLMï¼‰
    1.2 å¤§æ¨¡å‹è®­ç»ƒå…¨æ™¯å›¾
    1.3 Scaling Lawï¼ˆæ€§èƒ½çš„å››å¤§æ‰©å±•è§„å¾‹ï¼‰
ç¬¬2ç«  SFTï¼ˆç›‘ç£å¾®è°ƒï¼‰
    2.1 å¤šç§å¾®è°ƒæŠ€æœ¯å›¾è§£
        2.1.1 å…¨å‚æ•°å¾®è°ƒã€éƒ¨åˆ†å‚æ•°å¾®è°ƒ
        2.1.2 LoRAï¼ˆä½ç§©é€‚é…å¾®è°ƒï¼‰â€”â€”å››ä¸¤æ‹¨åƒæ–¤
        2.1.3 LoRAè¡ç”Ÿï¼šQLoRAã€AdaLoRAã€PiSSAç­‰
        2.1.4 åŸºäºæç¤ºçš„å¾®è°ƒï¼šPrefix-Tuningã€Prompt Tuningç­‰
        2.1.5 Adapter Tuning
        2.1.6 å¾®è°ƒæŠ€æœ¯å¯¹æ¯”
        2.1.7 å¦‚ä½•é€‰æ‹©å¾®è°ƒæŠ€æœ¯
    2.2 SFTåŸç†æ·±å…¥è§£æ
        2.2.1 SFTæ•°æ®ä¸ChatMLæ ¼å¼åŒ–
        2.2.2 Logitsä¸Tokenæ¦‚ç‡è®¡ç®—
        2.2.3 SFTçš„Label
        2.2.4 SFTçš„Losså›¾è§£
        2.2.5 å¯¹æ•°æ¦‚ç‡ï¼ˆLogProbsï¼‰ä¸LogSoftmax
    2.3 æŒ‡ä»¤æ”¶é›†å’Œå¤„ç†
        2.3.1 æ”¶é›†æŒ‡ä»¤çš„æ¸ é“å’Œæ–¹æ³•
        2.3.2 æ¸…æ´—æŒ‡ä»¤çš„å››è¦ç´ 
        2.3.3 æ•°æ®é¢„å¤„ç†åŠå¸¸ç”¨å·¥å…·
    2.4 SFTå®è·µæŒ‡å—
        2.4.1 å¦‚ä½•ç¼“è§£SFTå¼•å…¥çš„å¹»è§‰ï¼Ÿ
        2.4.2 Tokençº§Batch Sizeçš„æ¢ç®—
        2.4.3 Batch Sizeä¸å­¦ä¹ ç‡çš„Scaling Law
        2.4.4 SFTçš„ä¸ƒä¸ªæŠ€å·§
ç¬¬3ç«  DPOï¼ˆç›´æ¥åå¥½ä¼˜åŒ–ï¼‰
    3.1 DPOçš„æ ¸å¿ƒæ€æƒ³
        3.1.1 DPOçš„æå‡ºèƒŒæ™¯ä¸æ„ä¹‰
        3.1.2 éšå¼çš„å¥–åŠ±æ¨¡å‹
        3.1.3 Losså’Œä¼˜åŒ–ç›®æ ‡
    3.2 åå¥½æ•°æ®é›†çš„æ„å»º
        3.2.1 æ„å»ºæµç¨‹æ€»è§ˆ
        3.2.2 Promptçš„æ”¶é›†
        3.2.3 é—®ç­”æ•°æ®å¯¹çš„æ¸…æ´—
        3.2.4 å°è£…å’Œé¢„å¤„ç†
    3.3 å›¾è§£DPOçš„å®ç°ä¸è®­ç»ƒ
        3.3.1 æ¨¡å‹çš„åˆå§‹åŒ–
        3.3.2 DPOè®­ç»ƒå…¨æ™¯å›¾
        3.3.3 DPOæ ¸å¿ƒä»£ç çš„æç‚¼å’Œè§£è¯»
    3.4 DPOå®è·µç»éªŒ
        3.4.1 Î²å‚æ•°å¦‚ä½•è°ƒèŠ‚
        3.4.2 DPOå¯¹æ¨¡å‹èƒ½åŠ›çš„å¤šç»´åº¦å½±å“
    3.5 DPOè¿›é˜¶
        3.5.1 DPOå’ŒRLHFï¼ˆPPOï¼‰çš„å¯¹æ¯”
        3.5.2 ç†è§£DPOçš„æ¢¯åº¦
ç¬¬4ç«  å…è®­ç»ƒçš„æ•ˆæœä¼˜åŒ–æŠ€æœ¯
    4.1 æç¤ºå·¥ç¨‹
        4.1.1 Zero-Shotã€One-Shotã€Few-Shot
        4.1.2 Promptè®¾è®¡çš„åŸåˆ™
    4.2 CoTï¼ˆæ€ç»´é“¾ï¼‰
        4.2.1 CoTåŸç†å›¾è§£
        4.2.2 ToTã€GoTã€XoTç­‰è¡ç”Ÿæ–¹æ³•
        4.2.3 CoTçš„åº”ç”¨æŠ€å·§
        4.2.4 CoTåœ¨å¤šæ¨¡æ€é¢†åŸŸçš„åº”ç”¨
    4.3 ç”Ÿæˆæ§åˆ¶å’Œè§£ç ç­–ç•¥
        4.3.1 è§£ç çš„åŸç†ä¸åˆ†ç±»
        4.3.2 è´ªå©ªæœç´¢
        4.3.3 Beam Searchï¼ˆæ³¢æŸæœç´¢ï¼‰ï¼šå›¾è§£ã€è¡ç”Ÿæ–¹æ³•
        4.3.4 Top-Kã€Top-Pç­‰é‡‡æ ·æ–¹æ³•å›¾è§£
        4.3.5 å…¶ä»–è§£ç ç­–ç•¥
        4.3.6 å¤šç§ç”Ÿæˆæ§åˆ¶å‚æ•°
    4.4 RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰
        4.4.1 RAGæŠ€æœ¯å…¨æ™¯å›¾
        4.4.2 RAGç›¸å…³æ¡†æ¶
    4.5 åŠŸèƒ½ä¸å·¥å…·è°ƒç”¨ï¼ˆFunction Callingï¼‰
        4.5.1 åŠŸèƒ½è°ƒç”¨å…¨æ™¯å›¾
        4.5.2 åŠŸèƒ½è°ƒç”¨çš„åˆ†ç±»
ç¬¬5ç«  å¼ºåŒ–å­¦ä¹ åŸºç¡€
    5.1 å¼ºåŒ–å­¦ä¹ æ ¸å¿ƒ
        5.1.1 å¼ºåŒ–å­¦ä¹ ï¼šå®šä¹‰ä¸åŒºåˆ†
        5.1.2 å¼ºåŒ–å­¦ä¹ çš„åŸºç¡€æ¶æ„ã€æ ¸å¿ƒæ¦‚å¿µ
        5.1.3 é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰
        5.1.4 æ¢ç´¢ä¸åˆ©ç”¨ã€Îµ-è´ªå©ªç­–ç•¥
        5.1.5 åŒç­–ç•¥ï¼ˆOn-policyï¼‰ã€å¼‚ç­–ç•¥ï¼ˆOff-policyï¼‰
        5.1.6 åœ¨çº¿/ç¦»çº¿å¼ºåŒ–å­¦ä¹ ï¼ˆOnline/Offline RLï¼‰
        5.1.7 å¼ºåŒ–å­¦ä¹ åˆ†ç±»å›¾
    5.2 ä»·å€¼å‡½æ•°ã€å›æŠ¥é¢„ä¼°
        5.2.1 å¥–åŠ±ã€å›æŠ¥ã€æŠ˜æ‰£å› å­ï¼ˆRã€Gã€Î³ï¼‰
        5.2.2 åå‘è®¡ç®—å›æŠ¥
        5.2.3 å››ç§ä»·å€¼å‡½æ•°ï¼šQÏ€ã€VÏ€ã€V*ã€Q*
        5.2.4 å¥–åŠ±ã€å›æŠ¥ã€ä»·å€¼çš„åŒºåˆ«
        5.2.5 è´å°”æ›¼æ–¹ç¨‹â€”â€”å¼ºåŒ–å­¦ä¹ çš„åŸºçŸ³
        5.2.6 Qå’ŒVçš„è½¬æ¢å…³ç³»ã€è½¬æ¢å›¾
        5.2.7 è’™ç‰¹å¡æ´›æ–¹æ³•ï¼ˆMCï¼‰
    5.3 æ—¶åºå·®åˆ†ï¼ˆTDï¼‰
        5.3.1 æ—¶åºå·®åˆ†æ–¹æ³•
        5.3.2 TD-Targetå’ŒTD-Error
        5.3.3 TD(Î»)ã€å¤šæ­¥TD
        5.3.4 è’™ç‰¹å¡æ´›ã€TDã€DPã€ç©·ä¸¾æœç´¢çš„åŒºåˆ«
    5.4 åŸºäºä»·å€¼çš„ç®—æ³•
        5.4.1 Q-learningç®—æ³•
        5.4.2 DQN
        5.4.3 DQNçš„Lossã€è®­ç»ƒè¿‡ç¨‹
        5.4.4 DDQNã€Dueling DQNç­‰è¡ç”Ÿç®—æ³•
    5.5 ç­–ç•¥æ¢¯åº¦ç®—æ³•
        5.5.1 ç­–ç•¥æ¢¯åº¦ï¼ˆPolicy Gradientï¼‰
        5.5.2 ç­–ç•¥æ¢¯åº¦å®šç†
        5.5.3 REINFORCEå’ŒActor-Criticï¼šç­–ç•¥æ¢¯åº¦çš„åº”ç”¨
    5.6 å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ ï¼ˆMARLï¼‰
        5.6.1 MARLçš„åŸç†ä¸æ¶æ„
        5.6.2 MARLçš„å»ºæ¨¡
        5.6.3 MARLçš„å…¸å‹ç®—æ³•
    5.7 æ¨¡ä»¿å­¦ä¹ ï¼ˆILï¼‰
        5.7.1 æ¨¡ä»¿å­¦ä¹ çš„å®šä¹‰ã€åˆ†ç±»
        5.7.2 è¡Œä¸ºå…‹éš†ï¼ˆBCï¼‰
        5.7.3 é€†å‘å¼ºåŒ–å­¦ä¹ ï¼ˆIRLï¼‰
        5.7.4 ç”Ÿæˆå¯¹æŠ—æ¨¡ä»¿å­¦ä¹ ï¼ˆGAILï¼‰
    5.8 å¼ºåŒ–å­¦ä¹ é«˜çº§æ‹“å±•
        5.8.1 åŸºäºç¯å¢ƒæ¨¡å‹ï¼ˆModel-Basedï¼‰çš„æ–¹æ³•
        5.8.2 åˆ†å±‚å¼ºåŒ–å­¦ä¹ ï¼ˆHRLï¼‰
        5.8.3 åˆ†å¸ƒä»·å€¼å¼ºåŒ–å­¦ä¹ ï¼ˆDistributional RLï¼‰
ç¬¬6ç«  ç­–ç•¥ä¼˜åŒ–ç®—æ³•
    6.1 Actor-Criticï¼ˆæ¼”å‘˜-è¯„å§”ï¼‰æ¶æ„
        6.1.1 ä»ç­–ç•¥æ¢¯åº¦åˆ°Actor-Critic
        6.1.2 Actor-Criticæ¶æ„å›¾è§£
    6.2 ä¼˜åŠ¿å‡½æ•°ä¸A2C
        6.2.1 ä¼˜åŠ¿å‡½æ•°ï¼ˆAdvantageï¼‰
        6.2.2 A2Cã€A3Cã€SACç®—æ³•
        6.2.3 GAEï¼ˆå¹¿ä¹‰ä¼˜åŠ¿ä¼°è®¡ï¼‰ç®—æ³•
        6.2.4 Î³å’ŒÎ»çš„è°ƒèŠ‚ä½œç”¨
    6.3 PPOåŠå…¶ç›¸å…³ç®—æ³•
        6.3.1 PPOç®—æ³•çš„æ¼”è¿›
        6.3.2 TRPOï¼ˆç½®ä¿¡åŸŸç­–ç•¥ä¼˜åŒ–ï¼‰
        6.3.3 é‡è¦æ€§é‡‡æ ·ï¼ˆImportance Samplingï¼‰
        6.3.4 PPO-Penalty
        6.3.5 PPO-Clip
        6.3.6 PPOçš„Lossçš„æ‰©å±•
        6.3.7 TRPOä¸PPOçš„åŒºåˆ«
        6.3.8 å›¾è§£ç­–ç•¥æ¨¡å‹çš„è®­ç»ƒ
        6.3.9 æ·±å…¥è§£æPPOçš„æœ¬è´¨
    6.4 GRPOç®—æ³•
        6.4.1 GRPOçš„åŸç†
        6.4.2 GRPOä¸PPOçš„åŒºåˆ«
    6.5 ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦ï¼ˆDPGï¼‰
        6.5.1 ç¡®å®šæ€§ç­–ç•¥vséšæœºæ€§ç­–ç•¥
        6.5.2 DPGã€DDPGã€TD3ç®—æ³•
ç¬¬7ç«  RLHFä¸RLAIF
    7.1 RLHFï¼ˆåŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼‰æ¦‚è¦
        7.1.1 RLHFçš„èƒŒæ™¯ã€å‘å±•
        7.1.2 è¯­è¨€æ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ å»ºæ¨¡
        7.1.3 RLHFçš„è®­ç»ƒæ ·æœ¬ã€æ€»æµç¨‹
    7.2 é˜¶æ®µä¸€ï¼šå›¾è§£å¥–åŠ±æ¨¡å‹çš„è®¾è®¡ä¸è®­ç»ƒ
        7.2.1 å¥–åŠ±æ¨¡å‹ï¼ˆReward Modelï¼‰çš„ç»“æ„
        7.2.2 å¥–åŠ±æ¨¡å‹çš„è¾“å…¥ä¸å¥–åŠ±åˆ†æ•°
        7.2.3 å¥–åŠ±æ¨¡å‹çš„Lossè§£æ
        7.2.4 å¥–åŠ±æ¨¡å‹è®­ç»ƒå…¨æ™¯å›¾
        7.2.5 å¥–åŠ±æ¨¡å‹çš„Scaling Law
    7.3 é˜¶æ®µäºŒï¼šå¤šæ¨¡å‹è”åŠ¨çš„PPOè®­ç»ƒ
        7.3.1 å››ç§æ¨¡å‹çš„è§’è‰²å›¾è§£
        7.3.2 å„æ¨¡å‹çš„ç»“æ„ã€åˆå§‹åŒ–ã€å®è·µæŠ€å·§
        7.3.3 å„æ¨¡å‹çš„è¾“å…¥ã€è¾“å‡º
        7.3.4 åŸºäºKLæ•£åº¦çš„ç­–ç•¥çº¦æŸ
        7.3.5 åŸºäºPPOçš„RLHFæ ¸å¿ƒå®ç°
        7.3.6 å…¨æ™¯å›¾ï¼šåŸºäºPPOçš„è®­ç»ƒ
    7.4 RLHFå®è·µæŠ€å·§
        7.4.1 å¥–åŠ±æ¬ºéª—ï¼ˆReward Hackingï¼‰çš„æŒ‘æˆ˜ä¸åº”å¯¹
        7.4.2 æ‹’ç»é‡‡æ ·ï¼ˆRejection Samplingï¼‰å¾®è°ƒ
        7.4.3 å¼ºåŒ–å­¦ä¹ ä¸RLHFçš„è®­ç»ƒæ¡†æ¶
        7.4.4 RLHFçš„è¶…å‚æ•°
        7.4.5 RLHFçš„å…³é”®ç›‘æ§æŒ‡æ ‡
    7.5 åŸºäºAIåé¦ˆçš„å¼ºåŒ–å­¦ä¹ 
        7.5.1 RLAIFçš„åŸç†å›¾è§£
        7.5.2 CAIï¼šåŸºäºå®ªæ³•çš„å¼ºåŒ–å­¦ä¹ 
        7.5.3 RBRï¼šåŸºäºè§„åˆ™çš„å¥–åŠ±
ç¬¬8ç«  é€»è¾‘æ¨ç†èƒ½åŠ›ä¼˜åŒ–
    8.1 é€»è¾‘æ¨ç†ï¼ˆReasoningï¼‰ç›¸å…³æŠ€æœ¯æ¦‚è§ˆ
        8.1.1 æ¨ç†æ—¶è®¡ç®—ä¸æœç´¢
        8.1.2 åŸºäºCoTçš„è’¸é¦
        8.1.3 è¿‡ç¨‹å¥–åŠ±æ¨¡å‹ä¸ç»“æœå¥–åŠ±æ¨¡å‹ï¼ˆPRM/ORMï¼‰
        8.1.4 æ•°æ®åˆæˆ
    8.2 æ¨ç†è·¯å¾„æœç´¢ä¸ä¼˜åŒ–
        8.2.1 MCTSï¼ˆè’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼‰
        8.2.2 A*æœç´¢
        8.2.3 BoNé‡‡æ ·ä¸è’¸é¦
        8.2.4 å…¶ä»–æœç´¢æ–¹æ³•
    8.3 å¼ºåŒ–å­¦ä¹ è®­ç»ƒ
        8.3.1 å¼ºåŒ–å­¦ä¹ çš„å¤šç§åº”ç”¨
        8.3.2 è‡ªåšå¼ˆï¼ˆSelf-Playï¼‰ä¸è‡ªæˆ‘è¿›åŒ–
        8.3.3 å¼ºåŒ–å­¦ä¹ çš„å¤šç»´åˆ›æ–°
ç¬¬9ç«  ç»¼åˆå®è·µä¸æ€§èƒ½ä¼˜åŒ–
    9.1 å®è·µå…¨æ™¯å›¾
    9.2 è®­ç»ƒä¸éƒ¨ç½²
        9.2.1 æ•°æ®ä¸ç¯å¢ƒå‡†å¤‡
        9.2.2 è¶…å‚æ•°å¦‚ä½•è®¾ç½®
        9.2.3 SFTè®­ç»ƒ
        9.2.4 å¯¹é½è®­ç»ƒï¼šDPOè®­ç»ƒã€RLHFè®­ç»ƒ
        9.2.5 æ¨ç†ä¸éƒ¨ç½²
    9.3 DeepSeekçš„è®­ç»ƒä¸æœ¬åœ°éƒ¨ç½²
        9.3.1 DeepSeekçš„è’¸é¦ä¸GRPOè®­ç»ƒ
        9.3.2 DeepSeekçš„æœ¬åœ°éƒ¨ç½²ä¸ä½¿ç”¨
    9.4 æ•ˆæœè¯„ä¼°
        9.4.1 è¯„ä¼°æ–¹æ³•åˆ†ç±»
        9.4.2 LLMä¸VLMçš„è¯„æµ‹æ¡†æ¶
    9.5 å¤§æ¨¡å‹æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯å›¾è°±
```

</details>

<br>
<img src="src/assets/Book_Cover.png" alt="Book Cover" width="750">

<br>



### <a name="header-123"></a>å‚è€ƒæ–‡çŒ®
- ã€Šå¤§æ¨¡å‹ç®—æ³•ï¼šå¼ºåŒ–å­¦ä¹ ã€å¾®è°ƒä¸å¯¹é½ã€‹åŸä¹¦çš„å‚è€ƒæ–‡çŒ®è¯¦è§ï¼š [å‚è€ƒæ–‡çŒ®](./src/references.md) 

---


## äº¤æµè®¨è®º
- æœ¬äººçš„ å…¬ä¼—å· / çŸ¥ä¹ / Bç«™ ï¼Œå‡å¯**ç§ä¿¡**äº¤æµã€‚
- ğŸ’š**å…¬ä¼—å·**ï¼š**å¶å­å“¥AI**ï¼Œæ‰«ç å…³æ³¨ï¼š  <a href="src/assets/WeChat.jpg"><img src="src/assets/WeChat.jpg" alt="WeChat" width="80" height="80" align="middle"></a>
- ğŸ“˜**çŸ¥ä¹**ï¼ˆå¶å­å“¥AIï¼‰ï¼š[https://www.zhihu.com/people/yezibro](https://www.zhihu.com/people/yezibro)  
- ğŸ“º**B ç«™**ï¼ˆå¶å­å“¥AIï¼‰ï¼š[https://space.bilibili.com/3546693609982728](https://space.bilibili.com/3546693609982728)  


## æ¬¢è¿å»ºè®®
- æ¬¢è¿ä¸ºæœ¬é¡¹ç›®æäº¤çº é”™ä¸ä¿®æ­£æˆ–å…¶ä»–ä»»ä½•æ”¹è¿›ï¼ç»˜å›¾æ¨¡æ¿ç¤ºä¾‹ï¼š[images-template.pptx](./src/assets/images-template.pptx) 
- æäº¤æ­¥éª¤ï¼šï¼ˆ1ï¼‰Forkï¼š ç‚¹å‡»é¡µé¢ä¸Šçš„"Fork" æŒ‰é’®ï¼Œåœ¨ä½ çš„ä¸»é¡µåˆ›å»ºç‹¬ç«‹çš„å­ä»“åº“ â†’ ï¼ˆ2ï¼‰Cloneï¼šå°†ä½ Forkåçš„å­ä»“åº“Cloneåˆ°æœ¬åœ° â†’ ï¼ˆ3ï¼‰æœ¬åœ°æ–°å»ºåˆ†æ”¯ â†’ ï¼ˆ4ï¼‰ä¿®æ”¹æäº¤ â†’ ï¼ˆ5ï¼‰Pushåˆ°è¿œç¨‹å­ä»“åº“ â†’ ï¼ˆ6ï¼‰æäº¤PRï¼šå›åˆ°Githubé¡µé¢ï¼Œåœ¨ä½ çš„å­ä»“åº“ç•Œé¢ç‚¹å‡»â€œCompare & pull requestâ€å‘èµ·PRï¼Œç­‰å¾…ç»´æŠ¤è€…å®¡æ ¸&åˆå¹¶åˆ°æ¯ä»“åº“ã€‚
- ç»˜å›¾é…è‰²ä»¥è¿™äº›é¢œè‰²ä¸ºä¸»ï¼š <span style="display:inline-block;width:12px;height:12px;background-color:#71CCF5;border-radius:2px;margin-right:8px;"></span>æµ…è“ï¼ˆç¼–ç `#71CCF5`ï¼‰ ;   <span style="display:inline-block;width:12px;height:12px;background-color:#FFE699;border-radius:2px;margin-right:8px;"></span>æµ…é»„ï¼ˆç¼–ç `#FFE699`ï¼‰; <span style="display:inline-block;width:12px;height:12px;background-color:#C0BFDE;border-radius:2px;margin-right:8px;"></span>è“ç´«ï¼ˆç¼–ç `#C0BFDE`ï¼‰ ; <span style="display:inline-block;width:12px;height:12px;background-color:#F0ADB7;border-radius:2px;margin-right:8px;"></span> ç²‰çº¢ï¼ˆç¼–ç `#F0ADB7`ï¼‰ã€‚


## ä½¿ç”¨æ¡æ¬¾
æœ¬ä»“åº“å†…æ‰€æœ‰å›¾ç‰‡å‡ä¾æ® [LICENSE](./LICENSE) è¿›è¡Œæˆæƒã€‚åªè¦éµå®ˆä¸‹æ–¹æ¡æ¬¾ï¼Œä½ å°±å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨ã€ä¿®æ”¹åŠäºŒæ¬¡åˆ›ä½œè¿™äº›ææ–™ï¼š  
- åˆ†äº« â€”â€” ä½ å¯ä»¥å¤åˆ¶å¹¶ä»¥ä»»ä½•åª’ä»‹æˆ–æ ¼å¼é‡æ–°å‘å¸ƒè¿™äº›ææ–™ã€‚  
- ä¿®æ”¹ â€”â€” ä½ å¯ä»¥å¯¹ææ–™è¿›è¡Œæ··åˆã€è½¬æ¢ï¼Œå¹¶åŸºäºå…¶åˆ›ä½œè¡ç”Ÿä½œå“ã€‚

åŒæ—¶ï¼Œä½ å¿…é¡»éµå®ˆä»¥ä¸‹æ¡æ¬¾ï¼š  
- **å¦‚æœç”¨äºç½‘ç»œ** â€”â€” å¦‚æœå°†ææ–™ç”¨äºå¸–å­ã€åšå®¢ç­‰ç½‘ç»œå†…å®¹ï¼Œè¯·åŠ¡å¿…ä¿ç•™å›¾ç‰‡ä¸­å·²åŒ…å«çš„åŸåˆ›ä½œè€…+æœ¬ä»“åº“åœ°å€ä¿¡æ¯ã€‚  
- **å¦‚æœç”¨äºè®ºæ–‡ã€ä¹¦ç±ç­‰å‡ºç‰ˆç‰©** â€”â€” å¦‚æœå°†ææ–™ç”¨äºè®ºæ–‡ã€ä¹¦ç±ç­‰æ­£å¼å‡ºç‰ˆç‰©ï¼Œè¯·æŒ‰ç…§æœ¬ä»“åº“è§„å®šçš„[å¼•ç”¨æ ¼å¼](#å¼•ç”¨æ ¼å¼)åœ¨å‚è€ƒæ–‡çŒ®ä¸­æ³¨æ˜å‡ºå¤„ï¼›åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå›¾ç‰‡ä¸­åŸæœ‰çš„åŸåˆ›ä½œè€…ä¿¡æ¯å¯ä»¥åˆ é™¤ã€‚  
- **éå•†ä¸šæ€§ä½¿ç”¨** â€”â€” ä½ ä¸å¾—å°†è¿™äº›ææ–™ç”¨äºä»»ä½•ç›´æ¥çš„å•†ä¸šç”¨é€”.



## å¼•ç”¨æ ¼å¼

- å¦‚æœä½ åœ¨è®ºæ–‡ã€è‘—ä½œæˆ–æŠ¥å‘Šä¸­ä½¿ç”¨äº†æœ¬ä»“åº“/æœ¬ä¹¦ä¸­çš„å›¾ç‰‡ç­‰å†…å®¹ï¼Œè¯·æŒ‰ä»¥ä¸‹æ ¼å¼å¼•ç”¨ï¼š

### <a name="header-124"></a>ğŸ“Œ ç”¨äºå‚è€ƒæ–‡çŒ®

- ä¸­æ–‡å¼•ç”¨æ ¼å¼ï¼ˆæ¨èï¼‰ï¼š

```
ä½™æ˜Œå¶. å¤§æ¨¡å‹ç®—æ³•ï¼šå¼ºåŒ–å­¦ä¹ ã€å¾®è°ƒä¸å¯¹é½[M]. åŒ—äº¬: ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾, 2025. https://github.com/changyeyu/LLM-RL-Visualized
```

- è‹±æ–‡(English)å¼•ç”¨æ ¼å¼ï¼š

```
Yu, Changye. Large Model Algorithms: Reinforcement Learning, Fine-Tuning, and Alignment. 
Beijing: Publishing House of Electronics Industry, 2025. https://github.com/changyeyu/LLM-RL-Visualized
```

### <a name="header-125"></a>ğŸ“Œ BibTeX å¼•ç”¨æ ¼å¼

ä¸­æ–‡ BibTeXï¼ˆæ¨èï¼‰ï¼š

```bibtex
@book{yu2025largemodel,
  title     = {å¤§æ¨¡å‹ç®—æ³•ï¼šå¼ºåŒ–å­¦ä¹ ã€å¾®è°ƒä¸å¯¹é½},
  author    = {ä½™æ˜Œå¶},
  publisher = {ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾},
  year      = {2025},
  address   = {åŒ—äº¬},
  isbn      = {9787121500725},
  url       = {https://github.com/changyeyu/LLM-RL-Visualized},
  language  = {zh}
}
```

è‹±æ–‡(English) BibTeXï¼š

```bibtex
@book{yu2025largemodel_en,
  title     = {Large Model Algorithms: Reinforcement Learning, Fine-Tuning, and Alignment},
  author    = {Yu, Changye},
  publisher = {Publishing House of Electronics Industry},
  year      = {2025},
  address   = {Beijing},
  isbn      = {9787121500725},
  url       = {https://github.com/changyeyu/LLM-RL-Visualized},
  language  = {en}
}
```

---

<div align="center">
ä»¥ä¸Šå›¾ç‰‡<strong>æ›´è¯¦ç»†</strong>çš„è§£è¯»å¯å‚è€ƒï¼š<a href="https://book.douban.com/subject/37331056/">ã€Šå¤§æ¨¡å‹ç®—æ³•ï¼šå¼ºåŒ–å­¦ä¹ ã€å¾®è°ƒä¸å¯¹é½ã€‹</a>

æ¬¢è¿ç‚¹å‡»ä»“åº“é¡¶éƒ¨çš„ **Star â­** å…³æ³¨ï¼Œ æ„Ÿè°¢é¼“åŠ±âœ¨
</div>